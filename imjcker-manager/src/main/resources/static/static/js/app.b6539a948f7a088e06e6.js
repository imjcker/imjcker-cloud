webpackJsonp([1],[,,,,,,,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAeCAYAAACmPacqAAAAAXNSR0IArs4c6QAAAupJREFUWAnll01oE1EQx7ObpIkpHiIoGA+KoLYgRamioHgpCgb8IEhIDCjoQSlF9KIexCqC4sdFUBBEPEg+LxKQ3EqEHgoKQg+C6UE8BRR7UERs8+VvQlY2JG9rd5sg+GB4L/P+M/PfeTNvNy6Xw9FoNLRUKjWbTqfHHLpy6U4diD2ERur1+rBTX5ZkeNrJTCZzyCqIpmkNpIoMWOHI3nVkygpjSYanHanVaq8gdcLKCZlZYN+nwkDiMpibyGsVRvSWZILB4EkwBZxkksnkKQtHn8H87LbPg5xn7y6Ze5hIJG51wxg6SzLhcHghFApJVnLI83w+v9owNM+BQGDU6/U+MuuMNUQmWT+Lx+OXDJ2jGYc6tbPdjhPVA9jx9f/aaN0enaLbRSeNUXTKDulmJzpsuvo08Bz5oq7rhVgsNmvojLnDkDY8wuZLjL7j970BXMF5M77X4u843VUw+20jk8vl1lSr1Q8A5v1+//5IJDJvBq/EmhgDxHgDoXV04HA0Gv1m+G1rbUD3W6wv9IKIBCX4ItMEsp4L9Y7ojPEnM9lsdh+b05CZIn0HDUCvZspBSuGo2+3eS/28lTjNzKDUyUrz0mLzSq8ImP16PJ6r1GSdBDwmfjMpTTJ0z2mAO5AMLN+ZjXq15rhKkHmK/91cqHGJo1NQq5jlnVGB4TVR9mv4fL4bEPrBNXK7WCz65XjGIbEB5RNq5WO/iEgcmuQLse+x3Fgul8/JV9ocii0o8shXZKnxi0vrAS++Tyogx74JnxfZH1RhTPpBsHJMJU+LiOwdMwGWWkqtjatApF2O+6xqX6Hf1nbPKEAdaoLt7FC2K0bbf/7dL1tkqK893EsHuoVofaZKZy572CLD0WoUfobaaPtHAJHD3Bsvls2iZaDxOdmwbczHOLYlZA4ZguRWu77EzuPEWDKE/VBLnLhq2to6JsdRFQ7+LTJ0RlVBtK9q4SGZmelrVHWwGZ1X+RlYTYOpqHE93alIfOHxG90+KIZEGtliAAAAAElFTkSuQmCC"},,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";a.d(e,"a",function(){return i});var i=function(t,e){var a=null,i="",s=0;return e=e||{},e.newlineAfterColonIfBeforeBraceOrBracket=!0===e.newlineAfterColonIfBeforeBraceOrBracket,e.spaceAfterColon=!1!==e.spaceAfterColon,a=/([\{\}])/g,t=t.replace(a,"\r\n$1\r\n"),a=/([\[\]])/g,t=t.replace(a,"\r\n$1\r\n"),a=/(\,)/g,t=t.replace(a,"$1\r\n"),a=/(\r\n\r\n)/g,t=t.replace(a,"\r\n"),a=/\r\n\,/g,t=t.replace(a,","),e.newlineAfterColonIfBeforeBraceOrBracket||(a=/\:\r\n\{/g,t=t.replace(a,":{"),a=/\:\r\n\[/g,t=t.replace(a,":[")),e.spaceAfterColon&&(a=/\:/g,t=t.replace(a,":")),t.split("\r\n").forEach(function(t,e){var a=0,n=0,o="";for(t.match(/\{$/)||t.match(/\[$/)?n=1:t.match(/\}/)||t.match(/\]/)?0!==s&&(s-=1):n=0,a=0;a<s;a++)o+="    ";i+=o+t+"\r\n",s+=n}),i}},,,,,,,,,,,,,,,,,,function(t,e,a){function i(t){a(1041)}var s=a(3)(a(566),a(1226),i,"data-v-93299b54",null);t.exports=s.exports},,,,,,,,,,,,,function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s}),a.d(e,"c",function(){return n});var i="COMMON_CACHE_DATA_UPDATE",s="WINDOW_XY_CHANGE",n="SET_COLLAPSE"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){function i(t){a(1050)}var s=a(3)(a(623),a(1235),i,"data-v-dcf0e810",null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){function i(t){a(1022)}var s=a(3)(a(561),a(1207),i,"data-v-57150000",null);t.exports=s.exports},function(t,e,a){function i(t){a(1039)}var s=a(3)(a(563),a(1224),i,"data-v-7e42f995",null);t.exports=s.exports},function(t,e,a){function i(t){a(1052)}var s=a(3)(a(568),a(1237),i,null,null);t.exports=s.exports},function(t,e,a){var i=a(3)(a(572),a(1187),null,null,null);t.exports=i.exports},function(t,e,a){function i(t){a(1032)}var s=a(3)(a(630),a(1217),i,"data-v-6c999870",null);t.exports=s.exports},,,,,,,function(t,e,a){"use strict";var i=a(25),s=a(1238),n=a(1105),o=a.n(n),r=a(1138),l=a.n(r),c=a(466),d=a.n(c),p=a(462),u=a.n(p),m=a(465),h=a.n(m),f=a(1099),g=a.n(f),v=a(464),b=a.n(v),_=a(1098),y=a.n(_),C=a(463),D=a.n(C),w=a(467),x=a.n(w),k=a(1131),L=a.n(k),I=a(1135),N=a.n(I),S=a(1132),A=a.n(S),T=a(1128),P=a.n(T),M=a(1106),B=a.n(M),F=a(1121),$=a.n(F),z=a(1122),q=a.n(z),j=a(1107),E=a.n(j),O=a(1137),V=a.n(O),R=a(479),G=a.n(R),U=a(480),H=a.n(U),W=a(1140),K=a.n(W),Y=a(1141),J=a.n(Y),Q=a(1142),Z=a.n(Q),X=a(1129),tt=a.n(X),et=a(1113),at=a.n(et),it=a(1114),st=a.n(it),nt=a(1127),ot=a.n(nt),rt=a(213),lt=(a.n(rt),a(1134)),ct=a.n(lt),dt=a(1109),pt=a.n(dt),ut=a(1120),mt=a.n(ut),ht=a(1119),ft=a.n(ht),gt=a(1117),vt=a.n(gt),bt=a(1130),_t=a.n(bt),yt=a(201),Ct=a.n(yt),Dt=a(471),wt=a.n(Dt),xt=a(478),kt=a.n(xt),Lt=a(1148),It=a.n(Lt),Nt=a(1133),St=a.n(Nt),At=a(1118),Tt=a.n(At),Pt=a(1126),Mt=a.n(Pt),Bt=a(1124),Ft=a.n(Bt),$t=a(472),zt=a.n($t),qt=a(473),jt=a.n(qt),Et=a(474),Ot=a.n(Et),Vt=a(1125),Rt=a.n(Vt),Gt=a(475),Ut=a.n(Gt),Ht=a(476),Wt=a.n(Ht),Kt=a(477),Yt=a.n(Kt),Jt=a(1111),Qt=a.n(Jt),Zt=a(1112),Xt=a.n(Zt),te=a(1136),ee=a.n(te),ae=a(1110),ie=a.n(ae),se=a(1116),ne=a.n(se),oe=a(1115),re=a.n(oe),le=a(1139),ce=a.n(le),de=a(1123),pe=a.n(de);i.default.use(s.a),e.a=new s.a({routes:[{path:"",component:ct.a,children:[{path:"",redirect:"/portManage",name:"portManage",component:l.a},{path:"/Port",name:"Port",component:o.a},{path:"/portManage",name:"portManage",component:l.a},{path:"/flowMonitoring",name:"flowMonitoring",component:L.a},{path:"/ipList",name:"ipList",component:N.a},{path:"/trafficMonitoring",name:"trafficMonitoring",component:Z.a},{path:"/flowMonitoringDetail",name:"flowMonitoringDetail",component:A.a},{path:"/findApi",name:"findApi",component:P.a},{path:"/tcpHeader",name:"tcpHeader",component:J.a},{path:"/TestApi",name:"TestApi",component:B.a},{path:"/combinationApi",name:"combinationApi",component:$.a},{path:"/combinationApi/combinationIdList",name:"combinationIdList",component:q.a},{path:"/networkRelationship",name:"networkRelationship",component:V.a},{path:"/flowRateLimit",name:"flowRateLimit",component:G.a},{path:"/flowRateLimitInterface",name:"flowRateLimitInterface",component:H.a},{path:"/serviceRoute",name:"serviceRoute",component:K.a},{path:"/TestConfig",name:"TestConfig",component:E.a},{path:"/findApiDetail",name:"findApiDetail",component:tt.a},{path:"/appList",name:"appList",component:at.a},{path:"/appListDetail",name:"appListDetail",component:st.a},{path:"/errorText",name:"errorText",component:ot.a},{path:"/codeValue",name:"codeValue",component:mt.a},{path:"/codeMap",name:"codeMap",component:ft.a},{path:"/authorityMsg",name:"authorityMsg",component:vt.a},{path:"/flowDistribution",name:"flowDistribution",component:_t.a},{path:"/apiTree",name:"apiTree",component:Ct.a},{path:"/weight",name:"weight",component:wt.a},{path:"/flowControl",name:"flowControl",component:kt.a},{path:"/portManage/newValue",name:"newValue",component:It.a},{path:"/healthCheck",name:"healthCheck",component:St.a},{path:"/apiStatistical",name:"apiStatistical",component:Xt.a},{path:"/apiStatistical/logList",name:"apiStatisticalLogList",component:ee.a},{path:"/apiDownstream",name:"apiDownstream",component:ie.a},{path:"/authList",name:"authList",component:ne.a},{path:"/appManage",name:"appManage",component:re.a},{path:"",component:pt.a,children:[{path:"/portManage/portApiManage",name:"portApiManage",component:d.a},{path:"/portManage/accreditMes",name:"accreditMes",component:u.a},{path:"/portManage/history",name:"history",component:h.a},{path:"/portManage/monitoring",name:"monitoring",component:g.a},{path:"/portManage/debugApi",name:"debugApi",component:b.a},{path:"/portManage/apiDetailNum",name:"apiDetailNum",component:D.a},{path:"/portManage/apiText",name:"apiText",component:y.a},{path:"/portManage/portExcel",name:"portExcel",component:x.a}]},{path:"/billingRule",name:"billingRule",component:Tt.a},{path:"/datasourceCharge",name:"datasourceCharge",component:Mt.a},{path:"/customerBill",name:"customerBill",component:Ft.a},{path:"/customerBillDay",name:"customerBillDay",component:zt.a},{path:"/customerBillMonth",name:"customerBillMonth",component:jt.a},{path:"/customerBillYear",name:"customerBillYear",component:Ot.a},{path:"/datasourceBill",name:"datasourceBill",component:Rt.a},{path:"/datasourceBillDay",name:"datasourceBillDay",component:Ut.a},{path:"/datasourceBillMonth",name:"datasourceBillMonth",component:Wt.a},{path:"/datasourceBillYear",name:"datasourceBillYear",component:Yt.a},{path:"/apiOfflineRecord",name:"apiOfflineRecord",component:Qt.a},{path:"/profit",name:"profit",component:ce.a},{path:"/currentLimit",name:"currentLimit",component:pe.a}]}]})},function(t,e,a){function i(t){a(980)}var s=a(3)(a(551),a(1162),i,null,null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTE3Nzk2MDIyNDEwIiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDExNzAgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIzMTQiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTguMjgxMjUiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTEwMTguMzY4IDM1Ni40MjUxNDNjMTIuMzYxMTQzIDIyLjgyMDU3MS0xNC43MDE3MTQtNDAuNDQ4LTYyLjYxMDI4Ni00MC40NDhsLTc0MS4yMjk3MTQgMC4yOTI1NzFjLTI3LjY0OCAwLTQ2LjgxMTQyOSAxMy42Nzc3MTQtNjIuOTAyODU3IDM4LjgzODg1N0MxMzUuNTMzNzE0IDM4MC4zNDI4NTcgMCA1ODkuMzg1MTQzIDAgNjMzLjYzNjU3MXYyODQuMDg2ODU4YTgwLjQ1NzE0MyA4MC40NTcxNDMgMCAwIDAgODAuNjc2NTcxIDgwLjE2NDU3MWgxMDA4LjY0YTgwLjQ1NzE0MyA4MC40NTcxNDMgMCAwIDAgODAuNjc2NTcyLTgwLjE2NDU3MVY2MzMuNjM2NTcxYzAtNDQuMjUxNDI5LTE1MS42MjUxNDMtMjc3LjIxMTQyOS0xNTEuNjI1MTQzLTI3Ny4yMTE0MjhzLTIxLjcyMzQyOS00MC40NDggMCAweiBtLTI2NC43NzcxNDMgMjU1LjI2ODU3MWEzNy41OTU0MjkgMzcuNTk1NDI5IDAgMCAwLTM4LjI1MzcxNCAyOC4wMTM3MTVjMCAyLjA0OCAwLjI5MjU3MSA0LjA5NiAwLjI5MjU3MSA2LjE0NGExMzEuMTQ1MTQzIDEzMS4xNDUxNDMgMCAwIDEtMjYyLjM2MzQyOCAwYzAtMi42MzMxNDMgMC4yOTI1NzEtNS4xOTMxNDMgMC40Mzg4NTctNy44MjYyODYtOS4zNjIyODYtMjYuMTg1MTQzLTM3LjMwMjg1Ny0yNi4zMzE0MjktMzcuMzAyODU3LTI2LjMzMTQyOUg2OS45MjQ1NzFMMTg3LjI0NTcxNCAzOTUuNjI5NzE0czIxLjUwNC0zOC43NjU3MTQgNTEuNzg1MTQzLTM3LjU5NTQyOGg2OTguODA2ODU3YzI0LjM1NjU3MSAwIDI4LjUyNTcxNCA4Ljc3NzE0MyA0Ni4wOCAzNy41OTU0MjhsMTE5LjIyMjg1NyAyMTYuMjEwMjg2aC0zNDkuNDc2NTcxek0zMzIuNDM0Mjg2IDIwMi4zODYyODZMMjQzLjI3MzE0MyAxMTcuNzZhMjMuODQ0NTcxIDIzLjg0NDU3MSAwIDEgMSAzMi45MTQyODYtMzQuNTk2NTcxbDg5LjA4OCA4NC42MjYyODVhMjMuODQ0NTcxIDIzLjg0NDU3MSAwIDAgMS0zMi44NDExNDMgMzQuNTk2NTcyTTU3OC4wNDggMTY1LjAxMDI4NmEyMy43NzE0MjkgMjMuNzcxNDI5IDAgMCAxLTcuMzg3NDI5LTE2LjY3NjU3Mkw1NjcuNDQyMjg2IDI1LjQ1MzcxNGEyMy44NDQ1NzEgMjMuODQ0NTcxIDAgMCAxIDQ3Ljc2MjI4NS0xLjI0MzQyOGwzLjE0NTE0MyAxMjIuODhhMjMuODQ0NTcxIDIzLjg0NDU3MSAwIDAgMS00MC4yMjg1NzEgMTcuOTJNODA5LjI1MjU3MSAxOTcuOTk3NzE0YTIzLjg0NDU3MSAyMy44NDQ1NzEgMCAwIDEtMC44Nzc3MTQtMzMuNzE4ODU3bDg0LjYyNjI4Ni04OS4yMzQyODZhMjMuODQ0NTcxIDIzLjg0NDU3MSAwIDAgMSAzNC41OTY1NzEgMzIuOTE0Mjg2bC04NC42MjYyODUgODkuMTYxMTQzYTIzLjg0NDU3MSAyMy44NDQ1NzEgMCAwIDEtMzMuNzE4ODU4IDAuODc3NzE0IiBwLWlkPSIyMzE1IiBmaWxsPSIjQTVBNUE1Ij48L3BhdGg+PC9zdmc+"},function(t,e,a){function i(t){a(1019)}var s=a(3)(a(552),a(1204),i,"data-v-4fdc60a0",null);t.exports=s.exports},function(t,e,a){function i(t){a(1024)}var s=a(3)(a(553),a(1209),i,"data-v-5a3f326a",null);t.exports=s.exports},function(t,e,a){function i(t){a(979)}var s=a(3)(a(555),a(1161),i,"data-v-0913d317",null);t.exports=s.exports},function(t,e,a){function i(t){a(987)}var s=a(3)(a(556),a(1169),i,"data-v-1d4530f4",null);t.exports=s.exports},function(t,e,a){function i(t){a(1046)}var s=a(3)(a(558),a(1231),i,"data-v-c4b35c04",null);t.exports=s.exports},function(t,e,a){function i(t){a(1015)}var s=a(3)(a(559),a(1200),i,"data-v-48e8e7d4",null);t.exports=s.exports},function(t,e,a){function i(t){a(993)}var s=a(3)(a(564),a(1175),i,"data-v-250b03ba",null);t.exports=s.exports},function(t,e,a){function i(t){a(981)}var s=a(3)(a(567),a(1163),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(991)}var s=a(3)(a(570),a(1173),i,"data-v-2225a896",null);t.exports=s.exports},function(t,e,a){function i(t){a(1049)}var s=a(3)(a(573),a(1234),i,"data-v-d9021b00",null);t.exports=s.exports},function(t,e,a){function i(t){a(1003)}var s=a(3)(a(594),a(1188),i,"data-v-36f3a7a3",null);t.exports=s.exports},function(t,e,a){function i(t){a(1026)}var s=a(3)(a(595),a(1211),i,"data-v-5e0a14c7",null);t.exports=s.exports},function(t,e,a){function i(t){a(1016)}var s=a(3)(a(596),a(1201),i,"data-v-4987ba74",null);t.exports=s.exports},function(t,e,a){function i(t){a(1034)}var s=a(3)(a(598),a(1219),i,"data-v-717603dc",null);t.exports=s.exports},function(t,e,a){function i(t){a(973)}var s=a(3)(a(599),a(1154),i,"data-v-016646c0",null);t.exports=s.exports},function(t,e,a){function i(t){a(989)}var s=a(3)(a(600),a(1171),i,"data-v-1df564a6",null);t.exports=s.exports},function(t,e,a){function i(t){a(1025)}var s=a(3)(a(605),a(1210),i,"data-v-5ca9599b",null);t.exports=s.exports},function(t,e,a){function i(t){a(1040)}var s=a(3)(a(609),a(1225),i,"data-v-8ab2830e",null);t.exports=s.exports},function(t,e,a){function i(t){a(1020)}var s=a(3)(a(610),a(1205),i,"data-v-5228cc70",null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var i=a(5),s=a.n(i);e.a={getUserPermissions:function(t){s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!==t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误:"+t)})},getBillingRules:function(t){s()({method:"post",url:" /gateway/charge/billingRules/chargeNameList",data:{}}).then(function(e){2e3===e.data.code?t.billingRules=e.data.data:t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("获取收费规则失败: "+t)})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},getGroupAry:function(t){s()({method:"post",url:"/apiGroup/listOfNoLowerLevelGroup",data:{}}).then(function(e){2e3===e.data.code?t.groupAry=e.data.data:t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("获取API分组下拉列表出错: "+t)})},getApiAry:function(t,e){e&&s()({method:"post",url:"/api/findApiByGroupId",data:{id:e}}).then(function(e){2e3===e.data.code?t.apiAry=e.data.data:t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("获取groupId分组下的API失败: "+t)})}}},function(t,e,a){"use strict";var i=a(1104),s=a.n(i);e.a={install:function(t,e){t.component(s.a.name,s.a)}}},function(t,e,a){"use strict";a.d(e,"a",function(){return i});var i=["/login"]},function(t,e,a){"use strict";var i=a(25),s=a(1240),n=a(637);i.default.use(s.a);e.a=new s.a.Store({modules:{common:n.a}})},function(t,e,a){"use strict";a.d(e,"a",function(){return i});var i=function(){return[{hasChildren:!0,parentIds:"",show:!0,pId:"begin",defaultChoose:!1,urls:"",name:"接口管理中心",iconCode:"",id:1,children:[{hasChildren:!1,parentIds:"/1/",parentId:1,show:!0,pId:"1",defaultChoose:!1,urls:"/portManage",name:"API列表",iconCode:"glyphicon glyphicon-align-justify",id:11},{hasChildren:!1,parentIds:"/1/",parentId:1,show:!0,pId:"1",defaultChoose:!1,urls:"/Port",name:"API分组",iconCode:"glyphicon glyphicon-th",id:12},{hasChildren:!1,parentIds:"/1/",parentId:1,show:!0,pId:"1",defaultChoose:!1,urls:"/findApi",name:"批量API",iconCode:"glyphicon glyphicon-th-list",id:13},{hasChildren:!1,parentIds:"/1/",parentId:1,show:!0,pId:"1",defaultChoose:!1,urls:"/combinationApi",name:"组合API",iconCode:"glyphicon glyphicon-th-large",id:14},{hasChildren:!1,parentIds:"/1/",parentId:1,show:!0,pId:"1",defaultChoose:!1,urls:"/apiOfflineRecord",name:"下线记录",iconCode:"glyphicon glyphicon-list-alt",id:15}]},{hasChildren:!0,parentIds:"",show:!0,pId:"begin",defaultChoose:!1,urls:"",name:"流量配置中心",iconCode:"",id:2,children:[{hasChildren:!1,parentIds:"/2/",parentId:2,show:!0,pId:"2",defaultChoose:!1,urls:"/flowMonitoring",name:"限流策略",iconCode:"glyphicon glyphicon-sound-dolby",id:21},{hasChildren:!1,parentIds:"/2/",parentId:2,show:!0,pId:"2",defaultChoose:!1,urls:"/currentLimit",name:"限流配置",iconCode:"glyphicon glyphicon-film",id:22},{hasChildren:!1,parentIds:"/2/",parentId:2,show:!0,pId:"2",defaultChoose:!1,urls:"/serviceRoute",name:"服务路由",iconCode:"glyphicon glyphicon-road",id:23}]},{hasChildren:!0,parentIds:"",show:!0,pId:"begin",defaultChoose:!1,urls:"",name:"运维监测中心",iconCode:"",id:3,children:[{hasChildren:!1,parentIds:"/3/",parentId:3,show:!0,pId:"3",defaultChoose:!1,urls:"/healthCheck",name:"健康检查",iconCode:"glyphicon glyphicon-zoom-in",id:31},{hasChildren:!1,parentIds:"/3/",parentId:3,show:!0,pId:"3",defaultChoose:!1,urls:"",name:"统计分析",iconCode:"glyphicon glyphicon-stats",id:32,children:[{hasChildren:!1,parentIds:"/3/32/",parentId:32,show:!0,pId:"32",defaultChoose:!1,urls:"/apiStatistical",name:"数据源统计",iconCode:"",id:321},{hasChildren:!1,parentIds:"/3/32/",parentId:32,show:!0,pId:"32",defaultChoose:!1,urls:"/apiDownstream",name:"客户统计",iconCode:"",id:322}]},{hasChildren:!1,parentIds:"/3/",parentId:3,show:!0,pId:"3",defaultChoose:!1,urls:"",name:"接口测试",iconCode:"glyphicon glyphicon-transfer",id:33,children:[{hasChildren:!1,parentIds:"/3/33/",parentId:33,show:!0,pId:"33",defaultChoose:!1,urls:"/TestConfig",name:"配置测试",iconCode:"",id:331},{hasChildren:!1,parentIds:"/3/33/",parentId:33,show:!0,pId:"33",defaultChoose:!1,urls:"/TestApi",name:"测试结果",iconCode:"",id:332}]},{hasChildren:!1,parentIds:"/3/",parentId:3,show:!0,pId:"3",defaultChoose:!1,urls:"/ipList",name:"ip白名单",iconCode:"glyphicon glyphicon-star",id:34}]},{hasChildren:!0,parentIds:"",show:!0,pId:"begin",defaultChoose:!1,urls:"",name:"计费管理中心",iconCode:"",id:4,children:[{hasChildren:!1,parentIds:"/4/",parentId:4,show:!0,pId:"4",defaultChoose:!1,urls:"/billingRule",name:"计费规则",iconCode:"glyphicon glyphicon-euro",id:41},{hasChildren:!1,parentIds:"/4/",parentId:4,show:!0,pId:"4",defaultChoose:!1,urls:"",name:"客户计费",iconCode:"glyphicon glyphicon-user",id:42,children:[{hasChildren:!1,parentIds:"/4/42/",parentId:42,show:!0,pId:"42",defaultChoose:!1,urls:"/appManage",name:"客户列表",iconCode:"",id:421},{hasChildren:!1,parentIds:"/4/42/",parentId:42,show:!0,pId:"42",defaultChoose:!1,urls:"/authList",name:"客户权限",iconCode:"",id:422},{hasChildren:!1,parentIds:"/4/42/",parentId:42,show:!0,pId:"42",defaultChoose:!1,urls:"/customerBill",name:"客户账单",iconCode:"",id:423}]},{hasChildren:!1,parentIds:"/4/",parentId:4,show:!0,pId:"4",defaultChoose:!1,urls:"",name:"数据源计费",iconCode:"glyphicon glyphicon-usd",id:43,children:[{hasChildren:!1,parentIds:"/4/43/",parentId:43,show:!0,pId:"43",defaultChoose:!1,urls:"/datasourceCharge",name:"数据源计费",iconCode:"",id:431},{hasChildren:!1,parentIds:"/4/43/",parentId:43,show:!0,pId:"43",defaultChoose:!1,urls:"/datasourceBill",name:"数据源账单",iconCode:"",id:432}]},{hasChildren:!1,parentIds:"/4/",parentId:4,show:!0,pId:"4",defaultChoose:!1,urls:"/profit",name:"利润",iconCode:"glyphicon glyphicon-gbp",id:44}]},{hasChildren:!0,parentIds:"",show:!0,pId:"begin",defaultChoose:!1,urls:"",name:"村镇银行",iconCode:"",id:5,children:[{hasChildren:!1,parentIds:"/5/",parentId:5,show:!0,pId:"5",defaultChoose:!1,urls:"/authorityMsg",name:"村镇银行",iconCode:"glyphicon glyphicon-credit-card",id:51}]}]}},function(t,e,a){"use strict";a.d(e,"a",function(){return s});var i=function t(e,a,i){if(e.children&&e.children.length>0)for(var s=0;s<e.children.length;s++)t(e.children[s],a,i);e.urls&&(e.urls===a||a.includes(e.urls))&&i&&i(e)},s=function(t,e){for(var a=null,s=0;s<t.length;s++){if("break"===function(s){if(i(t[s],e,function(e){e.beginNode=t[s],a=e}),a)return"break"}(s))break}return a}},,,function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ElButton",props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean},methods:{handleClick:function(t){this.$emit("click",t)},handleInnerClick:function(t){this.disabled&&t.stopPropagation()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(60);e.default={name:"app",created:function(){var t=this;window.onresize=function(){t.$store.commit(i.b)},this.$store.commit(i.b)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(62),s=a.n(i),n=a(5),o=a.n(n),r=a(1),l=a.n(r),c=a(47),d=a.n(c);e.default={name:"accreditMes",components:{menuListDetail:d.a},data:function(){var t;return t={jurisdiction:{},pageNum:1,pageSize:8,total:2,value:"",accreditMesDeatail:{},envData:{},searchApp:"",amendApp:!1,formLabelWidth:"120px",activeName:"second"},s()(t,"value",""),s()(t,"appKeyData",[]),s()(t,"appKeyData2",[]),s()(t,"radioEnv","线上"),s()(t,"env",1),s()(t,"multipleSelection",[]),s()(t,"dialogTableVisible",!1),s()(t,"dialogFormVisible",!1),s()(t,"dialogFormVisible2",!1),s()(t,"issue",!1),s()(t,"accredit",!1),s()(t,"relieveDialog",!1),s()(t,"delAccreditData",{}),t},created:function(){this.accreditMesData(),this.appDataDetail(),this.getUserPermissions()},methods:{getUserPermissions:function(){var t=this;o()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data}).catch(function(t){console.log("网络错误")})},appDataDetail:function(){var t=this,e=this.$route.query.id;o()({method:"post",url:"/gateway/charge/auth/search",data:{apiId:e,appKey:"",pageNum:this.pageNum,pageSize:8}}).then(function(e){for(var a=0;a<t.jurisdiction.perms.length;a++)"ffdf01a7b3624eebb2e4d5dff1f95ec5"==t.jurisdiction.perms[a]&&(2e3!==e.data.code?alert(e.data.message):(t.appKeyData2=e.data.data.list,t.total=e.data.data.total))}).catch(function(t){console.log(t.data.message)})},relieve:function(t,e){this.delAccreditData=e,this.relieveDialog=!0,this.delAccreditData.index=t},relieveBtn:function(){var t=this,e=this.delAccreditData,a=(this.delAccreditData.index,this.$route.query.id);o()({method:"post",url:"/app/unAccredit",data:{apiId:a,appCertificationId:e.id,env:e.env}}).then(function(e){2e3!==e.data.code?alert(e.data.message):(t.relieveDialog=!1,t.appDataDetail(),t.$message({type:"success",message:"解除授权成功"}))}).catch(function(t){console.log("网络错误")})},NoAppDataDetail:function(){var t=this;this.accredit=!0;var e=this.$route.query.id;o()({method:"post",url:"/api/findNoAccreditApps",data:{appName:""==this.searchApp?null:this.searchApp,apiId:e,env:this.env}}).then(function(e){2e3!==e.data.code?alert(e.data.message):t.appKeyData=e.data.data}).catch(function(t){console.log(t.message)})},NoAppDataDetailBtn:function(){var t=this,e=this.$route.query.id,a=0,i="";0!=this.multipleSelection.length&&(this.multipleSelection.forEach(function(t){i+=0==a?t.id:","+t.id,a++}),o()({method:"post",url:"/api/apiToApp",data:{apiId:e,appIds:i,env:this.env}}).then(function(e){2e3!==e.data.code?alert(e.data.message):(t.accredit=!1,t.appDataDetail(),t.$message({type:"success",message:"添加授权成功"}))}).catch(function(t){console.log("网络错误，不能访问")}))},radioChange:function(t){"线上"==t?(this.env=1,this.NoAppDataDetail()):"预发"==t&&(this.env=2,this.NoAppDataDetail())},handleSelectionChangeApi:function(t){this.multipleSelection=t},handleCurrentChange:function(t){this.pageNum=t,this.appDataDetail()},accreditMesData:function(){var t=this,e=this.$route.query.id;o()({method:"post",url:"/api/details",data:{id:e}}).then(function(e){for(var a=0;a<t.jurisdiction.perms.length;a++)"0a17c1e02a4b475ba99ba362a3024cba"==t.jurisdiction.perms[a]&&(t.accreditMesDeatail=e.data.data)}).catch(function(t){console.log(res.message)})},onLine:function(){t(".onLine").addClass("active"),t(".pretest").removeClass("active")},pretest:function(){t(".onLine").removeClass("active"),t(".pretest").addClass("active")},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":l()(a).format("YYYY-MM-DD HH:mm:ss")},dateFormatRang:function(t,e){var a=t.startTime,i=t.endTime;return a&&i?l()(a).format("YYYY/MM/DD HH:mm:ss")+"-"+l()(i).format("YYYY/MM/DD HH:mm:ss"):""},envFormat:function(t,e){var a=t[e.property];return void 0==a?"":1==a?"线上":"预发"}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(5),s=a.n(i);e.default={name:"codeMap",data:function(){return{method:"",uri:"",headers:[],bodys:[],querys:[],isSubmit:"",arrData:[],ObjData:"",objKey:"",objVal:"",objNew:"",ss:{},result:{statusCode:"",responseHeader:"",resultString:"",resultList:[]},pageNum:1,pageSize:10,total:0,codeData:[],searchStrategy:"",formLabelWidth:"120px",subApisArr:[],mappingArr:[],lookData:!1,callBack:"",newPage:"",props:{stripe:!1,border:!1,showHeader:!0,showSummary:!1,showRowHover:!0,showIndex:!1,treeType:!0,isFold:!1,expandType:!1,selectionType:!1},columns:[{label:"名称",prop:"paramName"},{label:"中文名称",prop:"description",width:"100px"},{label:"值",prop:"value"},{label:"说明",prop:"remark"}]}},created:function(){this.initData()},methods:{initData:function(){var e=this,a=this.$route.query.id,i=this.$route.query.apiGroupId;this.apiId=a,s()({method:"post",url:"/api/debugInfo",data:{apiId:a,groupId:i}}).then(function(a){var i=a.data.data;null==i?(e.isSubmit="不能提交",e.$message({message:"该API尚未有发布版本",type:"warning"})):(e.uri=i.uri,e.method=i.method,null!=i.headers&&""!=i.headers||t("#headers").hide(),null!=i.querys&&""!=i.querys||t("#querys").hide(),null!=i.bodys&&""!=i.bodys||t("#bodys").hide(),e.headers=i.headers,e.querys=i.querys,e.bodys=i.bodys)}).catch(function(t){console.log("网络错误，不能访问")})},sendPost:function(){var t=this,e=null,a=null,i=null;if(0!=this.headers.length){var n=[];this.headers.forEach(function(t){n.push({paramName:t.paramName,paramValue:t.model})}),e=n}if(0!=this.querys.length){var n=[];this.querys.forEach(function(t){n.push({paramName:t.paramName,paramValue:t.model})}),a=n}if(0!=this.bodys.length){var n=[];this.bodys.forEach(function(t){n.push({paramName:t.paramName,paramValue:t.model})}),i=n}if(""!=this.isSubmit)this.$message({message:"不能提交",type:"warning"});else{this.result.statusCode="",this.result.resultString="";this.$route.query.id;s()({method:"post",url:"/api/debugging",data:{idInfo:{apiId:this.apiId,apiGroupId:this.groupId},headerList:e,queryList:a,bodyList:i}}).then(function(e){t.result.statusCode=e.data.code,t.result.resultString=e.data.data,t.result.resultList=e.data.resultList}).catch(function(t){console.log("网络错误，不能访问",t.toString())})}},handleCurrentChange:function(t){this.pageNum=t,this.initData()},handleSizeChange:function(t){this.newPage=t,this.initData()}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(5),s=a.n(i),n=a(29),o=a(47),r=a.n(o);e.default={name:"apiText",components:{menuListDetail:r.a},data:function(){return{apiListData:{},requestParamsList:[],resultSettingsList:[],jurisdiction:{}}},created:function(){this.apiTextList()},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data}).catch(function(t){console.log("网络错误")})},apiTextList:function(){var e=this,i=this.$route.query.productEnvVersion;this.$route.query.apiGroupId;s()({method:"post",url:"/api/findApiInfoVersion",data:{versionId:i}}).then(function(i){for(var s=0;s<e.jurisdiction.perms.length;s++)if("4dfce3d848aa4495845d77372872a8e2"==e.jurisdiction.perms[s]){e.apiListData=i.data.data.apiInfoVersion,e.requestParamsList=i.data.data.requestParamsVersionsList,e.resultSettingsList=i.data.data.resultSettingsVersionsList;var o=a.i(n.a)(e.apiListData.callBackSuccessExample);t(".successWritePlaceDialog").html("<pre>"+o+"<pre/>")}}).catch(function(t){console.log("网络错误，不能访问")})}}}}.call(e,a(12))},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),function($){var __WEBPACK_IMPORTED_MODULE_0_axios__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_0_axios___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__),__WEBPACK_IMPORTED_MODULE_1__components_common_menuListDetail__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_1__components_common_menuListDetail___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_common_menuListDetail__);__webpack_exports__.default={name:"debugApi",components:{menuListDetail:__WEBPACK_IMPORTED_MODULE_1__components_common_menuListDetail___default.a},data:function(){return{jurisdiction:{},isShow:!1,apiId:"",groupId:"",isSubmit:"",uri:"",method:"",headers:[],bodys:[],querys:[],result:{statusCode:"",responseHeader:"",resultString:""},urlPost:!0,urlSend:"/api/debugging",urlClear:"/api/"+this.$route.query.id+"/removeKey",pickerOptions0:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},value1:""}},created:function(){this.created(),this.getUserPermissions()},methods:{getUserPermissions:function(){var t=this;__WEBPACK_IMPORTED_MODULE_0_axios___default()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data}).catch(function(t){console.log("网络错误")})},created:function(){var t=this,e=this.$route.query.id,a=this.$route.query.apiGroupId;this.apiId=e,this.groupId=a,__WEBPACK_IMPORTED_MODULE_0_axios___default()({method:"post",url:"/api/debugInfo",data:{apiId:e,groupId:a}}).then(function(e){for(var a=0;a<t.jurisdiction.perms.length;a++)if("004af54231e7457292d6bff342060f1a"==t.jurisdiction.perms[a]){var i=e.data.data;null==i?(t.isSubmit="不能提交",t.$message({message:"该API尚未有发布版本",type:"warning"})):(t.uri=i.uri,t.method=i.method,null!=i.headers&&""!=i.headers||$("#headers").hide(),null!=i.querys&&""!=i.querys||$("#querys").hide(),null!=i.bodys&&""!=i.bodys||$("#bodys").hide(),t.headers=i.headers,t.querys=i.querys,t.bodys=i.bodys)}}).catch(function(t){console.log("网络错误，不能访问")})},sendPost:function sendPost(){var _this3=this,headerList=null,queryList=null,bodyList=null;if(0!=this.headers.length){var array=[];this.headers.forEach(function(t){array.push({paramName:t.paramName,paramValue:t.model})}),headerList=array}if(0!=this.querys.length){var array=[];this.querys.forEach(function(t){array.push({paramName:t.paramName,paramValue:t.model})}),queryList=array}if(0!=this.bodys.length){var array=[];this.bodys.forEach(function(t){array.push({paramName:t.paramName,paramValue:t.model})}),bodyList=array}""!=this.isSubmit?this.$message({message:"不能提交",type:"warning"}):__WEBPACK_IMPORTED_MODULE_0_axios___default()({method:"post",url:this.urlPost?this.urlSend:this.urlClear,data:{idInfo:{apiId:this.apiId,apiGroupId:this.groupId},headerList:headerList,queryList:queryList,bodyList:bodyList}}).then(function(res){if(_this3.urlPost)_this3.result.statusCode=res.data.statusCode,_this3.result.responseHeader=res.data.responseHeader,_this3.result.resultString=eval("("+res.data.resultString+")");else{_this3.result.statusCode=res.data.code;var jsonParse=JSON.parse(res.data.data);_this3.result.resultString=jsonParse.resultString}_this3.urlPost=!0}).catch(function(t){console.log("网络错误，不能访问"),console.log(t)})},clearPost:function(){this.urlPost=!1,this.sendPost()}}}}.call(__webpack_exports__,__webpack_require__(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(5),s=a.n(i),n=a(29),o=a(1),r=a.n(o),l=a(469),c=a.n(l),d=a(47),p=a.n(d);e.default={name:"accreditMes",components:{page:c.a,menuListDetail:p.a},data:function(){return{paramLocationFomatter:function(t,e){var a=t[e.property];return void 0==a?"":1==a?"header":2==a?"query":"body"},currentPage:1,pageSize:10,total:100,apiInfoVersion:{},backendVersionsList:[],backendParamsList:[],constParamsList:[],requestParamsVersionsList:[],historyData:[],value:"",look:!1,switchover:!1,slideDatas:{},form:{name:"",date1:"",date2:"",delivery:!1,type:[],resource:""},apiGroupId:"",apiId:"",formLabelWidth:"120px",amendApiIndex:0,jurisdiction:{},vsionBtn:!1}},created:function(){this.historyInit(),this.getUserPermissions()},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data}).catch(function(t){console.log("网络错误")})},historyInit:function(){var t=this,e=this.$route.query.apiGroupId,a=this.$route.query.id;s()({method:"post",url:"/api/apiInfoVersionsList",data:{apiGroupId:e,apiId:a,pageNum:this.currentPage}}).then(function(e){t.jurisdiction.roles.includes("admin")?t.vsionBtn=!0:t.vsionBtn=!1,t.tablegroup=e.data.data.list,t.pageSize=e.data.data.pageSize,t.total=e.data.data.total,t.historyData=e.data.data.list;for(var a=0;a<t.jurisdiction.perms.length;a++)"58a4bd497f4c4bea91412a46257e2cda"==t.jurisdiction.perms[a]||"aab79de971484d95927dd87d05053612"==t.jurisdiction.perms[a]&&(t.vsionBtn=!0)}).catch(function(t){console.log("网络错误，不能访问")})},lookData:function(e){var i=this;this.apiInfoVersion={},this.backendVersionsList=[],this.requestParamsVersionsList=[],this.backendParamsList=[],this.constParamsList=[],this.apiInfoVersion=e;var o=this.apiInfoVersion.id,r=this.$route.query.apiGroupId;s()({method:"post",url:"/api/findApiInfoVersion",data:{apiGroupId:r,id:o}}).then(function(e){i.apiInfoVersion=e.data.data.apiInfoVersion,i.backendVersionsList=e.data.data.backendVersionsList,e.data.data.backendVersionsList.forEach(function(t,e){1==t.paramsType?i.backendParamsList.push(t):2==t.paramsType&&i.constParamsList.push(t)}),i.requestParamsVersionsList=e.data.data.requestParamsVersionsList,i.look=!0;var s=a.i(n.a)(i.apiInfoVersion.callBackSuccessExample);t(".writePlaces").html("<pre>"+s+"<pre/>");var o=a.i(n.a)(i.apiInfoVersion.callBackFailExample);t(".errorWritePlaces").html("<pre>"+o+"<pre/>")}).catch(function(t){console.log("网络错误，不能访问")})},switchoverData:function(t){this.slideDatas=t,this.slideDatas.productEnvVersion=this.$route.query.productEnvVersion,this.switchover=!0},switchDetail:function(){var t=this,e=this.slideDatas.pubDescription,a=this.slideDatas.id,i=this.$route.query.apiGroupId;s()({method:"post",url:"/api/reswitchVersion",data:{id:a,apiGroupId:i,pubDescription:e}}).then(function(e){2e3!==e.data.code?t.$message({message:e.data.message,type:"error"}):(t.switchover=!1,t.$message({type:"success",message:"切换版本成功"}),t.historyInit())}).catch(function(t){console.log("网络错误，不能访问")})},handleCurrentChange:function(t){this.currentPage=t,this.historyInit()},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":r()(a).format("YYYY-MM-DD HH:mm:ss")},moreStart:function(e){t(".moreMes").show(),this.amendApiIndex=e},moreEnd:function(e){t(".moreMes").hide(),this.amendApiIndex=0},tableRowClassName:function(t,e){return e%2!=0?"info-row":""}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(5),s=a.n(i),n=a(117),o=a.n(n),r=a(47),l=a.n(r),c=a(635);e.default={name:"monitoring",components:{menuListDetail:l.a},data:function(){return{isDisable:!1,hourCheck:"checked",dayCheck:"unCheck",weekCheck:"unCheck",monthCheck:"unCheck",sTime:0,eTime:0,startTime:"",endTime:"",sign:5,pickerOptions0:{disabledDate:function(t){return t.getTime()<Date.now()-864e5-2592e6||t.getTime()>=Date.now()}},pickerOptions1:{disabledDate:function(t){return t.getTime()<Date.now()-864e5-2592e6||t.getTime()>=Date.now()}},value0:"",value1:""}},mounted:function(){var e=new Date,i=e.getMonth()+1,s=e.getDate();i>=1&&i<=9&&(i="0"+i),s>=0&&s<=9&&(s="0"+s);var n=e.getFullYear()+"-"+i+"-"+s+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();n=new Date(Date.parse(n.replace(/-/g,"/"))),n=n.getTime();var o=n-36e5;t(".el-date-editor--datetime")[0].lastElementChild.value=a.i(c.a)(o,"yyyy-MM-dd hh:mm:ss"),t(".el-date-editor--datetime")[1].lastElementChild.value=a.i(c.a)(n,"yyyy-MM-dd hh:mm:ss");var r=parseInt(o),l=parseInt(n);this.startTime=r,this.endTime=l,this.sTime=r,this.eTime=l,this.sign=1,this.timesAjax(),this.respAjax(),this.codesAjax()},methods:{pickTime0:function(e){var i=new Date(Date.parse(e.replace(/-/g,"/"))),s=Date.parse(new Date(t(".el-date-editor--datetime")[1].lastElementChild.value));i=i.getTime(),this.sTime=i,this.pickerOptions1.disabledDate=function(t){return t.getTime()<=i-864e5||t.getTime()>=Date.now()},parseInt(i)>parseInt(s)&&(t(".el-date-editor--datetime")[1].lastElementChild.value=a.i(c.a)(i,"yyyy-MM-dd hh:mm:ss"))},pickTime1:function(e){var i=new Date(Date.parse(e.replace(/-/g,"/"))),s=Date.parse(new Date(t(".el-date-editor--datetime")[0].lastElementChild.value));i=i.getTime(),this.eTime=i,this.pickerOptions0.disabledDate=function(t){return t.getTime()<=Date.now()-864e5-2592e6||t.getTime()>i},parseInt(s)>parseInt(i)&&(t(".el-date-editor--datetime")[0].lastElementChild.value=a.i(c.a)(i,"yyyy-MM-dd hh:mm:ss"))},timesAjax:function(){var t=this.$route.query.id;s()({method:"post",url:"/monitor/times",data:{apiId:t,sign:this.sign,startTime:this.startTime,endTime:this.endTime}}).then(function(t){for(var e=o.a.init(document.getElementById("reqTimes")),a=t.data.data.time,i=[],s=[],n=[],r=0;r<a.length;r++)i[r]=a[r].split(" ")[1].split(":")[0]+":"+a[r].split(" ")[1].split(":")[1],s[r]=a[r].split(" ")[0].split("年")[1],n[r]=s[r]+" "+i[r];var l={tooltip:{trigger:"axis",formatter:function(t,e,i){return a[t[0].dataIndex]+"</br>请求次数 ："+t[0].data}},legend:{data:["请求次数"]},calculable:!0,xAxis:[{type:"category",boundaryGap:!1,data:n}],yAxis:[{type:"value"}],series:[{name:"请求次数",type:"line",stack:"总量",data:t.data.data.number}]};e.setOption(l)}).catch(function(t){console.log("网络错误，不能访问")})},respAjax:function(){var t=this.$route.query.id;s()({method:"post",url:"/monitor/responses",data:{apiId:t,sign:this.sign,startTime:this.startTime,endTime:this.endTime}}).then(function(t){for(var e=o.a.init(document.getElementById("respTimes")),a=t.data.data.time,i=[],s=[],n=[],r=0;r<a.length;r++)i[r]=a[r].split(" ")[1].split(":")[0]+":"+a[r].split(" ")[1].split(":")[1],s[r]=a[r].split(" ")[0].split("年")[1],n[r]=s[r]+" "+i[r];var l={tooltip:{trigger:"axis",formatter:function(t,e,i){return a[t[0].dataIndex]+"</br>响应时间 ："+t[0].data}},legend:{data:["响应时间"]},calculable:!0,xAxis:[{type:"category",boundaryGap:!1,data:n}],yAxis:[{type:"value"}],series:[{name:"响应时间",type:"line",stack:"总量",data:t.data.data.response}]};e.setOption(l)}).catch(function(t){console.log("网络错误，不能访问")})},codesAjax:function(){var t=this.$route.query.id;s()({method:"post",url:"/monitor/codes",data:{apiId:t,sign:this.sign,startTime:this.startTime,endTime:this.endTime}}).then(function(t){var e={};e.code=t.data.data.codes,e.times=t.data.data.times;var a=[],i=[];for(var s in e.code)i.push(s),a.push({name:s,type:"line",data:e.code[s]});var n=o.a.init(document.getElementById("errorDistribute")),r={tooltip:{trigger:"axis"},legend:{data:i},calculable:!0,xAxis:[{type:"category",boundaryGap:!1,data:e.times}],yAxis:[{type:"value"}],series:a};n.setOption(r)}).catch(function(t){console.log("网络错误，不能访问")})},search:function(){var e=Date.parse(new Date(t(".el-date-editor--datetime")[0].lastElementChild.value)),a=Date.parse(new Date(t(".el-date-editor--datetime")[1].lastElementChild.value));e=parseInt(e),a=parseInt(a),this.startTime=e,this.endTime=a,this.sign=5,this.timesAjax(),this.respAjax(),this.codesAjax()},hours:function(){this.hourCheck="checked",this.dayCheck="unCheck",this.weekCheck="unCheck",this.monthCheck="unCheck",this.sign=1;var e=new Date,i=e.getMonth()+1,s=e.getDate();i>=1&&i<=9&&(i="0"+i),s>=0&&s<=9&&(s="0"+s);var n=e.getFullYear()+"-"+i+"-"+s+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();n=new Date(Date.parse(n.replace(/-/g,"/"))),n=n.getTime();var o=n-36e5;t(".el-date-editor--datetime")[0].lastElementChild.value=a.i(c.a)(o,"yyyy-MM-dd hh:mm:ss"),t(".el-date-editor--datetime")[1].lastElementChild.value=a.i(c.a)(n,"yyyy-MM-dd hh:mm:ss");var r=parseInt(o),l=parseInt(n);this.startTime=r,this.endTime=l,this.timesAjax(),this.respAjax(),this.codesAjax()},today:function(){this.hourCheck="unCheck",this.dayCheck="checked",this.weekCheck="unCheck",this.monthCheck="unCheck",this.sign=2;var e=new Date,i=e.getMonth()+1,s=e.getDate();i>=1&&i<=9&&(i="0"+i),s>=0&&s<=9&&(s="0"+s);var n=e.getFullYear()+"-"+i+"-"+s+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();n=new Date(Date.parse(n.replace(/-/g,"/"))),n=n.getTime();var o=n-(3600*e.getHours()*1e3+60*e.getMinutes()*1e3+1e3*e.getSeconds());t(".el-date-editor--datetime")[0].lastElementChild.value=a.i(c.a)(o,"yyyy-MM-dd hh:mm:ss"),t(".el-date-editor--datetime")[1].lastElementChild.value=a.i(c.a)(n,"yyyy-MM-dd hh:mm:ss");var r=parseInt(o),l=parseInt(n);this.startTime=r,this.endTime=l,this.timesAjax(),this.respAjax(),this.codesAjax()},weeks:function(){this.hourCheck="unCheck",this.dayCheck="unCheck",this.weekCheck="checked",this.monthCheck="unCheck",this.sign=3;var e=new Date,i=e.getMonth()+1,s=e.getDate();i>=1&&i<=9&&(i="0"+i),s>=0&&s<=9&&(s="0"+s);var n=e.getFullYear()+"-"+i+"-"+s+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();n=new Date(Date.parse(n.replace(/-/g,"/"))),n=n.getTime();var o=n-6048e5;t(".el-date-editor--datetime")[0].lastElementChild.value=a.i(c.a)(o,"yyyy-MM-dd hh:mm:ss"),t(".el-date-editor--datetime")[1].lastElementChild.value=a.i(c.a)(n,"yyyy-MM-dd hh:mm:ss");var r=parseInt(o),l=parseInt(n);this.startTime=r,this.endTime=l,this.timesAjax(),this.respAjax(),this.codesAjax()},months:function(){this.hourCheck="unCheck",this.dayCheck="unCheck",this.weekCheck="unCheck",this.monthCheck="checked",this.sign=4;var e=new Date,i=e.getMonth()+1,s=e.getDate();i>=1&&i<=9&&(i="0"+i),s>=0&&s<=9&&(s="0"+s);var n=e.getFullYear()+"-"+i+"-"+s+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();n=new Date(Date.parse(n.replace(/-/g,"/"))),n=n.getTime();var o=n-2592e6;t(".el-date-editor--datetime")[0].lastElementChild.value=a.i(c.a)(o,"yyyy-MM-dd hh:mm:ss"),t(".el-date-editor--datetime")[1].lastElementChild.value=a.i(c.a)(n,"yyyy-MM-dd hh:mm:ss");var r=parseInt(o),l=parseInt(n);this.startTime=r,this.endTime=l,this.timesAjax(),this.respAjax(),this.codesAjax()}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(61),s=a.n(i),n=a(88),o=a.n(n),r=a(62),l=a.n(r),c=a(29),d=a(5),p=a.n(d),u=a(212),m=a(1108),h=a.n(m),f=a(468),g=a.n(f);e.default={name:"portApiManage",components:{router:u.a,amendApiData:h.a,jsonData:g.a},data:function(){var e,i=this;return e={jurisdiction:{},groupOptions:[],amendBtn:!1,optionsBool:[{value:1,label:"true"},{value:2,label:"false"}],mqTypeOptions:[{value:1,label:"rabbbitmq"},{value:2,label:"kafka"}],successVal:function(e,s,n){if(""===s)n(new Error("输入值不能为空"));else{var o=a.i(c.a)(i.apiList.callBackSuccessExample);t(".successWritePlaceDialog").html("<pre>"+o+"<pre/>"),t(".successWritePlaceDialog").show(),n()}},errorVal:function(e,s,n){var o=a.i(c.a)(i.apiList.callBackFailExample);t(".errorWritePlaceDialog").html("<pre>"+o+"<pre/>"),t(".errorWritePlaceDialog").show()},commonValidate:function(t,e,a){var i=/.+/,s=/\s+/;!1===i.test(e)?a(new Error("输入值不能为空和包含其他非法字符")):s.test(e)?a(new Error("不能输入空格")):a()},backTimeCheckUnEmpty:function(t,e,a){var i=/^(?!0)(?:[0-9]{1,5}|60000)$/;""===e?a(new Error("请输入请求后端超时，必须为数字")):!1===i.test(e)?a(new Error("后端超时必须大于等于1ms，小于等于60000ms，并且必须为数字")):e>6e4?a(new Error("后端超时必须大于等于1ms，小于等于60000ms，并且必须为数字")):a()},weightVal:function(t,e,a){var i=/^([0-9]{1,2}|10)$/;""===e?a(new Error("请输入请求后端超时，必须为数字")):!1===i.test(e)?a(new Error("权重必须为0-10之间的整数")):e>10?a(new Error("权重必须为0-10之间的整数")):a()},checkReqPath:function(t,e,a){var i=/^[^\u4e00-\u9fa5]{0,}$/,s=/^(\/[A-Za-z0-9_.])+./;""===e?a(new Error("请输入请求Path")):!1===i.test(e)?a(new Error("请输入正确的格式,例如/getUserInfo/[userId]")):!1===s.test(e)?a(new Error("请输入正确的格式,例如/getUserInfo/[userId]")):a()},checkReqPathBackend:function(t,e,a){var i=/^[^\u4e00-\u9fa5]{0,}$/,s=/^(\/[A-Za-z0-9_.])*./;e?!1===i.test(e)?a(new Error("请输入正确的格式,例如/getUserInfo/[userId]")):!1===s.test(e)?a(new Error("请输入正确的格式,例如/getUserInfo/[userId]")):a():a(new Error("请输入请求Path"))},checkBackAddress:function(t,e,a){console.log(e,"12");var i=/^[^\u4e00-\u9fa5]{0,}$/,s=/^[a-zA-z]+:\/\//;""===e?a(new Error("请输入后端服务地址")):!1===i.test(e)?a(new Error("请输入正确的格式,例如http://www.baidu.com")):!1===s.test(e)?a(new Error("请输入正确的格式,例如http://www.baidu.com")):a()},checkBackAddress2:function(t,e,a){console.log(e,"3");var i=/^(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9]):\d{0,5}/;""===e?a(new Error("请输入后端服务地址")):!1===i.test(e)?a(new Error("请输入正确的格式,例如172.32.3.176:7302")):a()},dialogVisible:!1,amendInterface:!1,interfaceNameModel:"",interfaceNameId:"",cacheDataVal:"",value:"",amendApi:!1,radio:"1",cacheInput:1,cacheInputOptions:[],apiList:{},subApiListNewArr:[],backendList:[],requestMessageList:[],requestParamsList:[{paramsType:""}],resultSettingsList:[],apiList2:{},requestParamsList2:[],subApiList2:[],childIdCom:"",paramsLocationOptions:[],paramsTypeOptions:[],paramsLocationOptions2:[],httpMethodOptions:[],backendProtocolTypeOptions:[],tcpHeaderIdOptions:[],isMockOptions:[],chargeOptions:[],formLabelWidth:"120px",firstDialog:!1,secondDialog:!1,thirdDialog:!1,fourDialog:!1,checked:!0,valMapDialg:!1,codeMap:!1,amendApiIndexEdit:0,etlIndex:0,cacheUnitInput:"",backEndParam:[],backEndParam2:[],numData:[],numDataJson:[],numDataXml:[],activeName:"res",activeBack:"backValTab",activeNameJSon:"first",jsonType:[{value:1,label:"string"},{value:2,label:"number"},{value:3,label:"boolean"},{value:4,label:"object"},{value:5,label:"array"}]},l()(e,"cacheInputOptions",[{value:1,label:"是"},{value:2,label:"否"}]),l()(e,"codeValMap",[]),l()(e,"dictItemNameOptions",[]),l()(e,"keyOptions",[]),l()(e,"subApiListArr",[]),l()(e,"resparamsMust",[]),l()(e,"interfaceNameFlow",""),l()(e,"addflowData",{subThirdApiInfo:{},subThirdRequestInfo:[{requestParamsId:"",paramsType:"",paramName:"",paramValue:"",paramsLocation:"",paramDescription:""}]}),l()(e,"showEditBtn",!1),e},created:function(){this.$route.query.id&&this.apidata(),this.haveData(),this.loadGroups(),this.getUserPermissions(),this.amendApiBtn()},methods:{tcpSelect:function(t){},slideList:function(t){3!==t&&(this.apiList.backEndHttpMethod=2,this.paramsLocationOptions2=[],this.paramsLocationOptions2.push({value:2,label:"query"},{value:1,label:"header"},{value:3,label:"body"}))},amendApiBtn:function(){1==this.$route.query.amend&&(this.amendValue(),this.firstDialog=!0)},amendPortBtn:function(){this.firstDialog=!0},getUserPermissions:function(){var t=this;p()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0==t.jurisdiction.perms.length||null==t.jurisdiction.perms?t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})}):(t.jurisdiction.roles&&t.jurisdiction.roles.includes("admin")?t.showEditBtn=!0:t.showEditBtn=!1,t.$nextTick(function(){t.$refs.amendApiDataRef.setRole(t.jurisdiction.roles)}))}).catch(function(t){console.log("网络错误")})},parTypeSix:function(t){6==t&&this.requestParamsList.map(function(t){t.paramsDefaultValue=""})},moreTime:function(){"3"==this.apiList.cacheUnit?(this.apiList.cacheNo=0,t(".chacheTimeInput").show()):this.apiList.cacheNo||(t(".chacheTimeInput").hide(),this.apiList.cacheNo="")},cacheData:function(){null==this.apiList.cacheNo&&null==this.apiList.cacheUnit?this.cacheInput=2:null==this.apiList.cacheNo?(t(".chacheTimeInput").show(),this.apiList.cacheNo=0,this.apiList.cacheUnit=this.cacheDataVal.toString()):this.apiList.cacheUnit=this.cacheDataVal.toString()},selectCache:function(){2==this.cacheInput&&(this.apiList.cacheNo=null,this.apiList.cacheUnit=null)},selectMock:function(){2==this.apiList.isMock&&(this.apiList.mockData="")},amendInterfaceBtn:function(){var t=this;this.$route.query.num&&p()({method:"post",url:"/api/back/sub/update/name",data:{subThirdApiInfo:{interfaceName:this.apiList.interfaceName,apiid:this.$route.query.item2.apiId,id:null==this.$route.query.item2.id?"":this.$route.query.item2.id}}}).then(function(e){console.log(e,"修改子接口"),2e3==e.data.code?t.amendInterface=!1:t.$message.warning(e.data.message)}).catch(function(t){console.log("网络错误，不能访问")})},jsonTable:function(e,a){var i=[{errorCode:200,errorMsg:"请求成功",uid:"20170502142940611cQWhmEZbMokHVNS",data:{result:0,name:"邓汉海",description:"The record not found",id:"460026197603204813",brand:""}}];1==e.index&&(t(".jsonHtml").html(""),this.parseJSONObject(i,0))},parseJSONObject:function(e,a){for(var i in e){var s,n="",r=!1;n+='<tr class="example">',n+="<td><span>"+a+"</span></td>",n+="<td>"+i+"</td>","number"==typeof e[i]?s="number":"string"==typeof e[i]?s="string":"object"==o()(e[i])&&(s="object",r=!0),n+='<td><select class="form-control" disabled="disabled"><option>'+s+"</option></select></td>",n+='<td><input class="form-control" /></td>',n+='<td><select class="form-control" disabled="disabled"><option value="1">是</option><option value="2">否</option></select></td>';var l=t('<button type="text" class="radiusBtn" size="small">码值映射</button>').click(this.codeMapFunc),c=t('<button type="text" class="radiusBtn" size="small">删除</button>').click(this.delBtnFunc),d=t('<button type="text" class="radiusBtn" size="small">添加</button>').click(this.addBtnFunc),p=t("<td></td>").append(l,c,d);n+="</tr > ";var p=t(n).append(p);t(".jsonHtml").append(p),r&&this.parseJSONObject(e[i],++a)}},codeMapFunc:function(){var t=this;this.codeMap=!0,p()({method:"post",url:"/dict/query/item",data:{pageSize:10,pageNum:this.pageNum}}).then(function(e){t.codeValMap=e.data.data.list,t.dictItemNameOptions=[],t.keyOptions=[],e.data.data.list.map(function(e){t.dictItemNameOptions.push({label:e.dictItemName,id:e.dictionaryId}),t.keyOptions.push({label:e.dictValue,id:e.id})})}).catch(function(t){console.log("网络错误，不能访问")})},delBtnFunc:function(){},addBtnFunc:function(){},delCodeMap:function(t){this.codeValMap.splice(t,1)},leadJson:function(){this.activeNameJSon="second"},formatVal:function(){this.numDataJson.map(function(e){var i=a.i(c.a)(e.paramValue);t(".jsonWritePlaceDialog").html("<pre>"+i+"<pre/>"),t(".jsonWritePlaceDialog").show()})},handleClick:function(t,e){3==this.apiList.backendProtocolType?(this.numData.splice(e,1),this.numDataJson.splice(e,1),this.numDataXml.length<1&&this.numDataXml.push({paramName:"",paramValue:"",paramsLocation:3,paramDescription:"",paramsType:4})):0==t.index?(this.numData.splice(e,1),this.numDataJson.splice(e,1),this.numDataXml.splice(e,1)):1==t.index?(this.numData.splice(e,1),this.numDataXml.splice(e,1),this.numDataJson.length<1&&this.numDataJson.push({paramName:"",paramValue:"",paramsLocation:3,paramDescription:"",paramsType:3})):2==t.index&&(this.numData.splice(e,1),this.numDataJson.splice(e,1),this.numDataXml.length<1&&this.numDataXml.push({paramName:"",paramValue:"",paramsLocation:3,paramDescription:"",paramsType:4}))},amendValue:function(){var t=this;this.backendList.map(function(e){2==e.paramsType?t.activeName="res":3==e.paramsType?t.activeName="json":4==e.paramsType?t.activeName="xml":t.activeName=""})},configFous:function(){var t=this;console.log(this.childIdCom,"apiId"),console.log(void 0==this.$route.query.id?this.childIdCom:this.$route.query.id,"hahah"),p()({method:"post",url:"/api/"+(void 0==this.$route.query.id?this.childIdCom:this.$route.query.id)+"/pretty",data:{responseTransParam:this.apiList.jsonConfig}}).then(function(e){t.apiList.jsonConfig=e.data.data}).catch(function(t){console.log("网络错误，不能访问")})},saveMQval:function(){2==this.apiList.saveMQ&&(this.apiList.mqType="",this.apiList.mqAddress="",this.apiList.mqUserName="",this.apiList.mqPasswd="",this.apiList.mqTopicName="")},saveMdb:function(){2==this.apiList.saveMongoDB&&(this.apiList.mongodbURI="",this.apiList.mongodbDBName="",this.apiList.mongodbCollectionName="")},successClcik:function(){t(".successWritePlaceDialog").hide()},jsonClcik:function(){t(".jsonWritePlaceDialog").hide()},errorClcik:function(){t(".errorWritePlaceDialog").hide()},displayVal:function(){t(".commonVaL").hide()},maxLine:function(){for(var e=0;e<this.requestParamsList.length;e++)parseInt(this.requestParamsList[e].maxLength)<parseInt(this.requestParamsList[e].minLength)?t(".maxDate").show():t(".maxDate").hide()},minLine:function(){for(var e=0;e<this.requestParamsList.length;e++)parseInt(this.requestParamsList[e].maxLength)<parseInt(this.requestParamsList[e].minLength)?t(".maxDate").show():t(".maxDate").hide()},lineValue:function(){for(var e=!0,a=0;a<this.requestParamsList.length;a++)if(parseInt(this.requestParamsList[a].maxLength)<parseInt(this.requestParamsList[a].minLength)){t(".maxDate").show();var e=!1}e&&(t(".maxDate").hide(),this.amendApi=!1)},httpMethodChange:function(){if(null==this.apiList.httpMethod&&(this.apiList.httpMethod=2),2==this.apiList.httpMethod)this.paramsLocationOptions=[],this.paramsLocationOptions.push({value:2,label:"query"},{value:1,label:"header"},{value:3,label:"body"}),this.requestParamsList.map(function(t){t.paramsLocation?t.paramsLocation=t.paramsLocation:t.paramsLocation=3});else{if(this.requestParamsList.map(function(t){t.paramsLocation?t.paramsLocation=t.paramsLocation:t.paramsLocation=2}),this.requestParamsList)for(var t=this.requestParamsList,e=0;e<t.length;e++)if(3==t[e].paramsLocation&&null!==this.apiList.backEndMethod)return this.$message({message:"参数列表中含有body参数,不能选择GET",type:"warning"}),void(this.apiList.httpMethod=2);this.paramsLocationOptions=[],this.paramsLocationOptions.push({value:2,label:"query"},{value:1,label:"header"})}},httpMethodChange2:function(t){if(null==this.apiList.backEndHttpMethod&&(this.apiList.backEndHttpMethod=2),2==this.apiList.backEndHttpMethod)this.paramsLocationOptions2=[],this.paramsLocationOptions2.push({value:1,label:"header"},{value:2,label:"query"},{value:3,label:"body"}),this.backEndParam.map(function(t){t.paramsLocation?t.paramsLocation=t.paramsLocation:t.paramsLocation=3}),this.numData.map(function(t){});else{if(console.log(this.apiList.backEndHttpMethod,"222"),this.backEndParam.map(function(t){t.paramsLocation?t.paramsLocation=t.paramsLocation:t.paramsLocation=2}),this.backEndParam||this.numData){var e=[];if(this.backEndParam)for(var a=0;a<this.backEndParam.length;a++)e.push(this.backEndParam[a]);if(this.numData)for(var i=0;i<this.numData.length;i++)e.push(this.numData[i]);for(var s=0;s<e.length;s++)if(3==e[s].paramsLocation&&null!==this.apiList.backEndHttpMethod)return this.$message({message:"参数列表中含有body参数,不能选择GET",type:"warning"}),void(this.apiList.backEndHttpMethod=2)}this.paramsLocationOptions2=[],this.paramsLocationOptions2.push({value:2,label:"query"},{value:1,label:"header"})}},paraNameVal:function(e,a){t(".jqueryValidateSame").hide();var i=/^[^\u4e00-\u9fa5]{1,200}$/,s=/\s+/;""===e.paramName||0==i.test(e.paramName)||s.test(e.paramName)?(t(".jqueryValidate").eq(a).show(),t(".jqueryValidateSame").eq(a).hide()):(t(".jqueryValidate").eq(a).hide(),"same"===this.judgeSame(e,a,this.requestParamsList,"")?t(".jqueryValidateSame").eq(a).show():t(".jqueryValidateSame").eq(a).hide())},IntegerNumVal:function(e,a){var i=/^[0-9]+([.]{1,200}[0-9]+){0,1}$/,s=/\s+/;""===e?t(".IntegerNum").eq(a).hide():0==i.test(e)||s.test(e)?t(".IntegerNum").eq(a).show():t(".IntegerNum").eq(a).hide()},IntegerNumValBool:function(t,e){console.log(t)},paraNameVal2:function(e,a){var i=/^[^\u4e00-\u9fa5]{1,200}$/,s=/\s+/;""===e.paramName||s.test(e.paramName)?(t(".jqueryValidate2").eq(a).show(),t(".jqueryValidate8").eq(a).hide()):0==i.test(e.paramName)?(t(".jqueryValidate2").eq(a).hide(),t(".jqueryValidate8").eq(a).show()):(t(".jqueryValidate2").eq(a).hide(),t(".jqueryValidate8").eq(a).hide())},paraNameVal4:function(e,a){var i=/^[a-zA-Z0-9_\u4e00-\u9fa5]{1,200}$/;""===e.paramName?(t(".jqueryValidate4").eq(a).show(),t(".jqueryValidate7").eq(a).hide()):0==i.test(e.paramName)?(t(".jqueryValidate4").eq(a).hide(),t(".jqueryValidate7").eq(a).show()):(t(".jqueryValidate4").eq(a).hide(),t(".jqueryValidate7").eq(a).hide())},paraNameVal5:function(e,a){var i=/^[^\u4e00-\u9fa5]{1,200}$/;""===e?(t(".jqueryValidate5").eq(a).show(),t(".jqueryValidate6").eq(a).hide()):0==i.test(e)?(t(".jqueryValidate5").eq(a).hide(),t(".jqueryValidate6").eq(a).show()):(t(".jqueryValidate5").eq(a).hide(),t(".jqueryValidate6").eq(a).hide())},closeDialog:function(t){var e=this;this.$route.query.num?this.$confirm("确认关闭？").then(function(a){t(),e.$router.back()}).catch(function(t){}):this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},haveData:function(){1==this.$route.query.num&&(null!==this.$route.query.item2.id?(this.amendFlowApi(),this.thirdDialog=!0):(this.apidata(),this.thirdDialog=!0))},amendFlowApi:function(){var t=this;p()({method:"post",url:"/api/back/sub/get",data:{apiId:this.$route.query.item2.apiId,id:this.$route.query.item2.id}}).then(function(e){t.apiList=e.data.data.subThirdApiInfo,t.childIdCom=e.data.data.subThirdApiInfo.apiId,t.apiList.callBackFailExample=e.data.data.apiInfo.callBackFailExample,t.apiList.callBackSuccessExample=e.data.data.apiInfo.callBackSuccessExample,t.apiList.id=e.data.data.subThirdApiInfo.apiId,t.apiList.backEndHttpMethod=e.data.data.apiInfo.backEndHttpMethod,t.apiList.isMock=e.data.data.apiInfo.isMock,t.apiList.MockData=e.data.data.apiInfo.mockData,t.requestParamsList=e.data.data.requestParamsList,t.resultSettingsList=e.data.data.resultSettingsList,t.backendList=e.data.data.subThirdRequestInfo,t.backendList.forEach(function(e,a){1==e.paramsType?t.backEndParam.push(e):2==e.paramsType?t.numData.push(e):3==e.paramsType?t.numDataJson.push(e):4==e.paramsType&&t.numDataXml.push(e)}),e.data.data.requestParamsList.map(function(t){3==t.paramsLocation&&(t.paramsLocation="body")}),t.amendValue(),t.slider()}).catch(function(t){console.log("网络错误，不能访问")})},apidata:function(){var e=this,i=this,s=this.$route.query.id;this.$route.query.apiGroupId;p()({method:"post",url:"/api/findApiInfo",data:{id:null==s?this.$route.query.item2.apiId:s,apiGroupId:null}}).then(function(s){e.subApiListNewArr=s.data.data.subApiList,e.cacheDataVal=null==s.data.data.apiInfo.cacheUnit?"":s.data.data.apiInfo.cacheUnit,e.$route.query.num&&(s.data.data.requestParamsList.map(function(t){3==t.paramsLocation&&(t.paramsLocation="body")}),e.apiList.interfaceName=e.$route.query.item2.interfaceName,s.data.data.backendList.forEach(function(t,a){1==t.paramsType?e.backEndParam.push(t):2==t.paramsType&&(e.numData=[])}));for(var n=0;n<e.jurisdiction.perms.length;n++)if("2473155f7eab4b638e4688b088022c79"==e.jurisdiction.perms[n]){var o=s.data.data.requestParamsList;e.resparamsMust=o;var r=s.data.data.subApiList;e.subApiListArr=s.data.data.subApiList,e.interfaceNameModel=r[0].interfaceName,e.apiList=s.data.data.apiInfo,e.apiList.saveMongoDB=e.apiList.saveMongoDB+"",e.apiList.saveMQ=e.apiList.saveMQ+"",e.backendList=s.data.data.backendList,e.requestParamsList=s.data.data.requestParamsList,e.resultSettingsList=s.data.data.resultSettingsList,e.apiList2=e.cloneObj(s.data.data.apiInfo),e.requestParamsList2=e.cloneObj(s.data.data.requestParamsList),e.subApiList2=e.cloneObj(s.data.data.subApiList);var l=a.i(c.a)(e.apiList.callBackSuccessExample),d=a.i(c.a)(e.apiList.callBackFailExample);t(".writePlace").html("<pre>"+l+"<pre/>"),t(".errorWritePlace").html("<pre>"+d+"<pre/>")}else"2ed39aa6110c479294b8a5622bfdd2d1"==e.jurisdiction.perms[n]&&(e.amendBtn=!0);e.requestParamsList.map(function(t){t.paramsMust="1"==t.paramsMust?1:2}),i.backEndParam=[],i.numData=[],i.numDataJson=[],i.numDataXml=[],e.backendList.forEach(function(t,e){1==t.paramsType?i.backEndParam.push(t):2==t.paramsType?i.numData.push(t):3==t.paramsType?i.numDataJson.push(t):4==t.paramsType&&i.numDataXml.push(t)}),e.numDataJson.map(function(e){var i=a.i(c.a)(e.paramValue);t(".jsonVal").html("<pre>"+i+"<pre/>")}),e.amendValue(),e.slider(),e.cacheData()}).catch(function(t){console.log(t),console.log("网络错误，不能访问")})},slider:function(){this.paramsLocationOptions=[],this.paramsLocationOptions.push({value:2,label:"query"},{value:1,label:"header"}),this.paramsLocationOptions2=[],this.paramsLocationOptions2.push({value:2,label:"query"},{value:1,label:"header"},{value:3,label:"body"}),this.httpMethodOptions=[],this.httpMethodOptions.push({value:1,label:"GET"},{value:2,label:"POST"}),this.backendProtocolTypeOptions=[],this.backendProtocolTypeOptions.push({value:1,label:"HTTP"},{value:2,label:"HTTPS"},{value:3,label:"Socket"}),this.paramsTypeOptions=[],this.paramsTypeOptions.push({value:1,label:"String"},{value:2,label:"Integer"},{value:3,label:"Long"},{value:4,label:"Float"},{value:5,label:"Double"},{value:6,label:"Boolean"}),this.isMockOptions=[],this.isMockOptions.push({value:1,label:"使用MOCK"},{value:2,label:"不使用MOCK"}),this.chargeOptions=[],this.chargeOptions.push({value:2,label:"否"},{value:1,label:"是"})},deepClone:function(t){var e,a=this.isClass(t);if("Object"===a)e={};else{if("Array"!==a)return t;e=[]}for(var i in t){var s=t[i];this.isClass(s),e[i]=this.deepClone(s)}return e},isClass:function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)},cloneObj:function(t){var e,a=t.constructor===Array?[]:{};if("object"===(void 0===t?"undefined":o()(t))){if(window.JSON)e=s()(t),a=JSON.parse(e);else for(var i in t)a[i]="object"===o()(t[i])?this.cloneObj(t[i]):t[i];return a}},amendFirst:function(e){var a=this,i=(this.$refs.jsonDataRef&&this.$refs.jsonDataRef.anal&&this.$refs.jsonDataRef.anal(),this);if(i.backendList=[],i.backEndParam.forEach(function(t,e){i.backendList.push(t)}),i.numData.forEach(function(t,e){i.backendList.push(t)}),i.numDataJson.forEach(function(t,e){i.backendList.push(t)}),i.numDataXml.forEach(function(t,e){i.backendList.push(t)}),this.apiList.callBackSuccessExample=this.apiList.callBackSuccessExample.replace(/\s+/g,""),this.apiList.callBackFailExample=this.apiList.callBackFailExample.replace(/\s+/g,""),1==this.$route.query.num&&null!==this.$route.query.item2.id)this.addflowData.subThirdApiInfo.apiId=this.apiList.id,this.addflowData.subThirdApiInfo.id=this.$route.query.item2.id,this.addflowData.subThirdApiInfo.interfaceName=this.apiList.interfaceName,this.addflowData.subThirdApiInfo.backEndAddress=this.apiList.backEndAddress,this.addflowData.subThirdApiInfo.backEndPath=this.apiList.backEndPath,this.addflowData.subThirdApiInfo.backEndHttpMethod=this.apiList.backEndHttpMethod,this.addflowData.subThirdApiInfo.backEndTimeout=this.apiList.backEndTimeout,this.addflowData.subThirdApiInfo.callBackType=this.apiList.callBackType,this.addflowData.subThirdApiInfo.weight=this.apiList.weight,this.addflowData.subThirdApiInfo.responseConfigJson=this.apiList.responseConfigJson,this.addflowData.subThirdApiInfo.responseTransParam=this.apiList.responseTransParam,this.addflowData.subThirdApiInfo.backendProtocolType=this.apiList.backendProtocolType,this.addflowData.subThirdRequestInfo=this.backendList,p()({method:"post",url:"/api/back/sub/save",data:this.addflowData}).then(function(t){if(2e3!==t.data.code)a.$message.error(t.data.message);else{a.$message.success("修改成功");var e=location.href,i=e.indexOf("?");e=e.substr(i+1);var s=e.split("&");s[0]="amend=2",location.hash="#/portApiManage/portApiManage?"+s[0]+"&id="+a.$route.query.id+"&apiGroupId="+a.$route.query.apiGroupId+"&productEnvVersion="+a.$route.query.productEnvVersion,a.$router.back()}}).catch(function(t){console.log("网络错误，不能访问")});else if(this.requestParamsList.map(function(t){"body"==t.paramsLocation?t.paramsLocation=3:2!=t.paramsType&&3!=t.paramsType&&4!=t.paramsType&&5!=t.paramsType&&6!=t.paramsType||(t.maxLength="",t.minLength="")}),0==this.apiList.cacheNo?(this.apiList.cacheNo=null,t(".dinBox").show()):""==this.apiList.cacheUnit&&(this.apiList.cacheUnit=null),this.apiList.weight>10||this.apiList.weight<0||this.addflowData.subThirdApiInfo.weight>10||this.addflowData.subThirdApiInfo.weight<0);else{3==this.apiList.backendProtocolType&&(this.apiList.backEndPath=null,this.apiList.backEndHttpMethod=null),this.apiList.tcpHeaderId;var s=!0,n=/^[^\u4e00-\u9fa5]{1,200}$/,o=/\s+/,r=/^[0-9]+([.]{1,200}[0-9]+){0,1}$/,l=/^(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9]):\d{0,5}/;this.backEndParam.map(function(e,a){(""===e.paramName||0==n.test(e.paramName)||o.test(e.paramName))&&(t(".jqueryValidate2").eq(a).show(),t(".jqueryValidate8").eq(a).hide(),s=!1)}),this.numData.map(function(e,a){""===e.paramName||0==n.test(e.paramName)||o.test(e.paramName)?(t(".jqueryValidate4").eq(a).show(),t(".jqueryValidate7").eq(a).hide(),s=!1):(""===e.paramValue||o.test(e.paramValue))&&(t(".jqueryValidate5").eq(a).show(),s=!1)}),this.requestParamsList.map(function(e,i){(0==n.test(e.paramName)||o.test(e.paramName))&&(t(".jqueryValidate").eq(i).show(),s=!1);try{if("same"===a.judgeSame(e,i,a.requestParamsList,""))throw"error"}catch(e){t(".jqueryValidateSame").eq(i).show(),s=!1}2!=e.paramsType&&3!=e.paramsType&&4!=e.paramsType&&5!=e.paramsType||(""===e.paramsDefaultValue?t(".IntegerNum").eq(i).hide():0==r.test(e.paramsDefaultValue)||o.test(e.paramsDefaultValue)?(t(".IntegerNum").eq(i).show(),s=!1):t(".IntegerNum").eq(i).hide())}),3==this.apiList.backendProtocolType&&0==l.test(this.apiList.backEndAddress)&&(s=!1),s&&p()({method:"post",url:"/api/update",data:{apiInfo:this.apiList,backendList:this.backendList,requestParamsList:this.requestParamsList,resultSettingsList:this.resultSettingsList}}).then(function(e){if(2e3!==e.data.code)a.$message.error(e.data.message);else if(a.$message({type:"success",message:"修改成功"}),a.$route.query.num){var s=location.href,n=s.indexOf("?");s=s.substr(n+1);var o=s.split("&");o[0]="amend=2",location.hash="#/portManage/portApiManage?"+o[0]+"&id="+a.$route.query.id+"&apiGroupId="+a.$route.query.apiGroupId+"&productEnvVersion="+a.$route.query.productEnvVersion,console.log(location.hash),a.$router.back()}else{var s=location.href,n=s.indexOf("?");s=s.substr(n+1);var o=s.split("&");o[0]="amend=2",location.hash="#/portManage/portApiManage?"+o[0]+"&id="+a.$route.query.id+"&apiGroupId="+a.$route.query.apiGroupId+"&productEnvVersion="+a.$route.query.productEnvVersion,console.log(location.hash),t(".el-form-item__error").css({color:"#fff"}),location.reload(),i.numData=[],a.apidata(),a.firstDialog=!1,a.secondDialog=!1,a.thirdDialog=!1,a.fourDialog=!1}}).catch(function(t){console.log("参数错误")})}},saveData:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.fourDialog=!1})},amendApiMore:function(t){this.amendApiIndexEdit=t,this.amendApi=!0},submitForm1:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.secondDialog=!0,e.firstDialog=!1,e.httpMethodChange(),e.httpMethodChange2()})},submitForm3:function(e){var a=this,i=!0,s=/^[^\u4e00-\u9fa5]{1,200}$/,n=/\s+/;this.backEndParam.map(function(e,a){(""===e.paramName||0==s.test(e.paramName)||n.test(e.paramName))&&(t(".jqueryValidate2").eq(a).show(),t(".jqueryValidate8").eq(a).hide(),i=!1)}),this.numData.map(function(e,a){""===e.paramName||0==s.test(e.paramName)||n.test(e.paramName)?(t(".jqueryValidate4").eq(a).show(),t(".jqueryValidate7").eq(a).hide(),i=!1):(""===e.paramValue||n.test(e.paramValue))&&(t(".jqueryValidate5").eq(a).show(),i=!1)}),i&&this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;a.fourDialog=!0,a.thirdDialog=!1,t(".commonVaL").show()})},addTable:function(){this.requestParamsList.push({maxLength:"50",minLength:"1",paramName:"",paramsLocation:1,paramsType:1,paramsMust:1,paramsDefaultValue:"",paramsExample:"",paramsDescription:"",regularExpress:""}),this.backEndParam.push({paramName:"",paramValue:"",paramsLocation:1,paramDescription:"",paramsType:1})},delTable:function(t){this.requestParamsList.splice(t,1),this.backEndParam.splice(t,1),this.amendApiIndexEdit=0},addNumData:function(){this.numData.push({paramName:"",paramValue:"",paramsLocation:1,paramDescription:"",paramsType:2})},delNumData:function(t){this.numData.splice(t,1)},goThirdDialog:function(e){var a=this,i=!0,s=/^[^\u4e00-\u9fa5]{1,200}$/,n=/^[0-9]+([.]{1,200}[0-9]+){0,1}$/,o=/\s+/;if(this.requestParamsList.map(function(e,r){(0==s.test(e.paramName)||o.test(e.paramName))&&(t(".jqueryValidate").eq(r).show(),i=!1);try{if("same"===a.judgeSame(e,r,a.requestParamsList,""))throw"error"}catch(e){t(".jqueryValidateSame").eq(r).show(),i=!1}2!=e.paramsType&&3!=e.paramsType&&4!=e.paramsType&&5!=e.paramsType||(""===e.paramsDefaultValue?t(".IntegerNum").eq(r).hide():0==n.test(e.paramsDefaultValue)||o.test(e.paramsDefaultValue)?(t(".IntegerNum").eq(r).show(),i=!1):t(".IntegerNum").eq(r).hide())}),i){var r=this.requestParamsList.length,l=this.backEndParam.length;this.$refs[e].validate(function(t){if(!t)return console.log("error submit!!"),!1;if(a.secondDialog=!1,a.thirdDialog=!0,r!=l)for(var e=0;e<r-l;e++)a.backEndParam.push({paramName:"",paramValue:"",paramsLocation:"",paramDescription:"",paramsType:1})})}},paramsMusts:function(e,a){2==this.requestParamsList[a].paramsMust?(t(".IntegerNum").eq(a).hide(),this.requestParamsList[a].paramsDefaultValue="",this.requestParamsList[a].paramsMust=1):this.requestParamsList[a].paramsMust=2},loadGroups:function(){var t=this;this.groupOptions=[],p()({method:"post",url:"/apiGroup/listOfNoLowerLevelGroup",data:{}}).then(function(e){e.data.data.map(function(e){t.groupOptions.push({label:e.groupName,id:e.id})})}).catch(function(t){console.log("网络错误，不能访问")})},judgeSame:function(t,e,a,i){var s="";return a.forEach(function(a,i){try{if(e!==i&&t.paramName===a.paramName)throw"same"}catch(t){s=t}}),s},activeChangeHandle:function(t){this.activeName=t}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(644),s=a.n(i),n=a(5),o=a.n(n),r=a(29);e.default={name:"findApiDetail",components:{},data:function(){return{portList:[],responseList:[],amnedArr:[],saveList:[],resultCodeList:[],parentId:"",htmlData:"",detail:{},delId:"",amendNumDetail:!1,addNumDetail:!1,amnedData:{},formLabelWidth:"120px",key:"",addNodeFlag:!1,addResultCodeFlag:!1,addResultCodeData:{},addArrayItemFlag:!1,addNodeData:{},addArrayItemData:{},formatter:function(t,e){return t.address},filterTag:function(t,e){return e.parentId===t},errorCodeNum:[{num:"200",des:"请求成功"},{num:"202",des:"请求处理中"},{num:"500",des:"请求失败"}],props:{stripe:!1,border:!1,showHeader:!0,showSummary:!1,showRowHover:!0,showIndex:!1,treeType:!0,isFold:!1,expandType:!1,selectionType:!1},columns:[{label:"参数名称",prop:"paramName",width:"400px"},{label:"类型",prop:"paramType",minWidth:"50px"},{label:"中文名称",prop:"description"},{label:"描述",prop:"remark"},{label:"操作",prop:"handle",type:"template",template:"handle"}]}},created:function(){this.initData()},methods:{initData:function(){var e=this,i=this.$route.query.id,n=this.$route.query.productEnvVersion;o()({method:"post",url:"/api/showDocx",data:{apiId:i,versionId:n}}).then(function(i){e.detail=i.data.data,e.portList=i.data.data.requestList;for(var n in i.data.data.responseList)e.responseList=e.responseList.concat(i.data.data.responseList[n]),e.responseList=e.responseList.reverse();for(var o=0;o<e.responseList.length;o++)e.parentId=e.responseList[o].parentId;var l=new s.a,c=l.size;if(l.add(e.parentId),l.size>c&&(e.htmlData=e.parentId+"字段包含"),c=l.size,null!==e.detail.example){var d=a.i(r.a)(e.detail.example);t(".writePlace").html("<pre>"+d+"<pre/>")}}).catch(function(t){console.log("网络错误，不能访问")})},addData:function(){var t=this,e=this.$route.query.id;this.$route.query.productEnvVersion;o()({method:"post",url:"/api/parseJson",data:{apiId:e,json:this.amnedData.remarkJson}}).then(function(e){2e3==e.data.code&&(t.addNumDetail=!1,t.saveList=e.data.data.responseList,t.initData())}).catch(function(t){console.log(t.message)})},save:function(){var t=this,e=this.$route.query.id;o()({method:"post",url:"/api/saveDocx",data:{apiId:e,responseList:this.saveList}}).then(function(e){2e3==e.data.code&&(t.addNumDetail=!1)}).catch(function(t){console.log(t.message)})},addNode:function(t,e){this.addNodeFlag=!0,this.addNodeData.apiId=e.apiId,this.addNodeData.parentId=e.id,this.addNodeData.position=parseInt(e.position)+1},addParentNode:function(t,e){this.addNodeFlag=!0,this.addNodeData.apiId=e.apiId,this.addNodeData.parentId=0,this.addNodeData.position=1},addNodeHandler:function(){var t=this;o()({method:"post",url:"/apiDoc/addNode",data:this.addNodeData}).then(function(e){2e3===e.data.code&&(t.addNodeFlag=!1,t.addNodeData={},t.responseList=[],t.initData())}).catch(function(t){console.log(t.message)})},addResultCode:function(t,e){var a=this;this.addResultCodeFlag=!0,this.addResultCodeData.apiId=e.apiId,this.addResultCodeData.paramId=e.id,o()({method:"post",url:"/apiDoc/resultCodeList",data:this.addResultCodeData}).then(function(t){2e3===t.data.code&&(a.resultCodeList=t.data.data)}).catch(function(t){console.log(t.message)})},addResultCodeHandler:function(){var t=this;o()({method:"post",url:"/apiDoc/addResultCode",data:this.addResultCodeData}).then(function(e){2e3===e.data.code&&(t.addResultCodeFlag=!1,t.addResultCodeData={},t.initData())}).catch(function(t){console.log(t.message)})},delApiResultCode:function(t){var e=this;this.addResultCodeData.apiId=t.apiId,this.addResultCodeData.paramId=t.paramId,this.addResultCodeData.code=t.code,o()({method:"post",url:"/apiDoc/delApiResultCode",data:this.addResultCodeData}).then(function(t){2e3===t.data.code&&(e.addResultCodeFlag=!1,e.addResultCodeData={},e.initData())}).catch(function(t){console.log(t.message)})},amend:function(t){console.log(t),this.amendNumDetail=!0,this.amnedData.id=t.id+"",this.amnedData.paramName=t.paramName,this.amnedData.paramType=t.paramType,this.amnedData.parentId=t.parentId,this.amnedData.position=t.position,this.amnedData.remark=t.remark,this.amnedData.description=t.description},amendData:function(){var t=this,e=this.$route.query.id;o()({method:"post",url:"/api/editDocx",data:{apiId:e,responseList:this.amnedData}}).then(function(e){2e3==e.data.code&&(t.amendNumDetail=!1,t.responseList=[],t.initData())}).catch(function(t){console.log(t.message)})},del:function(t,e){var a=this;this.delGroupData=e,this.delGroupData.index=t,this.delId=e.id,this.$confirm('是否删除参数 "'+this.delGroupData.paramName+'",如删除则不可恢复!',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.delNumBtn()}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},delNumBtn:function(){var t=this;o()({method:"post",url:"/api/deleteDocx",data:{id:this.delId}}).then(function(e){2e3==e.data.code&&(t.responseList.splice(t.delGroupData.index,1),t.responseList=[],t.initData())}).catch(function(t){console.log(t.message)})},moreDelBtn:function(){var t=this;this.$confirm("是否删除所有参数,如删除则不可恢复!","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.moreDel()}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},moreDel:function(){var t=this,e=this.$route.query.id;o()({method:"post",url:"/api/deleteDocx",data:{apiId:e}}).then(function(e){t.responseList=[],t.initData()}).catch(function(t){console.log(t.message)})},down:function(){var t=this.$route.query.id,e=this.$route.query.productEnvVersion;o()({method:"post",url:"/api/getServerURL",data:{apiId:t,versionId:e}}).then(function(a){console.log(a.data),location.href=a.data.data+"/api/downloadDocx?apiId="+t+"&versionId="+e}).catch(function(t){console.log("网络错误")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){e.default={name:"Lmenus",components:{},props:[],data:function(){return{activeIndex1:"0",activeIndex2:"0",subm:!0,menuList:[{groupName:" API 管理",subMenu:[{path:"/apiStatistical",name:"接口上游"},{path:"/apiDownstream",name:"接口下游"},{path:"/portManage",name:"API列表"},{path:"/Port",name:"API分组"},{path:"/findApi",name:"批量API"},{path:"/TestConfig",name:"配置测试"},{path:"/TestApi",name:"测试结果"},{path:"/combinationApi",name:"API组合"}]},{groupName:"流量管理",subMenu:[{path:"/flowControl",name:"接口流量控制"},{path:"/flowDistribution",name:"流量分发"},{path:"/flowMonitoring",name:"策略管理"},{path:"/ipList",name:"ip白名单"},{path:"/trafficMonitoring",name:"流量监控"},{path:"/networkRelationship",name:"路由策略"},{path:"/flowRateLimit",name:"用户流量控制"},{path:"/flowRateLimitInterface",name:"用户接口控制"},{path:"/serviceRoute",name:"服务路由控制"}]},{groupName:"码值管理",subMenu:[{path:"/codeMap",name:"码值映射"},{path:"/codeValue",name:"码值管理"}]},{groupName:"帐号管理",subMenu:[{path:"/authorityMsg",name:"村镇银行"}]},{groupName:"运维管理",subMenu:[{path:"/healthCheck",name:"健康检查"},{path:"/apiOfflineRecord",name:"接口下线记录"}]},{groupName:"计费管理",subMenu:[{path:"/billingRule",name:"计费规则"},{path:"/authList",name:"接口权限"},{path:"/datasourceCharge",name:"数据源计费"},{path:"/datasourceBill",name:"数据源账单"},{path:"/appManage",name:"客户列表"},{path:"/customerBill",name:"客户账单"},{path:"/profit",name:"利润"}]}],menuListAct:[]}},created:function(){this.menuListAct=this.menuList[Number(this.activeIndex1)].subMenu},methods:{changeMenu1:function(e,a){this.menuListAct=this.menuList[e].subMenu,this.activeIndex1=e,this.activeIndex2="0";var i=t(".el-menu-item");console.log("main-index: "+e);for(var s=0;s<this.menuList.length;s++)i.eq(s).removeClass("is-active");i.eq(e).addClass("is-active");for(var n=0;n<this.menuListAct.length;n++){var o=e+"-"+n;0===n?i.eq(o).addClass("is-active"):i.eq(o).removeClass("is-active")}},changeMenu2:function(e){console.log("sub-index:"+e);for(var a=t(".el-menu-item"),i=0;i<this.menuListAct.length;i++){var s=this.activeIndex1+"-"+i;a.eq(s).removeClass("is-active")}a.eq(e).addClass("is-active")}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,s=a(62),n=a.n(s);e.default=(i={name:"apiTree",props:["data","groupOptions"],data:function(){return{data:[this.groupOptions],defaultProps:{children:"children",label:"label"}}}},n()(i,"props",{}),n()(i,"created",function(){}),n()(i,"methods",{handleNodeClick:function(t){console.log(t,"树值")}}),i)},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(60);e.default={data:function(){return{}},computed:{breadcrumbData:function(){return console.log(this.$store.getters.commonCacheData("breadcrumb")),this.$store.getters.commonCacheData("breadcrumb")},isCollapse:function(){return this.$store.getters.isCollapse}},components:{},mounted:function(){},methods:{changeCollapse:function(){this.isCollapse?this.$store.commit(i.c,!1):this.$store.commit(i.c,!0),this.$store.commit(i.b)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"env",props:{rowData:Object},methods:{runTimeEnvFnc:function(){this.$emit("envLookData",this.rowData,this.rowData.productEnvVersion)},testRunTimeEnvFnc:function(){this.$emit("envLookData",this.rowData,this.rowData.testEnvVersion)}},created:function(){}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(61),s=a.n(i),n=a(5),o=a.n(n);e.default={name:"jsonData",props:["addApiData","apiList"],data:function(){return{reqArr:[],codeId:0,optionArr:[],jsonArr:null,activeNameJSon:"first",value:"",dictItemNameOptions:[],keyOptions:[],formLabelWidth:"120px",codeMap:!1,isData:"",transKey:"",optionMap:[{orign:null,target:null}],isDataOptions:[{label:"是",value:"true"},{label:"否",value:"false"}],response:[],dictionaryId:"",optionsKey:[],optionsCode:[],amendOPtion:[],codeIndex:0,valueKey:"",amendJsonIndex:0,valueKeyList:[],rowData:"",amendMapKey:[],amendMapCode:[],typeOptions:[],reqArrCopy:[]}},created:function(){this.codeOptions()},mounted:function(){},methods:{removeFous:function(){var t=this;o()({method:"post",url:"/api/"+this.$route.query.id+"/pretty",data:{responseTransParam:s()(this.jsonArr)}}).then(function(e){t.apiList.responseConfigJson=e.data.data,t.apiList.responseTransParam=e.data.data}).catch(function(t){console.log("网络错误，不能访问")})},slideListVal:function(){var t=this;void 0==this.valueKey?(this.optionsKey=[],this.optionMap.map(function(t){t.target=""})):o()({method:"post",url:"/dict/query/item",data:{dictionaryId:this.valueKey,pageSize:100}}).then(function(e){var a=e.data.data.list;t.optionsKey=[],a.map(function(e){t.optionsKey.push({label:e.dictItemValue,id:e.dictionaryId,value:e.dictItemName})})}).catch(function(t){console.log("网络错误，不能访问")})},jsonTable:function(t,e){if(1==t.index){this.typeOptions=[],this.typeOptions.push({value:1,label:"number"},{value:2,label:"string"},{value:3,label:"Boolean"},{value:4,label:"object"},{value:5,label:"Array"});"#/portManage"==window.location.hash||(this.jsonArr=JSON.parse(this.apiList.responseTransParam))}},jsonAnalData:function(){o()({method:"post",url:"/dict/query/item",data:{dictItemValue:this.orign,dictionaryId:this.valueKey}}).then(function(t){t.data.data.list}).catch(function(t){console.log("网络错误，不能访问")}),"#/portManage"==window.location.hash||2==this.$route.query.num?this.jsonAnal01():this.jsonAnal02()},codeOptions:function(){var t=this;o()({method:"post",url:"/dict/query/dictionary",data:{pageSize:6e3}}).then(function(e){var a=e.data.data.list;t.optionsCode=[],t.optionsCode.push({label:"全部",id:""}),a.map(function(e){t.optionsCode.push({label:e.dictValue,id:e.id})})}).catch(function(t){console.log("网络错误，不能访问")})},jsonAnal01:function(){if(this.addApiData.apiInfo.responseConfigJson){var t=JSON.parse(this.addApiData.apiInfo.responseConfigJson),e=[];this.parseJSONObject(t,e,-1),this.jsonArr=e}else this.jsonArr=null},jsonAnal02:function(){if(this.apiList.responseConfigJson){var t=JSON.parse(this.apiList.responseConfigJson),e=[];this.parseJSONObject(t,e,-1),this.jsonArr=e}else this.jsonArr=null},leadJson:function(){var t=this;if(this.activeNameJSon="second",this.typeOptions=[],this.typeOptions.push({value:1,label:"number"},{value:2,label:"string"},{value:3,label:"Boolean"},{value:4,label:"object"},{value:5,label:"Array"}),"#/portManage"==window.location.hash||2==this.$route.query.num)this.jsonAnalData(),this.keyData();else{if(""!==this.apiList.responseConfigJson){console.log(Object.prototype.toString.call(JSON.parse(this.apiList.responseConfigJson)));var e=Object.prototype.toString.call(JSON.parse(this.apiList.responseConfigJson));"[object Object]"==e?(console.log("原始导入方法"),this.jsonAnalData(),this.keyData(),this.optionMap=[{orign:null,target:null}]):"[object Array]"==e&&(console.log("新接口导入方法"),window.location.hash,o()({method:"post",url:"/api/"+this.$route.query.id+"/pretty",data:{responseTransParam:this.apiList.responseConfigJson}}).then(function(e){t.jsonArr=JSON.parse(e.data.data),console.log(t.apiList.responseTransParam,"改变前"),t.apiList.responseTransParam=s()(t.jsonArr),console.log(t.apiList.responseTransParam,"改变后")}).catch(function(t){console.log("网络错误，不能访问")}))}else this.jsonArr=null,this.apiList.responseTransParam=null;this.reqArrCopy=this.jsonArr}},parseJSONObject:function(t,e,a){a++;for(var i in t){var s,n=[],o=!1;"[object Number]"==Object.prototype.toString.call(t[i])?s="number":"[object String]"==Object.prototype.toString.call(t[i])?s="string":"[object Boolean]"==Object.prototype.toString.call(t[i])?s="Boolean":"[object Object]"==Object.prototype.toString.call(t[i])?(s="object",o=!0):"[object Array]"==Object.prototype.toString.call(t[i])&&(s="array",n=t[i]);var r={deep:a,key:i,transKey:"",type:s,isData:"",remark:"",option:null};if(e.push(r),o&&this.parseJSONObject(t[i],e,a),n.length>0)for(var l=this,c=0;c<n.length&&"[object Object]"===Object.prototype.toString.call(n[0]);c++)l.parseJSONObject(n[c],e,a)}},codeMapFunc:function(t,e){var a=this;if(this.rowData=e,this.codeId=t,this.codeMap=!0,"#/portManage"==window.location.hash){if(this.reqArr){var i=[{orign:null,target:null}],s="",n=this.optionArr[t],o=this.valueKeyList[t];this.reqArr[t]={id:t,selKey:o||s,option:n||i},this.optionMap=this.reqArr[t].option,this.valueKey=this.reqArr[t].selKey}}else{var i=[{orign:null,target:null}],s="",n=this.optionArr[t],o=this.valueKeyList[t];if(this.reqArr[t]={id:t,selKey:o||s,option:n||i},this.optionMap=this.reqArr[t].option,this.reqArr[t].option.map(function(e){if(e.target||e.orign)a.optionMap=a.reqArr[t].option;else{var i=JSON.parse(a.apiList.responseTransParam)[t].option;a.optionMap=i||[{orign:null,target:null}]}}),this.rowData.remark)this.valueKey=this.rowData.remark;else{var r=JSON.parse(this.apiList.responseTransParam)[t].remark;this.valueKey=""==r?"":r}}},delBtnFunc:function(t){this.jsonArr.splice(t,1),this.optionArr.splice(t,1),this.valueKeyList.splice(t,1),this.reqArr.splice(t,1),this.jsonArr.length<1&&(this.apiList.responseTransParam=null),this.removeFous()},addBtnFunc:function(t,e){this.jsonArr.push({deep:e.deep+1,key:"",transKey:"",type:"",isData:"",option:null})},addJson:function(){null!==this.jsonArr&&this.jsonArr.push({deep:0,key:"",transKey:"",type:"",isData:"",option:null})},addCodeMap:function(){this.optionMap.push({orign:null,target:null})},CodeMapDel:function(){this.optionMap.map(function(t){t.orign=null,t.target=null})},delCodeMap:function(t){this.optionMap.splice(t,1)},anal:function(){var t=this;if("#/portManage"==window.location.hash||2==this.$route.query.num)return this.jsonArr&&this.jsonArr.map(function(t){"(空)"==t.transKey&&(t.transKey="")}),"(空)"==this.valueKey&&(this.valueKey=""),this.reqArr.length>0&&this.reqArr.forEach(function(e,a){var i=[];void 0!==e&&e.option.map(function(t,e){t.orign||t.target?i.push(t):i=i.length>0?i:null}),t.jsonArr[e.id].option=i}),this.addApiData.apiInfo.responseTransParam=s()(this.jsonArr),"null"==this.addApiData.apiInfo.responseTransParam&&(this.addApiData.apiInfo.responseTransParam=null),this.jsonArr;this.jsonArr&&this.jsonArr.map(function(t){"(空)"==t.transKey&&(t.transKey="")}),"(空)"==this.valueKey&&(this.valueKey=""),this.reqArr.length>0&&(this.reqArr.forEach(function(e,a){var i=[];void 0!==e&&e.option.map(function(t,e){t.orign||t.target?i.push(t):i=i.length>0?i:null}),t.jsonArr[e.id].option=i}),console.log(this.jsonArr,"save")),null==this.apiList.responseConfigJson||""==this.apiList.responseConfigJson?(this.jsonArr=null,this.apiList.responseTransParam=null,console.log(1)):"null"==this.apiList.responseTransParam||this.apiList.responseTransParam==[]?(this.apiList.responseTransParam=null,console.log(2)):this.apiList.responseTransParam!==this.apiList.responseConfigJson?(console.log(this.apiList.responseTransParam,"yy"),this.apiList.responseTransParam=this.apiList.responseTransParam,console.log(4)):(this.apiList.responseTransParam=this.apiList.responseTransParam,console.log(5)),console.log(this.apiList.responseTransParam),console.log(this.apiList.responseConfigJson)},keyData:function(){var t=this;o()({method:"post",url:"/dict/query/dictionary",data:{pageSize:1e3}}).then(function(e){var a=e.data.data.list;t.keyOptions=[],t.keyOptions.push({label:"(空)"}),a.map(function(e){t.keyOptions.push({label:e.dictValue,id:e.id})})}).catch(function(t){console.log("网络错误，不能访问")})},addCodeMes:function(){var t=this,e=!0;this.rowData.remark=this.valueKey,this.optionArr[this.codeId]=this.optionMap,this.reqArr[this.codeId].option=this.optionArr[this.codeId],this.reqArr[this.codeId].option.map(function(a){null==a.orign||""==a.orign?(t.$message.info("value不能为空"),t.codeMap=!0,e=!1):null!=a.target&&""!=a.target||(t.$message.info("value映射不能为空"),t.codeMap=!0,e=!1)}),this.reqArr.length>0&&this.reqArr.forEach(function(e,a){var i=[];void 0!==e&&e.option.map(function(t){t.orign||t.target?i.push(t):i=i.length>0?i:null}),t.jsonArr[e.id].option=i}),e&&(this.codeMap=!1,this.valueKeyList[this.codeId]=this.rowData.remark,this.reqArr[this.codeId].selKey=this.valueKeyList[this.codeId],this.removeFous(),console.log(this.reqArr,"reqArr"))}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{openNames:[],columnItems:[],activeName:"12"}},computed:{isCollapse:function(){return this.$store.getters.isCollapse},bodyHeight:function(){return this.$store.getters.bodyHeight},leftColumnItems:function(){var t=this,e=this.$store.getters.commonCacheData("leftColumnItems");if(this.columnItems===e)return this.columnItems;this.columnItems=e,this.openNames=[];var a=this.$store.getters.commonCacheData("activeColumn");return console.log(a),a&&4===a.parentIds.split("/").length?e.forEach(function(e){e.children&&e.children.length>0&&a.parentId===e.id&&(t.openNames=[e.id+""],console.log(t.openNames))}):a&&5===a.parentIds.split("/").length?e.forEach(function(i,s){i.children&&i.children.length>0&&i.children.forEach(function(i){i.children&&i.children.length>0&&a.parentId===i.id&&(t.openNames=[e[s].id+"",i.id+""])})}):this.openNames=[],e},activeColumn:function(){var t=this.$store.getters.commonCacheData("activeColumn");return console.log(t),t&&(this.activeName=t.id+""),t||(t={}),t}},watch:{$route:function(t,e){var a=this,i=this.$store.getters.commonCacheData("leftColumnItems");this.openNames=[];var s=this.$store.getters.commonCacheData("activeColumn");console.log(s),s&&4===s.parentIds.split("/").length?i.forEach(function(t){t.children&&t.children.length>0&&s.parentId===t.id&&(a.openNames=[t.id+""],console.log(a.openNames))}):s&&5===s.parentIds.split("/").length&&i.forEach(function(t,e){t.children&&t.children.length>0&&t.children.forEach(function(t){t.children&&t.children.length>0&&s.parentId===t.id&&(a.openNames=[i[e].id+"",t.id+""])})})}},methods:{selectMenu:function(t){var e=document.getElementById(t),a=e&&e.getAttribute("path");!!a&&this.$router.push(a),this.activeName=t+""}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"menuListDetail",props:[""],data:function(){return{activeIndex:"1-1",jurisdiction:{}}},created:function(){this.getActiveIndex()},methods:{getActiveIndex:function(){switch(this.$route.path){case"/portManage/portApiManage":this.activeIndex="1-1";break;case"/portManage/accreditMes":this.activeIndex="1-2";break;case"/portManage/history":this.activeIndex="1-3";break;case"/portManage/debugApi":this.activeIndex="1-4";break;case"/portManage/apiDetailNum":this.activeIndex="1-6";break;case"/portManage/portExcel":this.activeIndex="1-7"}},changeDetailIndex:function(t,e){}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5);a.n(i);e.default={name:"page",data:function(){return{offset:0,limit:10,count:0,currentPage:1}},created:function(){},methods:{handleCurrentChange:function(t){this.currentPage=t,this.offset=(t-1)*this.limit},pageData:function(){}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},components:{},mounted:function(){},methods:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i);e.default={name:"portName",props:["subApisData","rowFlowData","apiFlowData","parentMsg"],data:function(){return{jurisdiction:{}}},created:function(){},methods:{delChildBtn:function(t){var e=this;this.$confirm('是否删除后端服务 "'+t.interfaceName+'",如删除则不可恢复!',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.delChild(t)}).catch(function(t){e.$message({type:"info",message:"已取消删除"})})},delChild:function(t){var e=this;s()({method:"post",url:"/api/back/sub/delete",data:{apiId:t.apiId,id:t.id}}).then(function(a){console.log(t,111),e.$message({type:"success",message:"删除分组成功"}),e.apiFlowData()}).catch(function(t){console.log("网络错误")})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(639),s=a.n(i),n=a(5),o=a.n(n),r=a(60);e.default={name:"topNav",data:function(){var t=this,e=function(e,a,i){o()({method:"post",url:"/checkPass",data:{id:t.userInfo.id,oldPassword:a}}).then(function(t){1!=t.data.data?i(new Error("原始密码错误")):i()}).catch(function(t){console.log("网络错误，不能访问")})},a=function(e,a,i){a!=t.ruleForm.newPassword?i(new Error("两次输入不一致")):i()};return{overUrl:"",jurisdiction:{},logoName:"admin",outUrl:"",loginTextState:!1,amendPassword:!1,activeName:"second",dialogTableVisible:!1,dialogFormVisible:!1,userInfo:"",formLabelWidth:"120px",ruleForm:{oldPassword:"",newPassword:"",confirmNewPassword:""},rules:{oldPassword:[{required:!0,message:"请输入原始密码",trigger:"blur"},{validator:e,trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:14,message:"长度在 6 到 14 个字符",trigger:"blur"},{validator:function(t,e,a){!1===/^(?![a-zA-z]+$)(?!\d+$)(?![!@#$%^&*]+$)(?![a-zA-z\d]+$)(?![a-zA-z!@#$%^&*]+$)(?![\d!@#$%^&*]+$)[a-zA-Z\d!@#$%^&*]+$/.test(e)?a(new Error("密码必须包含字母,数字,特殊符号")):a()},trigger:"blur"}],confirmNewPassword:[{required:!0,message:"请确认新密码",trigger:"blur"},{validator:a,trigger:"blur"}]}}},computed:{columnItems:function(){return this.$store.getters.commonCacheData("columnItems")},activeColumn:function(){var t=this.$store.getters.commonCacheData("activeColumn");return console.log(t),t&&t.beginNode?this.activeName=t.beginNode.id+"":this.activeName=null,this.setLeftMenu(this.activeName),t||(t={}),t}},created:function(){this.getUserPermissions()},methods:{defaultSelect:function(t,e){if(t.children&&t.children.length>0){var a=!0,i=!1,n=void 0;try{for(var o,r=s()(t.children);!(a=(o=r.next()).done);a=!0){var l=o.value;this.defaultSelect(l,e)}}catch(t){i=!0,n=t}finally{try{!a&&r.return&&r.return()}finally{if(i)throw n}}}},setLeftSelect:function(t){return t.children&&t.children.length>0?this.setLeftSelect(t.children[0]):t},handleSelect:function(t){if(t)for(var e=0;e<this.columnItems.length;e++){var a=this.columnItems[e];if(a.id+""===t){this.$store.commit(r.a,{name:"leftColumnItems",value:a.children});var i=void 0;if(a.children&&a.children.length>0){for(var s=0;s<a.children.length;s++)this.defaultSelect(a.children[s],function(t){i=t});i||(i=this.setLeftSelect(a.children[0])),this.$router.push(i.urls)}break}}},setLeftMenu:function(t){if(t)for(var e=0;e<this.columnItems.length;e++){var a=this.columnItems[e];if(a.id===t){this.$store.commit(r.a,{name:"leftColumnItems",value:a.children});break}}},createds:function(){var t=this;o()({method:"post",url:"/getUserInfo",data:{}}).then(function(e){t.userInfo=e.data}).catch(function(t){console.log("网络错误，不能访问")})},loginOut:function(){var t=this;this.$confirm("确定退出接口管理平台吗？","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=t.jurisdiction.logoutUrl}).catch(function(){t.$message({type:"info",message:"已取消退出！"})})},getUserPermissions:function(){var t=this;o()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,t.outUrl=t.jurisdiction.logoutUrl,t.logoName=e.data.principal.name,t.overUrl="http://172.16.16.70:8180/index.html#/resetUserPwdForm?name="+t.logoName;var a=t.activeColumn;a&&a.beginNode?(t.activeName=a.beginNode.id+"",t.setLeftMenu(a.beginNode.id)):t.activeName=""}).catch(function(t){console.log("错误")})},modifyPassword:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;o()({method:"post",url:"/modifyPassword",data:{id:e.userInfo.id,oldPassword:e.ruleForm.oldPassword,newPassword:e.ruleForm.newPassword,confirmNewPassword:e.ruleForm.confirmNewPassword}}).then(function(t){e.amendPassword=!1,1==t.data.data&&e.$message({message:"修改成功，3秒后请重新登陆",type:"success"})}).catch(function(t){console.log("网络错误，不能访问")})})},closeDia:function(){this.ruleForm.oldPassword="",this.ruleForm.newPassword="",this.ruleForm.confirmNewPassword=""}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(112),s=a.n(i),n=a(648),o=a.n(n);e.default={name:"self-dialog",props:{value:{type:Boolean,required:!0,default:!1},modal:{type:Boolean,required:!1,default:!1},title:{type:String,required:!0,default:!1}},data:function(){return{visible:!1,params:{}}},methods:{beforeClose:function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];1==e.length&&e[0]instanceof Event&&e.shift(),this.$emit("input",!1),this.$emit.apply(this,["close",0!=e.length].concat(o()(e)))},setParams:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.params=s()({},this.params,t)}},watch:{value:function(t){var e=this;if(t){if(!this.visible)return void(this.visible=!0);this.visible=!1,this.$nextTick(function(){return e.visible=!0})}}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["totle","value","id","color"],data:function(){return{width:80,height:80}},components:{},methods:{createdPage:function(){var t=[{value:this.value/this.totle,color:this.color},{value:1-this.value/this.totle,color:"#eee"}],e=document.getElementById(this.id);e.width=this.width,e.height=this.height;var a=-90,i=e.getContext("2d"),s=this.width/2,n=this.height/2;t.forEach(function(t){var e=a*Math.PI/180,o=360*t.value,r=(a+o)*Math.PI/180;i.beginPath(),i.lineWidth=10,i.strokeStyle=t.color,i.arc(s,n,30,e,r,!1),i.stroke(),i.closePath(),a+=o})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"weight",props:["subApis","subApisData"],created:function(){},methods:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n),r=a(201),l=a.n(r);e.default={name:"port",components:{apiTree:l.a},data:function(){var t=this;return{defaultExpanded:[],jurisdiction:{},temporary:"",delBtn:!0,addBtnP:!0,amendBtn:!0,dataTree:[],defaultProps:{children:"children",label:"label"},alertTextArr:[],groupNamerule:function(t,e,a){var i=/\s+/;""===e?a(new Error("请输入分组名称")):i.test(e)?a(new Error("请输入正确的格式")):a()},descriptionValidate:function(t,e,a){var i=/\s+/;""===e?a(new Error("请输入描述")):i.test(e)?a(new Error("请输入正确的格式")):a()},groupNames:function(e,a,i){if(t.addGroupData.groupName){var n=t.addGroupData.groupName;s()({method:"post",url:"/apiGroup/checkUnique",data:{groupName:n}}).then(function(t){!1===t.data.data?i(new Error("分组名称重复")):i()}).catch(function(t){alert("网络错误，不能访问")})}else i()},groupNames2:function(e,a,i){if(console.log(t.rowArr),t.amnedData.groupName){var n=t.amnedData.groupName,o=t.rowArr.groupUUID;s()({method:"post",url:"/apiGroup/checkUnique",data:{groupName:n,groupUUID:o}}).then(function(t){!1===t.data.data?i(new Error("分组名称重复")):i()}).catch(function(t){alert("网络错误，不能访问")})}else i()},currentPage:1,pageSize:10,total:0,filters:{name:""},page:1,tablegroup:[],search:"",addGroupData:{groupName:"",groupDescription:""},delGroupData:{groupName:"",groupDescription:""},amnedData:{groupName:"",groupDescription:""},group:"",formLabelWidth:"120px",creatGroup:!1,description:"",searchGroupName:"",amendGroupDetail:!1,rowArr:{},addparentId:{groupName:"",groupDescription:""},dataId:"",newPage:""}},created:function(){this.treeGroup(),this.getUserPermissions(),this.treeList()},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},addNext:function(t){this.creatGroup=!0,this.addGroupData.parentId=t},treeGroup:function(){var t=this;s()({method:"post",url:"/apiGroup/listByLevelForGroupUI",data:{}}).then(function(e){403==e.data.code&&(location.href=e.data.data),t.dataTree=e.data.data;for(var a=e.data.data,i=a.length,s=[],n=0;n<i;n++)if(null==a[n].parentId){var o={label:a[n].groupName,id:a[n].id};o.children=t.aa(a[n].id,a),s.push(o)}s.splice(0,0,{id:0,label:"全部"}),t.defaultExpanded=[],s.forEach(function(e){e.id&&0!==e.id&&t.defaultExpanded.push(e.id)}),t.alertTextArr=s}).catch(function(t){console.log("网络错误")})},aa:function(t,e){for(var a=[],i=0,s=e.length;i<s;i++)if(e[i].parentId==t){var n={label:e[i].groupName,id:e[i].id};n.children=this.aa(e[i].id,e),a.push(n)}return a},handleNodeClick:function(t){console.log(t),this.currentPage=1,this.newPage=10,this.dataId=t.id,"全部"==t.label?this.treeList():this.groupList()},groupList:function(){var t=this;s()({method:"post",url:"/apiGroup/listByParentId",data:{id:this.dataId,pageSize:10,pageNum:this.currentPage}}).then(function(e){t.tablegroup=e.data.data.list,t.pageSize=e.data.data.pageSize,t.total=e.data.data.total}).catch(function(t){console.log("网络错误，不能访问")})},treeList:function(){var t=this;s()({method:"post",url:"/apiGroup/listByParentId",data:{id:""==this.dataId?"":this.dataId,pageSize:""==this.newPage?10:this.newPage,pageNum:this.currentPage}}).then(function(e){403==e.data.code&&(location.href=e.data.data),t.jurisdiction.roles.includes("admin")?(t.delBtn=!0,t.addBtnP=!0,t.amendBtn=!0,t.tablegroup=e.data.data.list,t.pageSize=e.data.data.pageSize,t.total=e.data.data.total):(t.delBtn=!1,t.addBtnP=!1,t.amendBtn=!1)}).catch(function(t){console.log("网络错误，不能访问")})},initData:function(){s()({method:"post",url:"/apiGroup/pageInfoListByLevel",data:{groupName:""==this.searchGroupName?null:this.searchGroupName,pageSize:10,pageNum:this.currentPage}}).then(function(t){alert("del")}).catch(function(t){console.log("网络错误，不能访问")})},addgroupList:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=e.addGroupData.groupName,i=e.addGroupData.groupDescription,n=e.addGroupData.parentId;s()({method:"post",url:"/apiGroup/save",data:{groupName:a,groupDescription:i,parentId:n}}).then(function(t){2e3==t.data.code?(e.creatGroup=!1,e.searchGroupName="",e.addGroupData.groupName="",e.addGroupData.groupDescription="",e.groupListRight(),e.treeGroup()):e.$message({type:"info",message:t.data.message})}).catch(function(t){console.log("网络错误，不能访问")})})},groupListRight:function(){var t=this;s()({method:"post",url:"/apiGroup/listByParentId",data:{id:this.addGroupData.parentId,pageSize:10,pageNum:this.currentPage}}).then(function(e){t.tablegroup=e.data.data.list,t.pageSize=e.data.data.pageSize,t.total=e.data.data.total}).catch(function(t){console.log("网络错误，不能访问")})},amendGroup:function(t){this.amnedData.groupUUID=t.groupUUID,this.amendGroupDetail=!0,this.amnedData.groupName=t.groupName,this.amnedData.groupDescription=t.groupDescription,this.rowArr=t},amendData:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;s()({method:"post",url:"/apiGroup/update",data:{groupUUID:e.amnedData.groupUUID,groupName:e.amnedData.groupName,groupDescription:e.amnedData.groupDescription}}).then(function(t){console.log(t,"编辑分组"),e.amendGroupDetail=!1,e.treeGroup(),e.groupListRight()}).catch(function(t){console.log(t.message)})})},closeDialog:function(t){this.$confirm("确认关闭？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t(),location.reload()}).catch(function(t){})},callOf:function(t){this.creatGroup=!1,this.$refs[t].resetFields()},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")},showDeleteModel:function(t,e){var a=this;this.delGroupData=e,this.delGroupData.index=t,this.$confirm('是否删除分组 "'+this.delGroupData.groupName+'",如删除则不可恢复!',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.delGroupBtn()}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},delGroupBtn:function(){var t=this,e=this.delGroupData,a=this.delGroupData.index;s()({method:"post",url:"/apiGroup/logicDelete",data:{groupUUID:e.groupUUID}}).then(function(e){2e3!==e.data.code?(t.delDialo=!1,t.$message({message:e.data.message,type:"error"})):(t.tablegroup.splice(a,1),t.delDialo=!1,t.treeGroup(),t.groupListRight(),t.$message({type:"success",message:"删除分组成功"}))}).catch(function(t){console.log("网络错误，不能访问")})},handleCurrentChange:function(t){this.currentPage=t,this.treeList()},handleSizeChange:function(t){this.newPage=t,this.treeList()},resetForm:function(t){this.$refs[t].resetFields()},tableRowClassName:function(t,e){return e%2!=0?"info-row":""}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={name:"findApi",components:{},data:function(){return{jurisdiction:{},outObj:{},jsonDialog:!1,callBack:{},pageNum:1,pageSize:10,total:0,env:1,page:1,searchApiId:"",searchGroup:"",createTime:"",endTime:"",listLoading:!1,tablegroup:[],newPage:"",dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")}}},created:function(){this.getUserPermissions(),this.initData()},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},initData:function(){var t=this;s()({method:"post",url:"/api/page/apiTestConfig",data:{apiId:""==this.searchApiId?"":this.searchApiId,apiGroupId:this.searchGroup,startDate:this.createTime,endDate:this.endTime,pageSize:""==this.newPage?10:this.newPage,pageNum:this.pageNum}}).then(function(e){t.tablegroup=e.data.data.list,t.pageNum=e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.total=e.data.data.total}).catch(function(t){console.log("网络错误，不能访问")})},lookJson:function(t){this.jsonDialog=!0,this.callBack=JSON.parse(t.testResult)},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},handleCurrentChange:function(t){this.pageNum=t,this.initData()},handleSizeChange:function(t){this.newPage=t,this.initData()},setJson:function(t){return console.log(t),JSON.parse(t)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={name:"findApi",components:{},data:function(){return{jurisdiction:{},outObj:{},jsonDialog:!1,callBack:{},pageNum:1,pageSize:10,total:0,env:1,page:1,searchApiId:"",searchGroupId:"",listLoading:!1,configTestBtn:!1,cancleTestBtn:!1,testBtns:!1,tablegroup:[],newPage:"",autoTest:"",autoTestOptions:[{label:"全部",id:""},{label:"是",id:"Y"},{label:"否",id:"N"}],dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")}}},created:function(){this.getUserPermissions(),this.initData()},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,t.jurisdiction.roles.includes("admin")?(t.testBtns=!0,t.configTestBtn=!0,t.cancleTestBtn=!0):(t.testBtns=!1,t.configTestBtn=!1,t.cancleTestBtn=!1)}).catch(function(t){console.log("网络错误")})},initData:function(){var t=this;s()({method:"post",url:"/api/page/testResult",data:{apiId:""==this.searchApiId?"":this.searchApiId,apiGroupId:this.searchGroupId,autoTest:this.autoTest,pageSize:""==this.newPage?10:this.newPage,pageNum:this.pageNum}}).then(function(e){2e3==e.data.code?(t.tablegroup=e.data.data.list,t.pageNum=e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.total=e.data.data.total):t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},testBtn:function(){var t=this;s()({method:"post",url:"/api/autotest",data:{}}).then(function(e){2e3!==e.data.data?t.$message({type:"info",message:e.data.message}):t.$message({type:"success",message:"一键测试成功"})}).catch(function(t){console.log(t.message)})},configTest:function(t){var e=this;s()({method:"post",url:"/api/autotest/"+t.apiId+"/on",data:{}}).then(function(t){2e3==t.data.code&&(e.initData(),e.$message({type:"success",message:"配置测试成功"}))}).catch(function(t){console.log("网络错误")})},cancleTest:function(t){var e=this;s()({method:"post",url:"/api/autotest/"+t.apiId+"/off",data:{}}).then(function(t){2e3==t.data.code&&(e.initData(),e.$message({type:"success",message:"取消测试成功"}))}).catch(function(t){console.log("网络错误")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},handleCurrentChange:function(t){this.pageNum=t,this.initData()},handleSizeChange:function(t){this.newPage=t,this.initData()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(29),s=a(5),n=a.n(s);e.default={name:"amendApiData",props:{apiList2:{type:Object},requestParamsList2:{type:Array},subApiList2:{type:Array},numData:{type:Array},numDataXml:{type:Array},numDataJson:{type:Array},activeName:{type:String,default:"res"},backendList:{type:Array}},data:function(){return{issue:!1,env:1,groupHerfId:{apiName:"",pubDescription:""},formLabelWidth:"120px",amendApiIndexEdit:0,faceNameIndex:0,childApiInfo:{},childApiInfores:{},childRes:[],childRes1:[],childRes2:[],childRes3:[],childRes4:[],subId:"",jsonTabVal:"",activeBack:"backValTab",tcpHeaderIdTable:"",showPublishBtn:!1}},created:function(){this.childCallRes()},methods:{publish:function(){this.issue=!0,this.groupHerfId.apiName=this.apiList2.apiName},publishApi:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=e.$route.query.id,i=e.groupHerfId.pubDescription;n()({method:"post",url:"/api/publish",data:{id:a,env:e.env,pubDescription:i}}).then(function(t){e.$emit("issueOK",""),e.$message({type:"success",message:"发布成功"}),e.issue=!1,e.env=1}).catch(function(t){console.log("网络错误，不能访问")})})},issueOK:function(){this.issue=!1},checkItems:function(e,s){var o=this;"open"==t(".backServiceName").eq(e).attr("id")?t(".backServiceName").eq(e).removeAttr("id").siblings(".backServiceBox").slideUp():(t(".backServiceName").eq(e).parent().siblings().children().removeAttr("id"),t(".backServiceName").eq(e).attr("id","open").next().slideDown().parent().siblings().children(".backServiceBox").slideUp()),null==s.id?n()({method:"post",url:"/api/findApiInfo",data:{id:s.apiId}}).then(function(e){e.data.data;o.childRes=[],o.childRes1=[],o.childRes2=[],o.childRes3=[],o.childRes4=[],o.childApiInfo=[],o.childApiInfo=e.data.data.apiInfo,o.childRes=o.backendList,o.amendBck(),o.paramsTypeFn();var s=a.i(i.a)(o.childApiInfo.callBackSuccessExample);t(".writePlace").html("<pre>"+s+"<pre/>");var n=a.i(i.a)(o.childApiInfo.callBackFailExample);t(".errorWritePlace").html("<pre>"+n+"<pre/>")}).catch(function(t){console.log("网络错误")}):n()({method:"post",url:"/api/back/sub/get",data:{apiId:s.apiId,id:s.id}}).then(function(e){var s=e.data.data;o.childRes=[],o.childRes1=[],o.childRes2=[],o.childRes3=[],o.childRes4=[],o.childApiInfo=[],o.childApiInfo=e.data.data.subThirdApiInfo,o.childApiInfo.callBackSuccessExample=s.apiInfo.callBackSuccessExample,o.childApiInfo.callBackFailExample=s.apiInfo.callBackFailExample,o.childRes=s.subThirdRequestInfo,o.amendBck(),o.paramsTypeFn();var n=a.i(i.a)(o.childApiInfo.callBackSuccessExample);t(".writePlace").html("<pre>"+n+"<pre/>");var r=a.i(i.a)(o.childApiInfo.callBackFailExample);t(".errorWritePlace").html("<pre>"+r+"<pre/>")}).catch(function(t){console.log("网络错误，不能访问")})},amendBck:function(){var t=this;this.childRes.map(function(e){2==e.paramsType?t.$emit("activeChange","res"):3==e.paramsType?t.$emit("activeChange","json"):4==e.paramsType?t.$emit("activeChange","xml"):t.$emit("activeChange","")})},childCallRes:function(){var t=this;this.subApiList2.map(function(e){t.subId=e.id})},paramLocationFomatter:function(t,e){var a=t[e.property];return void 0==a?"":1==a?"header":2==a?"query":"body"},moreStart:function(e){t(".moreMesTwo").show(),this.amendApiIndexEdit=e},moreEnd:function(e){t(".moreMesTwo").hide(),this.amendApiIndexEdit=e},paramsTypeFn:function(){var e=this;this.childRes2=[],this.childRes.forEach(function(a,i){1==a.paramsType?e.childRes1.push(a):2==a.paramsType?e.childRes2.push(a):3==a.paramsType?(e.childRes3=[],e.childRes3.push(a),t(".valCommon").show()):4==a.paramsType&&e.childRes4.push(a)})},setRole:function(t){t&&t.includes("admin")?this.showPublishBtn=!0:this.showPublishBtn=!1}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(61),s=a.n(i),n=a(47),o=a.n(n),r=a(466),l=a.n(r),c=a(462),d=a.n(c),p=a(465),u=a.n(p),m=a(464),h=a.n(m),f=a(463),g=a.n(f),v=a(467),b=a.n(v),_=a(60);e.default={name:"apiDetail",components:{menuListDetail:o.a,ProtApiManage:l.a,AccreditMes:d.a,History:u.a,DebugApi:h.a,ApiDetailNum:g.a,PortExcel:b.a},data:function(){return{activeIndex:"1-1"}},mounted:function(){this.setBreadcrumb()},created:function(){},methods:{changeDetailIndex:function(t){console.log(t)},setBreadcrumb:function(){var t=JSON.parse(s()(this.$store.getters.commonCacheData("breadcrumb")));t.push({urls:this.$route.path,name:"详情"}),this.$store.commit(_.a,{name:"breadcrumb",value:t})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n),r=a(117),l=a.n(r),c=a(204),d=a.n(c);e.default={name:"apiStatistical",components:{CanvasBar:d.a},data:function(){return{dialogTableVisible:!1,totalDetails:0,detailsTable:[],showType:"table",jurisdiction:{},listDetailLoading:!1,searchParams:{startTime:Number(o()(o()(new Date).format("YYYY-MM-DD")).format("x")),endTime:Number(o()(new Date).format("x")),pageNum:1,appKey:"",pageSize:10},searchDetails:{startTime:Number(o()(o()(new Date).format("YYYY-MM-DD")).format("x")),endTime:Number(o()(new Date).format("x")),pageNum:1,appKey:"",pageSize:10},total:0,rangeDate:[o()(o()(new Date).format("YYYY-MM-DD")),o()(new Date)],listLoading:!1,tablegroup:[],totalCount:0,totalFail:0,totalSuccess:0,groupCountList:[],totalCountIdEachatrs:null,totalCountIdOption:{grid:{show:!1},xAxis:{type:"category",splitLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},axisLine:{symbol:["none","arrow"],symbolSize:[6,10]},data:[]},yAxis:{type:"value",splitLine:{show:!1},minInterval:100,axisTick:{show:!1},axisLabel:{show:!1},axisLine:{symbol:["none","arrow"],symbolSize:[6,10]}},series:[{data:[],showSymbol:!1,type:"line",lineStyle:{normal:{width:2,type:"solid",color:"#3FA7DC"}}}]}}},created:function(){var t=this;this.$nextTick(function(){t.getUserPermissions(),t.totalCountIdEachatrs=l.a.init(document.querySelector("#totalCountId")),t.totalCountIdEachatrs.setOption(t.totalCountIdOption,!0),t.resizeCharts(t.totalCountIdEachatrs,"totalCountId")})},mounted:function(){},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0==t.jurisdiction.perms.length||null==t.jurisdiction.perms?t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})}):t.defouteSearch()}).catch(function(t){console.log("网络错误")})},dateChange:function(t){var e=t.split("/");this.searchParams.startTime=Number(o()(e[0]).format("x")),this.searchParams.endTime=Number(o()(e[1]).format("x")),this.searchDetails.startTime=Number(o()(e[0]).format("x")),this.searchDetails.endTime=Number(o()(e[1]).format("x"))},defouteSearch:function(){this.searchParams.pageNum=1,this.initData()},initData:function(){var t=this;this.listLoading=!0,s()({method:"post",url:" /countByAppKey/index",data:this.searchParams}).then(function(e){t.listLoading=!1,2e3!==e.data.code?t.$message.error(e.data.message):(t.total=e.data.data.total,t.tablegroup=e.data.data.appKeyCountList,t.totalFail=e.data.data.totalFail,t.totalSuccess=e.data.data.totalSuccess,t.totalCount=e.data.data.totalCount,t.groupCountList=e.data.data.groupCountList,t.$nextTick(function(){t.$refs.canvasRef.createdPage(),t.$refs.canvasFailRef.createdPage()}),t.totalCountIdOption.xAxis.data=e.data.data.groupCount.time,t.totalCountIdOption.series[0].data=e.data.data.groupCount.count,t.totalCountIdEachatrs.setOption(t.totalCountIdOption,!0))}).catch(function(e){t.listLoading=!1,console.log("网络错误，不能访问")})},lookJson:function(t){this.jsonDialog=!0,this.callBack=JSON.parse(t.testResult)},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},handleCurrentChange:function(t){this.searchParams.pageNum=t,this.initData()},handleSizeChange:function(t){this.searchParams.pageSize=t,this.defouteSearch()},showTypeChange:function(t){},resizeCharts:function(t,e){var a=document.getElementById(e).offsetHeight,i=document.getElementById(e).offsetWidth;t.resize({width:i,height:a})},searchDetailInt:function(t){this.dialogTableVisible=!0,this.searchDetails.appKey=t,this.searchDetails.pageNum=1,this.searchDetailsHandle()},searchDetailsHandle:function(){var t=this;this.listDetailLoading=!0,s()({method:"post",url:" /countByAppKey/countApiByAppKey",data:this.searchDetails}).then(function(e){t.listDetailLoading=!1,2e3!==e.data.code?t.$message.error(e.data.message):(t.totalDetails=e.data.data.total,t.detailsTable=e.data.data.apiCountList)}).catch(function(e){t.listDetailLoading=!1,console.log("网络错误，不能访问")})},detailHandleSizeChange:function(t){this.searchDetails.pageSize=t,this.searchDetailInt(this.searchDetails.appKey)},DetailHandleCurrentChange:function(t){this.searchDetails.pageNum=t,this.searchDetailsHandle()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={name:"apiOfflineRecord",components:{},data:function(){return{jurisdiction:{principal:{},loginUrl:"",logoutUrl:"",roles:[],perms:[]},totalCount:1,groupAry:[],apiAry:[],rangeDate:[o()(o()(new Date).format("YYYY-MM-DD")),o()(new Date)],tableList:[],searchForm:{pageNum:1,pageSize:10,startTime:Number(o()(o()(new Date).format("YYYY-MM-DD")).format("x")),endTime:Number(o()(new Date).format("x")),apiGroupId:"",apiId:""},formLabelWidth:"120px",description:"",delData:"",rowFlowData:{},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")}}},created:function(){this.initData(),this.utils.getUserPermissions(this),this.utils.getGroupAry(this)},methods:{getApiAry:function(t){this.utils.getApiAry(this,t)},dateChange:function(t){var e=t.split("/");this.searchForm.startTime=Number(o()(e[0]).format("x")),this.searchForm.endTime=Number(o()(e[1]).format("x"))},initData:function(){var t=this;s()({method:"post",url:"/ApiOffline/findForPage",data:this.searchForm}).then(function(e){2e3===e.data.code?(t.tableList=e.data.data.list,t.totalCount=e.data.data.total):403===e.data.code&&(location.href=e.data.data)}).catch(function(t){console.log("网络错误，不能访问"+t)})},handleCurrentChange:function(t){this.searchForm.pageNum=t,this.initData()},handleSizeChange:function(t){this.searchForm.pageSize=t,this.initData()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n),r=a(117),l=a.n(r),c=a(204),d=a.n(c);e.default={name:"apiStatistical",components:{CanvasBar:d.a},data:function(){return{showType:"table",jurisdiction:{},searchParams:{startTime:Number(o()(o()(new Date).format("YYYY-MM-DD")).format("x")),endTime:Number(o()(new Date).format("x")),sourceName:null,apiId:null,pageNum:1,pageSize:10,status:"S"},total:0,rangeDate:[o()(o()(new Date).format("YYYY-MM-DD")),o()(new Date)],listLoading:!1,tablegroup:[],groupOptions:[],totalCount:0,totalException:0,totalFail:0,totalSuccess:0,groupCountList:[],statusOptions:[{value:"S",label:"全部"},{value:"F",label:"失败"},{value:"E",label:"异常"}],groupCountListOption:{tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["调用量","响应时间"]},xAxis:[{type:"category",data:[],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"调用量",axisLabel:{formatter:"{value} 次数"}},{type:"value",name:"响应时间",axisLabel:{formatter:"{value} ms"}}],series:[]},groupCountListEchatrs:null,totalCountIdEachatrs:null,totalCountIdOption:{grid:{show:!1},xAxis:{type:"category",splitLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},axisLine:{symbol:["none","arrow"],symbolSize:[6,10]},data:[]},yAxis:{type:"value",splitLine:{show:!1},minInterval:100,axisTick:{show:!1},axisLabel:{show:!1},axisLine:{symbol:["none","arrow"],symbolSize:[6,10]}},series:[{data:[],showSymbol:!1,type:"line",lineStyle:{normal:{width:2,type:"solid",color:"#3FA7DC"}}}]}}},created:function(){var t=this;this.$nextTick(function(){t.getUserPermissions(),t.loadGroups(),t.groupCountListEchatrs=l.a.init(document.querySelector("#groupCountListId")),t.groupCountListEchatrs.setOption(t.groupCountListOption,!0),t.resizeCharts(t.groupCountListEchatrs,"groupCountListId"),t.totalCountIdEachatrs=l.a.init(document.querySelector("#totalCountId")),t.totalCountIdEachatrs.setOption(t.totalCountIdOption,!0),t.resizeCharts(t.totalCountIdEachatrs,"totalCountId")})},mounted:function(){},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0==t.jurisdiction.perms.length||null==t.jurisdiction.perms?t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})}):t.defouteSearch()}).catch(function(t){console.log("网络错误")})},loadGroups:function(){var t=this;s()({method:"post",url:"/apiGroup/listOfNoLowerLevelGroup",data:{}}).then(function(e){t.groupOptions=e.data.data}).catch(function(t){console.log("网络错误，不能访问")})},dateChange:function(t){var e=t.split("/");this.searchParams.startTime=Number(o()(e[0]).format("x")),this.searchParams.endTime=Number(o()(e[1]).format("x"))},defouteSearch:function(){this.searchParams.pageNum=1,this.initData()},initData:function(){var t=this;this.listLoading=!0,s()({method:"post",url:" /count/index",data:this.searchParams}).then(function(e){if(t.listLoading=!1,2e3!==e.data.code)t.$message.error(e.data.message);else{t.total=e.data.data.total,t.tablegroup=e.data.data.apiCountList,t.totalException=e.data.data.totalException,t.totalFail=e.data.data.totalFail,t.totalSuccess=e.data.data.totalSuccess,t.totalCount=e.data.data.totalCount,t.groupCountList=e.data.data.groupCountList,t.$nextTick(function(){t.$refs.canvasRef.createdPage(),t.$refs.canvasFailRef.createdPage(),t.$refs.canvasExceptionRef.createdPage()});var a=[],i=[],s=[];t.groupCountList.forEach(function(t){a.push(t.sourceName),i.push(t.countBySourceName),s.push(t.avgSuccessResponseTime)}),t.groupCountListOption.xAxis[0].data=a;var n=[{name:"调用量",type:"bar",barMaxWidth:40,data:i},{name:"响应时间",type:"line",yAxisIndex:1,barMaxWidth:40,data:s}];t.groupCountListOption.series=n,t.groupCountListEchatrs.setOption(t.groupCountListOption,!0),t.resizeCharts(t.groupCountListEchatrs,"groupCountListId"),t.totalCountIdOption.xAxis.data=e.data.data.group.time,t.totalCountIdOption.series[0].data=e.data.data.group.count,t.totalCountIdEachatrs.setOption(t.totalCountIdOption,!0)}}).catch(function(e){t.listLoading=!1,console.log("网络错误，不能访问")})},lookJson:function(t){this.jsonDialog=!0,this.callBack=JSON.parse(t.testResult)},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},handleCurrentChange:function(t){this.searchParams.pageNum=t,this.initData()},handleSizeChange:function(t){this.searchParams.pageSize=t,this.defouteSearch()},showTypeChange:function(t){},resizeCharts:function(t,e){var a=document.getElementById(e).offsetHeight,i=document.getElementById(e).offsetWidth;t.resize({width:i,height:a})},elPregrossClick:function(t){var e=this.$router.resolve({path:"/apiStatistical/logList",query:{apiId:t.apiId,startTime:this.searchParams.startTime,endTime:this.searchParams.endTime}});window.open(e.href,"_blank")}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={name:"port",components:{},data:function(){var t=this,e=function(t,e,a){!1===/^[\u4e00-\u9fa5a-zA-Z][\u4e00-\u9fa5a-zA-Z\d](?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(e)?a(new Error("格式错误")):a()},a=function(e,a,i){a!=t.modifyBasicAppName?s()({method:"post",url:"/app/checkName",data:{appName:a}}).then(function(t){!1===t.data.data?i(new Error("应用名称重复")):i()}).catch(function(t){console.log("网络错误，不能访问")}):i()};return{pageNum:1,pageSize:10,total:5,applyData:[],group:"",formLabelWidth:"120px",creatGroup:!1,delGroup:!1,modify:"",modifyBasicAppName:"",amendApp:!1,delApp:!1,searchGroupName:"",dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")},ruleForm:{appName:"",description:"",modifyAppName:"",modifyDescription:""},rules:{appName:[{required:!0,message:"请输入策略名称",trigger:"blur"},{min:4,max:15,message:"长度在 4 到 15 个字符",trigger:"blur"},{validator:e,trigger:"blur"},{validator:a,trigger:"blur"}],description:[{min:0,max:180,message:"不超过180个字符",trigger:"blur"}],modifyAppName:[{required:!0,message:"请输入策略名称",trigger:"blur"},{min:4,max:15,message:"长度在 4 到 15 个字符",trigger:"blur"},{validator:e,trigger:"blur"},{validator:a,trigger:"blur"}],modifyDescription:[{min:0,max:180,message:"不超过180个字符",trigger:"blur"}]}}},created:function(){this.created()},methods:{created:function(){var t=this;s()({method:"post",url:"/app/index",data:{appName:""==this.searchGroupName?null:this.searchGroupName,pageSize:10,pageNum:this.pageNum}}).then(function(e){t.applyData=e.data.data.elements,t.pageNum=0==e.data.data.pageNum?1:e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.total=e.data.data.count}).catch(function(t){console.log("网络错误，不能访问")})},handleCurrentChange:function(t){this.pageNum=t,this.created()},closeCreate:function(){this.ruleForm.appName="",this.ruleForm.description=""},creatApp:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;s()({method:"post",url:"/app/add",data:{appName:""==e.ruleForm.appName?null:e.ruleForm.appName,description:""==e.ruleForm.description?null:e.ruleForm.description}}).then(function(t){e.creatGroup=!1,e.created()}).catch(function(t){console.log("网络错误，不能访问")})})},openModify:function(t){this.modify=t,this.ruleForm.modifyAppName=t.appName,this.ruleForm.modifyDescription=t.description,this.modifyBasicAppName=t.appName,this.amendApp=!0},modifyApp:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;s()({method:"post",url:"/app/update",data:{id:e.modify.id,appName:""==e.ruleForm.modifyAppName?null:e.ruleForm.modifyAppName,description:""==e.ruleForm.modifyDescription?null:e.ruleForm.modifyDescription}}).then(function(t){e.amendApp=!1,e.created()}).catch(function(t){console.log("网络错误，不能访问")})})},closeModify:function(){this.ruleForm.modifyAppName=this.modify.appName,this.ruleForm.modifyDescription=this.modify.description},removeApp:function(t){var e=this;this.$confirm("此操作将删除该app, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s()({method:"post",url:"/app/delete",data:{id:t}}).then(function(t){e.$message({type:"success",message:"删除成功!"}),e.created()}).catch(function(t){console.log("网络错误，不能访问")})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={name:"appListDetail",components:{},data:function(){var t=this,e=function(t,e,a){!1===/^[\u4e00-\u9fa5a-zA-Z][\u4e00-\u9fa5a-zA-Z\d](?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(e)?a(new Error("格式错误")):a()},a=function(e,a,i){a!=t.applyDataDetail.appName?s()({method:"post",url:"/app/checkName",data:{appName:a}}).then(function(t){!1===t.data.data?i(new Error("应用名称重复")):i()}).catch(function(t){console.log("网络错误，不能访问")}):i()};return{pageNum:1,pageSize:8,total:2,value:"",applyDataDetail:{},createAccredit:!1,bindStrategy:!1,granted:[],amendApp:!1,delGroupData:{},strategyData:[],allStrategy:[],strategyName:"",radio:"",strategyUuid:"",formLabelWidth:"120px",authApi:!1,searchApiName:"",env:1,multipleSelection:[],apiList:[],radioEnv:"线上",envFormat:function(t,e){var a=t[e.property];return void 0==a?"":1==a?"线上":"预发"},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")},unitFormat:function(t,e){var a=t[e.property];return void 0==a?"":1==a?"分钟":2==a?"小时":"天"},ruleForm:{modifyAppName:"",modifyDescription:""},rules:{modifyAppName:[{required:!0,message:"请输入策略名称",trigger:"blur"},{min:4,max:15,message:"长度在 4 到 15 个字符",trigger:"blur"},{validator:e,trigger:"blur"},{validator:a,trigger:"blur"}],modifyDescription:[{min:0,max:180,message:"不超过180个字符",trigger:"blur"}]}}},created:function(){this.appDetails(),this.findApis()},methods:{appDetails:function(){var t=this,e=this.$route.query.id;s()({method:"post",url:"/app/details",data:{id:e}}).then(function(e){t.applyDataDetail=e.data.data,t.ruleForm.modifyAppName=e.data.data.appName,t.ruleForm.modifyDescription=e.data.data.description,null!=e.data.data.strategy&&t.strategyData.push(e.data.data.strategy)}).catch(function(t){console.log("网络错误，不能访问")})},findApis:function(){var t=this,e=this.$route.query.id;s()({method:"post",url:"/app/findApis",data:{appId:e,pageNum:this.pageNum,pageSize:8}}).then(function(e){t.granted=e.data.data.elements,t.pageNum=0==e.data.data.pageNum?1:e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.total=e.data.data.count}).catch(function(t){console.log("网络错误，不能访问")})},handleCurrentChange:function(t){this.pageNum=t,this.findApis()},deleteApi:function(t){var e=this;this.$confirm("此操作将解绑该API授权, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s()({method:"post",url:"/app/unAccredit",data:{apiId:t.id,appCertificationId:e.applyDataDetail.id,env:t.env}}).then(function(t){e.$message({type:"success",message:"解绑成功!"}),e.strategyData=[],e.appDetails(),e.findApis()}).catch(function(t){console.log("网络错误，不能访问")})}).catch(function(){e.$message({type:"info",message:"已取消解绑"})})},removeStrategy:function(){var t=this;this.$confirm("此操作将解绑该策略, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s()({method:"post",url:"/app/updateUuid",data:{id:t.applyDataDetail.id,limitStrategyuuid:null}}).then(function(e){t.$message({type:"success",message:"解绑成功!"}),t.strategyData=[],t.appDetails(),t.findApis()}).catch(function(t){console.log("网络错误，不能访问")})}).catch(function(){t.$message({type:"info",message:"已取消解绑"})})},closeModify:function(){this.ruleForm.modifyAppName=this.applyDataDetail.appName,this.ruleForm.modifyDescription=this.applyDataDetail.description},modifyApp:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;s()({method:"post",url:"/app/update",data:{id:e.applyDataDetail.id,appName:""==e.ruleForm.modifyAppName?null:e.ruleForm.modifyAppName,description:""==e.ruleForm.modifyDescription?null:e.ruleForm.modifyDescription}}).then(function(t){e.strategyData=[],e.amendApp=!1,e.appDetails(),e.findApis()}).catch(function(t){console.log("网络错误，不能访问")})})},getAllStrategy:function(t){var e=this;s()({method:"post",url:"/strategy/getAllStrategy",data:{strategyName:t}}).then(function(t){e.allStrategy=t.data.data}).catch(function(t){console.log("网络错误，不能访问")})},addStrategy:function(){0!=this.strategyData.length?this.$message({message:"已绑定策略，如需重新绑定，请先解绑！",type:"warning"}):(this.bindStrategy=!0,this.getAllStrategy(null))},getStrategyList:function(){this.getAllStrategy(""==this.strategyName?null:this.strategyName)},closeDialog:function(){this.strategyName=""},getCurrentRow:function(t){this.strategyUuid=this.allStrategy[t].uuid},setAuth:function(){var t=this;s()({method:"post",url:"/app/updateUuid",data:{id:this.applyDataDetail.id,limitStrategyuuid:this.strategyUuid}}).then(function(e){t.bindStrategy=!1,t.strategyData=[],t.findApis(),t.appDetails()}).catch(function(t){console.log("网络错误，不能访问")})},handleSelectionChangeApi:function(t){this.multipleSelection=t},closeAuthApi:function(){this.searchApiName=""},authApiOpen:function(){this.authApi=!0,this.initApiList()},initApiList:function(){var t=this;s()({method:"post",url:"/app/findNoAccreditApis",data:{appId:this.applyDataDetail.id,apiName:""==this.searchApiName?null:this.searchApiName,env:this.env}}).then(function(e){t.apiList=e.data.data}).catch(function(t){console.log("网络错误，不能访问")})},radioChange:function(t){"线上"==t?(this.env=1,this.multipleSelection=[],this.initApiList()):"预发"==t&&(this.env=2,this.multipleSelection=[],this.initApiList())},confirmAuthApi:function(){var t=this,e=0,a="";0!=this.multipleSelection.length&&(this.multipleSelection.forEach(function(t){a+=0==e?t.id:","+t.id,e++}),s()({method:"post",url:"/app/appToApi",data:{appId:this.applyDataDetail.id,apiIds:a,env:this.env}}).then(function(e){t.authApi=!1,t.findApis()}).catch(function(t){console.log("网络错误，不能访问")}))}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={name:"findApi",components:{},data:function(){return{rules:{appKey:[{required:!0,message:"appKey不能为空"}],appName:[{required:!0,message:"客户名称不能为空"}],description:[{required:!0,message:"请输入备注信息"}],balance:[{required:!0,type:"number",message:"余额不能为空",trigger:"change"}],price:[{required:!0,message:"金额/单价不能为空"}]},jurisdiction:{},addGroupData:{},rechargeData:{},chargeRecordData:{},index:0,billingRules:[],titleText:"",chargeRecordTitleText:"充值记录",searchForm:{pageNum:1,pageSize:10,appKey:""},createCustomer:!1,rechargeFlag:!1,chargeRecordFlag:!1,totalCount:1,pageNum_charge:1,pageSize_charge:10,totalCount_charge:1,chargeRecordSearchForm:{appKey:"",appName:"",pageNum:1,pageSize:10},tableList:[],chargeRecordList:[],formLabelWidth:"120px",showBalanceDialog:!1,tableBalanceData:[],balanceSearch:{appKey:"",pageSize:10,pageNum:1},tableBalanceTotal:0,dateFormat:function(t,e){var a=t[e.property];return void 0===a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")}}},created:function(){this.utils.getUserPermissions(this),this.utils.getBillingRules(this),this.initData()},methods:{initData:function(){var t=this;s()({method:"post",url:" /gateway/charge/customer/list",data:this.searchForm}).then(function(e){2e3===e.data.code?(t.tableList=e.data.data.list,t.totalCount=e.data.data.total):t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问"+t)})},searchData:function(){this.searchForm.pageNum=1,this.initData()},createCustomerCommit:function(){var t=this;"新建客户"===this.titleText&&delete this.addGroupData.id,s()({method:"post",url:"新建客户"===this.titleText?"/gateway/charge/customer/add":"/gateway/charge/customer/update",data:this.addGroupData}).then(function(e){2e3===e.data.code?(t.createCustomer=!1,t.searchData(),t.addGroupData={},t.titleText="",t.$message({type:"success",message:"新建客户"===t.titleText?"新建成功":"编辑成功"})):t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},updateCustomer:function(t){this.createCustomer=!0,this.titleText="编辑客户",this.addGroupData=t,console.log(t)},deleteCustomer:function(t){var e=this;this.delIpData=t,this.$confirm('是否删除 "'+t.appName+'",如删除则不可恢复!',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s()({method:"post",url:"/gateway/charge/customer/delete",data:{id:t.id,appKey:t.appKey}}).then(function(t){2e3===t.data.code?(e.$message({type:"success",message:"删除appKey成功"}),e.searchData()):e.$message({type:"info",message:t.data.message})}).catch(function(t){console.log("网络错误，不能访问"+t)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},recharge:function(t){this.rechargeFlag=!0,this.titleText="客户充值",this.rechargeData.appKey=t.appKey},rechargeCommit:function(){var t=this;s()({method:"post",url:"/gateway/charge/customer/recharge",data:this.rechargeData}).then(function(e){2e3===e.data.code?(t.rechargeFlag=!1,t.$message({type:"success",message:"充值成功"}),t.searchData()):t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},searchChargeRecord:function(){var t=this;s()({method:"post",url:" /gateway/charge/customer/chargeRecord",data:this.chargeRecordSearchForm}).then(function(e){2e3===e.data.code?(t.chargeRecordList=e.data.data.list,t.totalCount_charge=e.data.data.total):t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},initDataChargeRecord:function(t){this.chargeRecordFlag=!0,this.chargeRecordSearchForm.appName=t.appName,this.chargeRecordSearchForm.appKey=t.appKey,this.chargeRecordSearchForm.pageNum=this.pageNum_charge,this.chargeRecordSearchForm.pageSize=this.pageSize_charge,this.chargeRecordTitleText="["+this.chargeRecordSearchForm.appName+"]充值记录",this.searchChargeRecord()},closeDialog:function(){this.addGroupData={}},handleCurrentChange:function(t){this.searchForm.pageNum=t,this.initData()},handleSizeChange:function(t){this.searchForm.pageSize=t,this.searchData()},handleCurrentChangeCharge:function(t){this.chargeRecordSearchForm.pageNum=t,this.searchChargeRecord()},handleSizeChangeCharge:function(t){this.chargeRecordSearchForm.pageSize=t,this.searchChargeRecord()},balanceCustomer:function(t){this.showBalanceDialog=!0,this.balanceSearch.appKey=t.appKey,this.handleCurrentBalanceChange(1)},dialogBalanceClose:function(){this.showBalanceDialog=!1},balanceHandle:function(){var t=this;s()({method:"post",url:"/gateway/charge/customer/balance/history",data:this.balanceSearch}).then(function(e){2e3===e.data.code?(t.tableBalanceData=e.data.data.list,t.tableBalanceTotal=e.data.data.total):t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},handleSizeBalanceChange:function(t){this.balanceSearch.pageSize=t,this.handleCurrentBalanceChange(1)},handleCurrentBalanceChange:function(t){this.balanceSearch.pageNum=t,this.balanceHandle()},dataFixed:function(t,e){var a=t[e.property];return void 0==a?"":a.toFixed(2)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(61),s=a.n(i),n=a(5),o=a.n(n),r=a(1),l=a.n(r),c=a(203),d=a.n(c);e.default={name:"findApi",components:{PageHeader:d.a},data:function(){return{jurisdiction:{},addGroupData:{},amendObj:{},index:0,apiNameAry:[],apiAry:[],appKeyAry:[],billingRules:[],titleText:"",searchParams:{pageNum:1,pageSize:10,appKey:"",apiId:""},createAuthFlag:!1,total:0,page:1,searchIp:"",listLoading:!1,tableList:[],newPage:"",formLabelWidth:"120px",companyId:"",createGroupName:"",showStockDialog:!1,tableStockData:[],stockSearch:{appKey:"",apiId:null,pageSize:10,pageNum:1},addType:"",tableStockTotal:0,dateFormat:function(t,e){var a=t[e.property];return void 0==a||0==a?"":l()(a).format("YYYY-MM-DD")},dateFormatTime:function(t,e){var a=t[e.property];return void 0==a||0==a?"":l()(a).format("YYYY-MM-DD HH:mm:ss")}}},created:function(){this.utils.getUserPermissions(this),this.initData(),this.getApiNameAry(),this.getAppKeyAry(),this.utils.getBillingRules(this)},methods:{initData:function(){var t=this;this.listLoading=!0,o()({method:"post",url:"/gateway/charge/auth/search",data:this.searchParams}).then(function(e){t.listLoading=!1,2e3===e.data.code?(t.tableList=e.data.data.list,t.total=e.data.data.total):t.$message({type:"info",message:e.data.message})}).catch(function(e){t.listLoading=!1,console.log("网络错误，不能访问: "+e)})},searchData:function(){this.searchParams.pageNum=1,this.initData()},addAuth:function(){var t=this,e=JSON.parse(s()(this.addGroupData));e.startTime=e.startTime?Number(l()(e.startTime).format("x")):"",e.endTime=e.endTime?Number(l()(e.endTime).format("x")):"";var a=" ";"创建"===this.titleText||"批量创建"===this.titleText?(delete e.id,"more"===this.addType?(delete e.apiId,a="/gateway/charge/auth/listSave"):(delete e.apiIds,a="/gateway/charge/auth/save")):a="/gateway/charge/auth/edit",o()({method:"post",url:a,data:e}).then(function(e){2e3===e.data.code?(t.$message({type:"success",message:"编辑"===t.titleText?"编辑成功":"创建成功"}),t.searchData(),t.amendObj={},t.titleText="",t.closeDialog()):t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},updateAuth:function(t){this.amendObj=t,this.createAuthFlag=!0,this.titleText="编辑",this.addGroupData=t,this.addGroupData.startTime=l()(t.startTime).format("YYYY-MM-DD"),this.addGroupData.endTime=l()(t.endTime).format("YYYY-MM-DD")},delIp:function(t){var e=this;this.delIpData=t,this.$confirm('是否删除",如删除则不可恢复!',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.delIPList(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},delIPList:function(t){var e=this;o()({method:"post",url:"/gateway/charge/auth/delete",data:{id:t.id}}).then(function(t){2e3===t.data.code?(e.$message({type:"success",message:"删除成功"}),e.searchData()):e.$message({type:"info",message:t.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},handleCurrentChange:function(t){this.searchParams.pageNum=t,this.initData()},handleSizeChange:function(t){this.searchParams.pageSize=t,this.searchData()},getApiNameAry:function(){var t=this;o()({method:"post",url:"/apiGroup/listOfNoLowerLevelGroup",data:{}}).then(function(e){2e3===e.data.code?t.apiNameAry=e.data.data:t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},getApiIdAry:function(t){this.utils.getApiAry(this,t),"批量创建"===this.titleText?this.$set(this.addGroupData,"apiIds",[]):"创建"===this.titleText&&this.$set(this.addGroupData,"apiId",null)},getAppKeyAry:function(){var t=this;o()({method:"post",url:"/app/findApp",data:{}}).then(function(e){2e3===e.data.code?t.appKeyAry=e.data.data:t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},openCreate:function(t){this.createAuthFlag=!0,this.titleText="more"===t?"批量创建":"创建",this.addType=t},handleClose:function(t){this.$refs.addGroupDataRef.resetFields(),this.createAuthFlag=!1,this.createGroupName="",t()},closeDialog:function(){this.$refs.addGroupDataRef.resetFields(),this.createAuthFlag=!1,this.createGroupName=""},getAppName:function(t){var e=this;this.apiAry.forEach(function(a){a.id===t&&(e.addGroupData.apiName=a.apiName)})},stockHistory:function(t){this.stockSearch.appKey=t.appKey,this.stockSearch.apiId=t.apiId,this.handleCurrentStockChange(1),this.showStockDialog=!0},dialogStockClose:function(){this.showStockDialog=!1},handleSizeStockChange:function(t){this.stockSearch.pageSize=t,this.handleCurrentStockChange(1)},handleCurrentStockChange:function(t){this.stockSearch.pageNum=t,this.stockHandle()},stockHandle:function(){var t=this;o()({method:"post",url:"/gateway/charge/auth/stock/history",data:this.stockSearch}).then(function(e){2e3===e.data.code?(t.tableStockData=e.data.data.list,t.tableStockTotal=e.data.data.total):t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},selectChange:function(){this.$forceUpdate()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i);a(29);e.default={name:"authorityMsg",data:function(){return{searchAppKey:"",searchGroupName:"",port:"",tablegroup:[],portAlt:null,portAltOptions:[{label:"是",id:0},{label:"否",id:1}],pageNum:1,pageSize:10,total:0,newPage:"",creataut:!1,formLabelWidth:"120px",addPortForm:{},groupNameOptions:[],portOptions:[],titleTab:"创建",delData:{},groupTab:!1,groupTabSlide:!1,portTab:!1,searchBtn:!1,addBtn:!1,jurisdiction:{}}},created:function(){this.initData(),this.utils.getUserPermissions(this)},methods:{initData:function(){var t=this;s()({method:"post",url:"/agency/findAgencyInfoList",data:{apiGroupName:this.searchGroupName,apiName:this.port,appKey:this.searchAppKey,sourceFlag:this.portAlt,pageSize:""==this.newPage?10:this.newPage,pageNum:this.pageNum}}).then(function(e){2e3==e.data.code?t.jurisdiction.roles.includes("admin")?(t.searchBtn=!0,t.addBtn=!0,t.tablegroup=e.data.data.elements,t.pageNum=0==e.data.data.pageNum?1:e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.total=e.data.data.count):(t.searchBtn=!1,t.addBtn=!1):t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},slideListGroup:function(){var t=this;this.groupNameOptions=[],s()({method:"post",url:"/apiGroup/listOfNoLowerLevelGroup",data:{}}).then(function(e){e.data.data.map(function(e){t.groupNameOptions.push({label:e.groupName,id:e.id})})}).catch(function(t){console.log("网络错误，不能访问")})},slideLabelGroup:function(t){if(this.groupNameOptions.length>0){var e={};e=this.groupNameOptions.find(function(e){return e.id===t}),void 0!==e&&(this.addPortForm.groupName=e.label,this.groupTabSlide=!0,this.addPortForm.apiName&&(this.addPortForm.apiName=""))}},slideListPort:function(){var t=this;this.portOptions=[],s()({method:"post",url:"/api/findApiByGroupId",data:{id:this.groupTabSlide?this.addPortForm.apiGroupName:this.addPortForm.apiGroupId}}).then(function(e){e.data.data.map(function(e){t.portOptions.push({label:e.apiName,id:e.id})})}).catch(function(t){console.log("网络错误，不能访问")})},slideLabel:function(t){if(this.portOptions.length>0){var e={};e=this.portOptions.find(function(e){return e.id===t}),void 0!==e&&(this.addPortForm.portName=e.label,this.portTab=!0)}},addName:function(){this.titleTab="创建",this.creataut=!0,this.groupTabSlide=!1,this.portTab=!1,this.addPortForm={},this.groupNameOptions=[],this.portOptions=[]},addaut:function(t){var e=this;void 0!=this.addPortForm.portName&&""!=this.addPortForm.portName||(this.addPortForm.portName=""),0==this.addPortForm.sourceFlag&&(this.portTab=!1,this.addPortForm.apiId="",this.addPortForm.apiName=""),this.$refs[t].validate(function(a){if(!a)return console.log("error submit!!"),!1;s()({method:"post",url:"创建"==e.titleTab?"/agency/add":"/agency/update",data:{apiId:e.portTab?e.addPortForm.apiName:e.addPortForm.apiId,apiName:e.portTab?e.addPortForm.portName:e.addPortForm.apiName,apiGroupId:"创建"==e.titleTab?e.addPortForm.apiGroupName:e.addPortForm.apiGroupId,apiGroupName:e.groupTabSlide?e.addPortForm.groupName:e.addPortForm.apiGroupName,appKey:e.addPortForm.appKey,dataConfig:e.addPortForm.dataConfig,sourceFlag:e.addPortForm.sourceFlag,id:"编辑"==e.titleTab?e.addPortForm.id:""}}).then(function(a){2e3==a.data.code?("创建"==e.titleTab?e.$message({type:"success",message:"新建成功"}):e.$message({type:"success",message:"编辑成功"}),e.creataut=!1,e.initData(),e.$refs[t].resetFields()):e.$message({type:"info",message:a.data.message})}).catch(function(t){console.log("网络错误，不能访问"),e.addPortForm={}})})},amendport:function(t){this.titleTab="编辑",this.addPortForm={},this.addPortForm=t,this.creataut=!0,this.groupTabSlide=!1,this.portTab=!1,console.log(t)},callOf:function(t){this.creataut=!1,this.addPortForm={},this.$refs[t].resetFields(),this.initData()},delport:function(t,e){var a=this;this.delData=e,this.$confirm('是否删除 "'+e.apiName+'",如删除则不可恢复!',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.delMsg()}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},delMsg:function(){var t=this;s()({method:"post",url:"/agency/delete",data:{id:this.delData.id}}).then(function(e){2e3==e.data.code?(t.initData(),t.$message({type:"success",message:"删除成功"})):t.$message({type:"info",message:"删除失败"})}).catch(function(t){console.log("网络错误，不能访问")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},handleCurrentChange:function(t){this.pageNum=t,this.initData()},handleSizeChange:function(t){this.newPage=t,this.initData()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i,s=a(62),n=a.n(s),o=a(5),r=a.n(o),l=a(1),c=a.n(l);e.default={name:"billingRule",components:{},data:function(){return{jurisdiction:{principal:{},loginUrl:"",logoutUrl:"",roles:[],perms:[]},addSBtn:!1,amendSBtn:!1,delSBtn:!1,pageNum:1,pageSize:10,totalCount:1,pageNumA:1,pageSizeA:5,totalA:5,amendStrategyDialog:!1,appList:[],oderr:"",tableList:[],flwDatalin:"",tableData3:[],flowAmendData:{name:"",no:"",unit:1},group:"",value:"",searchForm:{name:"",billingMode:""},formLabelWidth:"120px",description:"",currentPage4:4,createBillingRule:!1,editBillingRuleFlag:!1,createForm:{id:"",name:"",billingType:"",billingCycle:"",billingCycleLimit:"",billingMode:""},delData:"",billingModeOptions:[{value:"",label:"全部"},{value:"1",label:"查询计费"},{value:"2",label:"查得计费"}],multipleSelection:[],strategyInfo:{},flowArr:{},rowFlowData:{},newPage:"",unitFormat:function(t,e){var a=t[e.property];return void 0==a?"":1==a?"分钟":2==a?"小时":"天"},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":c()(a).format("YYYY-MM-DD HH:mm:ss")},billingRuleLimitFormat:function(t,e){var a=t[e.property];return-1===a?"无限":a},rules:{billingType:[{required:!0,message:"请选择计费类型"}],billingCycle:[{required:!1,message:"请选择计费周期"}],billingCycleLimit:[{required:!1,message:"请输入计费时间"}],billingMode:[{required:!0,message:"请选择计费模式"}]}}},created:function(){this.getUserPermissions(),this.initData()},methods:(i={getUserPermissions:function(){var t=this;r()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},initData:function(){var t=this;r()({method:"post",url:"/gateway/charge/billingRules/list",data:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.searchForm.name,billingMode:this.searchForm.billingMode}}).then(function(e){2e3===e.data.code?(t.tableList=e.data.data.list,t.pageNum=e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.totalCount=e.data.data.totalCount):403===e.data.code&&(location.href=e.data.data),t.jurisdiction.roles.includes("admin")?(t.amendSBtn=!0,t.delSBtn=!0,t.addSBtn=!0):(t.amendSBtn=!1,t.delSBtn=!1,t.addSBtn=!1)}).catch(function(t){console.log("网络错误，不能访问"+t)})},addBillingRule:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;r()({method:"post",url:"/gateway/charge/billingRules/add",data:{billingType:e.createForm.billingType,billingCycle:e.createForm.billingCycle,billingCycleLimit:e.createForm.billingCycleLimit,billingMode:e.createForm.billingMode}}).then(function(t){2e3!==t.data.code?e.$message({type:"warning",message:t.data.message}):(e.initData(),e.$message({type:"success",message:t.data.message})),e.createBillingRule=!1}).catch(function(t){console.log("网络错误，不能访问")})})},editBillingRule:function(t){this.editBillingRuleFlag=!0,this.createForm.id=t.id,this.createForm.name=t.name,this.createForm.billingType=t.billingType,this.createForm.billingCycle=t.billingCycle,this.createForm.billingCycleLimit=t.billingCycleLimit,this.createForm.billingMode=t.billingMode},editBillingRuleCommit:function(t){var e=this;2===this.createForm.billingType&&(this.createForm.billingCycle="",this.createForm.billingCycleLimit=""),this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;r()({method:"post",url:"/gateway/charge/billingRules/update",data:{id:e.createForm.id,name:e.createForm.name,billingType:e.createForm.billingType,billingCycle:e.createForm.billingCycle,billingCycleLimit:e.createForm.billingCycleLimit,billingMode:e.createForm.billingMode}}).then(function(t){2e3!==t.data.code?e.$message({type:"warning",message:t.data.message}):(e.editBillingRuleFlag=!1,e.initData(),e.$message({type:"success",message:t.data.message}))}).catch(function(t){console.log("网络错误，不能访问")})})},addPort:function(){var e=new Date,a=e.getFullYear(),i=e.getMonth()+1,s=e.getDate(),n=e.getHours(),o=e.getMinutes(),r=e.getSeconds();this.tableData.push({group:this.group,description:this.description,data:a+"-"+i+"-"+s+" "+n+":"+o+":"+r}),this.group="",this.description="",""==this.group?t(".group").show():(t(".group").hide(),this.tableData.push({group:this.name,description:this.descript}))},handleCurrentChange:function(t){this.pageNum=t,this.initData()},handleSizeChange:function(t){this.pageSize=t,this.initData()},deleteBillingRule:function(t){for(var e=this,a=0;a<this.jurisdiction.perms.length;a++)"dde36ab7732e4f87b46c65fe39589aec"===this.jurisdiction.perms[a]&&(this.delData=t,this.$confirm('是否删除规则 "'+this.delData.name+'" ,如删除则不可恢复!',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteBillingRuleCommit()}).catch(function(){e.$message({type:"info",message:"已取消删除"})}))},deleteBillingRuleCommit:function(){var t=this;r()({method:"post",url:"/gateway/charge/billingRules/delete",data:{id:this.delData.id}}).then(function(e){2e3===e.data.code?(t.initData(),t.$message({type:"success",message:e.data.message})):t.$message({type:"warning",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},handleSelectionChange:function(t){this.multipleSelection=t},handleCurrentChangeA:function(t){this.pageNumA=t},checkboxInit:function(t,e){var a=t.limitStrategyuuid;return null!=a&&""!=a?0:1}},n()(i,"handleSelectionChange",function(t){this.multipleSelection=t}),n()(i,"closeDialog",function(){this.createForm.id="",this.createForm.name="",this.createForm.billingType="",this.createForm.billingCycle="",this.createForm.billingCycleLimit="",this.createForm.billingMode=""}),i)}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(649),s=a.n(i),n=a(647),o=a.n(n),r=a(29),l=a(5),c=a.n(l);e.default={name:"codeMap",data:function(){return{jurisdiction:{},exportBtn:!1,pageNum:1,pageSize:10,total:0,codeData:[],searchStrategy:"",formLabelWidth:"120px",subApisArr:[],mappingArr:[],subApisArr1:[],lookData:!1,callBack:"",optionTar:"",newPage:"",actionUrl:"",codeApiId:"",codeUrl:""}},created:function(){this.initData(),this.utils.getUserPermissions(this)},methods:{filterFile:function(t){var e=this,a=t.file;return setTimeout(function(){return e.submitFile(a)},0),!1},submitFile:function(t){var e=this;return o()(s.a.mark(function a(){var i,n;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=new window.FormData,i.append("file",t),a.next=4,e.$http.post("/api/"+e.codeApiId+"/uploadExcel",i,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){2e3==t.data.code?(e.$message({type:"success",message:"导入成功"}),e.initData()):e.$message({type:"error",message:t.data.message})}).catch(function(t){console.log("网络错误，不能访问")});case 4:n=a.sent;case 5:case"end":return a.stop()}},a,e)}))()},codeLeadTwoBtn:function(t){this.codeApiId=t.id},beforeAvatarUpload:function(t){var e=t.name.substring(t.name.lastIndexOf(".")+1),a="xls"===e,i="xlsx"===e,s=t.size/1024/1024<10;return a||i||this.$message({message:"上传文件只能是 xls xlsx格式！",type:"warning"}),s||this.$message({message:"上传文件大小不能超过10MB！",type:"warning"}),a||i&&s},menuData:function(){t(".el-menu-item").eq(5).removeClass("is-active"),t(".el-menu-item").eq(4).removeClass("is-active"),t(".el-menu-item").eq(3).addClass("is-active")},initData:function(){var t=this;c()({method:"post",url:"/dict/query/config",data:{apiName:this.searchStrategy,pageSize:""==this.newPage?10:this.newPage,pageNum:this.pageNum}}).then(function(e){403==e.data.code&&(location.href=e.data.data),t.jurisdiction.roles.includes("admin")?t.exportBtn=!0:t.exportBtn=!1,t.codeData=e.data.data.list,t.pageNum=e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.total=e.data.data.total}).catch(function(t){console.log("网络错误，不能访问")})},handleCurrentChange:function(t){this.pageNum=t,this.initData()},handleSizeChange:function(t){this.newPage=t,this.initData()},lookDia:function(e){var i=a.i(r.a)(e.callBackSuccessExample);t(".writePlaces").html("<pre>"+i+"<pre/>"),this.callBack=i,this.lookData=!0},lookEvent:function(e){var i=a.i(r.a)(e.callBackSuccessExample);t(".writePlaces").html("<pre>"+i+"<pre/>"),this.callBack=i,this.lookData=!0}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i);e.default={name:"flowMonitoring",components:{},data:function(){return{jurisdiction:{},addJBtn:!1,typeBtn:!1,delBtnO:!1,delBtnT:!1,addMBtn:!1,pageNum:1,pageSize:10,total:0,pageNum2:1,pageSize2:10,total2:0,dictType:"",dictCodes:"",dictKey:"",dictCode:"",codeData:[],codeValMap:[],typeNameOptions:[],typeNameOptions2:[],keyOptions:[],keyOptionsId:"",typeNameOptionsArr:[],searchStrategy:"",searchType:"",searchCode:"",formLabelWidth:"120px",activeName:"first",codeVal:!1,otherVal:!1,codeValMsg:!1,amendType:!1,dictionaryId:"",value:"",form:{region:""},addCodeMes:{},codeMapMes:{},addType:"",typeDia:[],typeName:"",typeObj:{},typeNameOptions2Res:"",valueKey:"",valueKey2:"",optionsKey:[],arr:[],newPage:"",newPage2:""}},created:function(){this.initData(),this.typeData(),this.dataList(),this.getUserPermissions()},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},initData:function(){var t=this;s()({method:"post",url:"/dict/query/dictionary",data:{typeId:this.dictType,dictValue:this.dictCodes,pageSize:""==this.newPage?10:this.newPage,pageNum:this.pageNum}}).then(function(e){403==e.data.code&&(location.href=e.data.data),t.jurisdiction.roles.includes("admin")?(t.delBtnO=!0,t.addJBtn=!0,t.typeBtn=!0):(t.delBtnO=!1,t.addJBtn=!1,t.typeBtn=!1),t.codeData=e.data.data.list,t.pageSize=e.data.data.pageSize,t.total=e.data.data.total}).catch(function(t){console.log("网络错误，不能访问")})},dataList:function(){var t=this;s()({method:"post",url:"/dict/query/dictionary",data:{pageSize:1e4}}).then(function(e){var a=e.data.data.list;t.keyOptions=[],a.map(function(e){t.keyOptions.push({label:e.dictValue,id:e.id})})}).catch(function(t){console.log("网络错误，不能访问")})},addCode:function(){this.codeVal=!0},addtypeBtn:function(){this.codeVal=!1,this.otherVal=!0},addCodeVal:function(t){var e=this;this.$refs[t].validate(function(a){if(!a)return!1;e.typeNameOptions.map(function(t){e.typeNameOptionsArr=t}),e.addCodeMes.typeId=e.typeNameOptionsArr.id,s()({method:"post",url:"/dict/save/dictionary",data:{dictValue:e.addCodeMes.dictValueOne,dictName:e.addCodeMes.dictNamesDic,typeId:e.typeNameOptions2Res}}).then(function(a){2e3==a.data.code?(e.$refs[t].resetFields(),e.addCodeMes.dictValueOne="",e.addCodeMes.dictNamesDic="",e.typeNameOptions2Res="",e.codeVal=!1,e.initData(),e.$message({message:"添加成功",type:"success"})):e.$message.error(a.data.message)}).catch(function(t){console.log("网络错误，不能访问")})})},addTypeBtn:function(){var t=this;this.addType.length>200?this.$message.info("输入长度不能大于200！"):s()({method:"post",url:"/dict/save/type",data:{name:this.addType}}).then(function(e){2e3==e.data.code?(t.addType="",t.initData(),t.typeData()):t.$message({message:e.data.message,type:"warning"})}).catch(function(t){console.log("网络错误，不能访问")})},addTypeData:function(){this.otherVal=!0},typeData:function(){var t=this;s()({method:"post",url:"/dict/query/type",data:{pageSize:100}}).then(function(e){t.typeDia=e.data.data.list;var a=e.data.data.list;t.typeNameOptions=[],t.typeNameOptions2=[],t.typeNameOptions.push({label:"全部",id:""}),a.map(function(e){t.typeNameOptions.push({label:e.name,id:e.id}),t.typeNameOptions2.push({label:e.name,id:e.id})})}).catch(function(t){console.log("网络错误，不能访问")})},delCode:function(t){var e=this;this.$confirm('此操作将永久删除该键值"'+t.dictValue+'", 是否继续?',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.delCodeRes(t),e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},delCodeRes:function(t){var e=this;s()({method:"post",url:"/dict/delete/dictionary",data:{id:t.id}}).then(function(t){e.initData()}).catch(function(t){console.log("网络错误，不能访问")})},amendCode:function(t){this.amendType=!0,this.typeName=t.name,this.typeObj=t},amendTypeBtn:function(){var t=this;s()({method:"post",url:"/dict/save/type",data:{name:this.typeName,id:this.typeObj.id}}).then(function(e){2e3==e.data.code?(t.amendType=!1,t.typeData(),t.initData()):t.$message({message:e.data.message,type:"warning"})}).catch(function(t){console.log("网络错误，不能访问")})},delType:function(t){var e=this;this.$confirm('此操作将永久删除该类别"'+t.name+'", 是否继续?',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.delTypeRes(t),e.typeData(),e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},delTypeRes:function(t){var e=this;s()({method:"post",url:"/dict/delete/type",data:{id:t.id}}).then(function(t){console.log(t,"删除类别"),e.typeData()}).catch(function(t){console.log("网络错误，不能访问")})},slideList:function(){this.codeOptions()},handleClick:function(t,e){1==t.index&&(this.codeValMapTwo(),this.dataList(),this.getUserPermissions2())},getUserPermissions2:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){null==t.jurisdiction.perms&&t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},codeValMapTwo:function(){var t=this;s()({method:"post",url:"/dict/query/item",data:{dictItemValue:this.dictCode,dictionaryId:this.valueKey,pageSize:""==this.newPage2?10:this.newPage2,pageNum:this.pageNum2}}).then(function(e){403==e.data.code&&(location.href=e.data.data),t.jurisdiction.roles.includes("admin")?(t.delBtnT=!0,t.addJBtn=!0,t.addMBtn=!0):(t.delBtnT=!1,t.addMBtn=!1),t.codeValMap=e.data.data.list,t.pageSize2=e.data.data.pageSize,t.total2=e.data.data.total,t.optionsKey=[],t.optionsKey.push({label:"全部",id:""})}).catch(function(t){console.log("网络错误，不能访问")})},codeOptions:function(){var t=this;s()({method:"post",url:"/dict/query/dictionary",data:{pageSize:6e3}}).then(function(e){var a=e.data.data.list;t.optionsKey=[],t.optionsKey.push({label:"全部",id:""}),a.map(function(e){t.optionsKey.push({label:e.dictValue,id:e.id})})}).catch(function(t){console.log("网络错误，不能访问")})},codeValMsgRes:function(t){var e=this;this.$refs[t].validate(function(a){if(!a)return console.log("error submit!!"),!1;s()({method:"post",url:"/dict/save/item",data:{dictItemValue:e.codeMapMes.dictValueTwo,dictItemName:e.codeMapMes.dictItemNameTwo,dictionaryId:e.valueKey2}}).then(function(a){2e3==a.data.code?(e.$refs[t].resetFields(),e.codeValMsg=!1,e.valueKey2="",e.codeMapMes.dictValueTwo="",e.codeMapMes.dictItemNameTwo="",e.codeValMapTwo(),e.$message({type:"success",message:"添加成功!"})):e.$message({type:"info",message:a.data.message})}).catch(function(t){console.log("网络错误，不能访问")})})},delCodeMap:function(t){var e=this;this.$confirm('是否删除码值 "'+t.dictItemValue+'" ,如删除则不可恢复!',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"删除成功!"}),e.delStrategy(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},delStrategy:function(t){var e=this;s()({method:"post",url:"/dict/delete/item",data:{id:t.id}}).then(function(t){console.log(t,"删除222成功"),e.codeValMapTwo()}).catch(function(t){console.log("网络错误，不能访问")})},validateT:function(){this.addType.length>200&&this.$message.info("输入长度不能大于200！")},handleCurrentChange:function(t){this.pageNum=t,this.initData()},handleSizeChange:function(t){this.newPage=t,this.initData()},handleCurrentChange2:function(t){this.pageNum2=t,this.codeValMapTwo()},handleSizeChange2:function(t){this.newPage2=t,this.codeValMapTwo()},callOf:function(t){this.codeValMsg=!1,this.$refs[t].resetFields()},callOfCode:function(t){this.codeVal=!1,this.$refs[t].resetFields()},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},tableRowClassName2:function(t,e){return e%2!=0?"info-row":""}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(5),s=a.n(i),n=a(202),o=a.n(n),r=a(1),l=a.n(r),c=a(205),d=a.n(c),p=a(29);e.default={name:"authorityMsg",data:function(){return{apiIdSearch:"",port:"",env:"",pageNum:1,pageSize:10,total:0,searchBtn:!1,tablegroup:[],runArr:[{text:"线上",value:1},{text:"预发",value:2}],currentPage:1,amendBtn:!1,newPage:"",groupHerfId:{pubDescription:""},numData2:[],detialVersionFlag:null,resultSettingsVersionsList:[],backEndParam2:[],requestParamsVersionsList:[],apiDefineDetail:{},backendVersionsList:[],look:!1}},created:function(){this.initData(),this.getUserPermissions()},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},initData:function(){var t=this;s()({method:"post",url:"/api/combinationApiList",data:{env:void 0==this.env?"":this.env,apiName:""===this.port?null:this.port,apiId:""===this.apiIdSearch?null:this.apiIdSearch,pageSize:""==this.newPage?10:this.newPage,pageNum:this.pageNum}}).then(function(e){2e3==e.data.code?t.jurisdiction.roles.includes("admin")?(t.searchBtn=!0,t.amendBtn=!0,t.tablegroup=e.data.data.list,t.currentPage=e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.total=e.data.data.total):(t.searchBtn=!1,t.amendBtn=!1):t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},tableChange:function(t){t.hasOwnProperty("runTimeEnv")&&(this.env=t.runTimeEnv[0],this.setDefaultSearch())},setDefaultSearch:function(){this.pageNum=1,this.currentPage=1,this.initData()},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":l()(a).format("YYYY-MM-DD HH:mm:ss")},formatter:function(t,e){return t.address},filterTag:function(t,e){return e.tag===t},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},handleCurrentChange:function(t){this.pageNum=t,this.initData()},handleSizeChange:function(t){this.newPage=t,this.initData()},lookData:function(e,i){var n=this;this.apiDefineDetail={},this.backendVersionsList=[],this.requestParamsVersionsList=[],this.resultSettingsVersionsList=[],this.backEndParam2=[],this.numData2=[],this.detialVersionFlag=i,this.groupHerfId=e;var o=this.groupHerfId.apiGroupId,r=this.groupHerfId.id;this.look=!0,s()({method:"post",url:"/api/findApiInfoVersion",data:{apiGroupId:o,id:r,versionId:i}}).then(function(e){var i=a.i(p.a)(n.groupHerfId.callBackSuccessExample);t(".successWritePlaceDialog").html("<pre>"+i+"<pre/>");var s=a.i(p.a)(n.groupHerfId.callBackFailExample);t(".errorWritePlaceDialog").html("<pre>"+s+"<pre/>"),n.apiDefineDetail=e.data.data.apiInfoVersion,n.backendVersionsList=e.data.data.backendVersionsList,e.data.data.backendVersionsList.forEach(function(t,e){1==t.paramsType?n.backEndParam2.push(t):2==t.paramsType&&n.numData2.push(t)}),n.requestParamsVersionsList=e.data.data.requestParamsVersionsList,n.resultSettingsVersionsList=e.data.data.resultSettingsVersionsList}).catch(function(t){console.log("网络错误")})},menuGroup:function(){var t=this;this.groupHerfId;s()({method:"post",url:"/apiGroup/allList",data:{}}).then(function(e){t.jurisdiction.perms.map(function(a){if("8e0d4a7bd5a7467ebe33dca8c4b9c22c"==a)for(var i=e.data.data,s=0;s<i.length;s++)t.groupArr[s]={text:i[s].groupName,value:i[s].id}})}).catch(function(t){console.log("网络错误，不能访问")})},publish:function(t,e){this.groupHerfId=e,this.rowIndex=t,this.issue=!0}},components:{env:o.a,queryApiDetail:d.a}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={data:function(){return{jurisdiction:null,combinationId:"",tablegroup:[],amendBtn:!1,deleteBtn:!1,createBtN:!1,creataut:!1,titleTab:"",addPortForm:{},formLabelWidth:"120px",groupNameOptions:[],portOptions:[],addPortFormRules:{apiGroupId:[{required:!0,type:"number",message:"路径不能为空",trigger:"change"}],apiId:[{required:!0,type:"number",message:"路径不能为空",trigger:"change"}],httpPath:[{required:!0,trigger:"blur",message:"路径不能为空"}],weight:[{required:!0,type:"number",trigger:"blur",message:"权值不能为空"},{validator:function(t,e,a){var i=/^([0-9]|10)$/;""===e?a(new Error("权重不能为空")):!1===i.test(e)?a(new Error("权重为0-10的整数!")):a()},trigger:"blur"}],score:[{required:!0,type:"number",message:"分值不能为空",trigger:"blur"}]},delApiData:{}}},components:{},mounted:function(){this.$route.query.combinationId&&(this.combinationId=this.$route.query.combinationId,this.initData())},created:function(){this.getUserPermissions()},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},initData:function(){var t=this;s()({method:"post",url:"/combination/query",data:{combinationId:this.combinationId}}).then(function(e){2e3==e.data.code?t.jurisdiction.roles.includes("admin")?(t.amendBtn=!0,t.deleteBtn=!0,t.createBtN=!0,t.tablegroup=e.data.data):(t.amendBtn=!1,t.deleteBtn=!1,t.createBtN=!1):t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},tableChange:function(t){t.hasOwnProperty("runTimeEnv")&&(this.env=t.runTimeEnv[0],this.initData())},addApi:function(){this.creataut=!0,this.addPortForm={},this.titleTab="创建"},updataApiBtn:function(t){this.creataut=!0,this.titleTab="编辑",this.addPortForm=t,this.slideListPort()},slideListGroup:function(){var t=this;this.groupNameOptions=[],s()({method:"post",url:"/apiGroup/listOfNoLowerLevelGroup",data:{}}).then(function(e){e.data.data.map(function(e){t.groupNameOptions.push({label:e.groupName,id:e.id})})}).catch(function(t){console.log("网络错误，不能访问")})},slideListPort:function(){var t=this;this.portOptions=[],s()({method:"post",url:"/api/findApiByGroupId",data:{id:this.addPortForm.apiGroupId}}).then(function(e){t.portOptions=e.data.data}).catch(function(t){console.log("网络错误，不能访问")})},slideLabelGroup:function(t){if(this.groupNameOptions.length>0){var e={};e=this.groupNameOptions.find(function(e){return e.id===t}),void 0!==e&&(this.addPortForm.groupName=e.label,this.groupTabSlide=!0,this.addPortForm.apiName&&(this.addPortForm.apiName=""))}},slideLabel:function(t){if(this.portOptions.length>0){var e={};e=this.portOptions.find(function(e){return e.id===t}),void 0!==e&&(console.log(e),this.addPortForm.apiName=e.apiName,this.addPortForm.httpPath=e.httpPath,this.portTab=!0)}},callOf:function(t){this.creataut=!1,this.addPortForm={},this.$refs[t].resetFields()},addaut:function(t){var e=this;this.$refs[t].validate(function(a){var i=e.portOptions.filter(function(t){return t.id===e.addPortForm.apiId});if(console.log(i),!a)return console.log("error submit!!"),!1;s()({method:"post",url:"创建"==e.titleTab?"/combination/add":"/combination/update",data:{combinationId:e.combinationId,apiGroupId:e.addPortForm.apiGroupId,apiId:e.addPortForm.apiId,httpPath:e.addPortForm.httpPath,weight:e.addPortForm.weight,score:e.addPortForm.score,apiName:i[0].apiName,id:"编辑"==e.titleTab?e.addPortForm.id:""}}).then(function(a){2e3==a.data.code?("创建"==e.titleTab?e.$message({type:"success",message:"新建成功"}):e.$message({type:"success",message:"编辑成功"}),e.creataut=!1,e.initData(),e.$refs[t].resetFields()):e.$message({type:"info",message:a.data.message})}).catch(function(t){console.log("网络错误，不能访问"),e.addPortForm={}})})},delApiBtn:function(t,e){var a=this;this.delApiData=e,this.delApiData.index=t,this.$confirm('是否删除API "'+this.delApiData.apiName+'",如删除则不可恢复!',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.delApiMes(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},delApiMes:function(t){var e=this,a=this.delApiData;s()({method:"post",url:"/combination/delete",data:{id:a.id}}).then(function(a){2e3!==a.data.code?e.$message({type:"error",message:a.data.message}):(e.tablegroup.splice(t,1),e.$message({type:"success",message:"删除API成功"}))}).catch(function(t){console.log("网络错误，不能访问")})},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(478),s=a.n(i),n=a(479),o=a.n(n),r=a(480),l=a.n(r);e.default={data:function(){return{activeName:"first"}},components:{FlowControl:s.a,FlowRateLimit:o.a,FlowRateLimitInterface:l.a},mounted:function(){},methods:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(472),o=a.n(n),r=a(473),l=a.n(r),c=a(474),d=a.n(c);e.default={name:"customerBill",components:{customerBillDay:o.a,customerBillMonth:l.a,customerBillYear:d.a},data:function(){return{activeName:"day",jurisdiction:{principal:{},loginUrl:"",logoutUrl:"",roles:[],perms:[]}}},created:function(){var t=this;this.$nextTick(function(){t.getUserPermissions()})},mounted:function(){},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!==t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误: "+t)})},handleTabClick:function(t){console.log(t.name)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={name:"customerBillDay",components:{},data:function(){return{dialogTableVisible:!1,activeUrl:"/gateway/charge/bill/listBillByDay",showType:"table",jurisdiction:{principal:{},loginUrl:"",logoutUrl:"",roles:[],perms:[]},listDetailLoading:!1,searchParams:{startTime:Number(o()(o()(new Date).format("YYYY-MM-DD")).format("x")),endTime:Number(o()(new Date).format("x")),pageNum:1,pageSize:10,appKey:""},searchDetails:{startTime:"",endTime:"",pageNum:1,pageSize:10,appKey:""},rangeDate:[o()(o()(new Date).format("YYYY-MM-DD")),o()(new Date)],tableData:[],totalCount:0,detailsTable:[],totalDetails:0,dateFormat:function(t,e){var a=t[e.property];return void 0===a?"":o()(a).format("YYYY-MM-DD")}}},created:function(){var t=this;this.$nextTick(function(){t.utils.getUserPermissions(t)})},mounted:function(){},methods:{dateChange:function(t){var e=t.split("/");this.searchParams.startTime=Number(o()(e[0]).format("x")),this.searchParams.endTime=Number(o()(e[1]).format("x"))},dataSearch:function(){this.searchParams.pageNum=1,this.initData()},initData:function(){var t=this;s()({method:"post",url:this.activeUrl,data:this.searchParams}).then(function(e){2e3!==e.data.code?t.$message.error(e.data.message):(t.tableData=e.data.data.list,t.totalCount=e.data.data.totalCount)}).catch(function(t){console.log("网络错误，不能访问")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},pageNumChange:function(t){this.searchParams.pageNum=t,this.initData()},pageSizeChange:function(t){this.searchParams.pageSize=t,this.dataSearch()},searchDetailInt:function(t){this.dialogTableVisible=!0,this.searchDetails.pageNum=1,this.searchDetails.appKey=t.appKey,this.searchDetails.dateType="day",this.searchDetails.startTime=t.createTime,this.searchDetails.endTime="",this.searchDetailsHandle()},searchDetailsHandle:function(){var t=this;this.listDetailLoading=!0,s()({method:"post",url:"/gateway/charge/bill/listBillDetail",data:this.searchDetails}).then(function(e){t.listDetailLoading=!1,2e3!==e.data.code?t.$message.error(e.data.message):(t.detailsTable=e.data.data.list,t.totalDetails=e.data.data.totalCount)}).catch(function(e){t.listDetailLoading=!1,console.log("网络错误，不能访问")})},exportBill:function(){var t=this;s()({method:"post",url:"/gateway/charge/bill/getServerURL",data:{}}).then(function(e){console.log(e.data);var a="";a=""!==t.searchParams.appKey?"appKey="+t.searchParams.appKey:"appKey=",""!==t.searchParams.startTime&&(a=a+"&startTime="+t.searchParams.startTime),""!==t.searchParams.startTime&&(a=a+"&endTime="+t.searchParams.endTime),location.href=e.data.data+"/bill/billExport?"+a}).catch(function(t){console.log("网络错误")})},detailHandleSizeChange:function(t){this.searchDetails.pageSize=t,this.searchDetailInt(this.searchDetails.appKey)},detailHandleCurrentChange:function(t){this.searchDetails.pageNum=t,this.searchDetailsHandle()},dataFixed:function(t,e){var a=t[e.property];return void 0==a?"":a.toFixed(2)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={name:"customerBillMonth",components:{},data:function(){return{dialogTableVisible:!1,activeUrl:"/gateway/charge/bill/listBillByMonth",showType:"table",jurisdiction:{},listDetailLoading:!1,searchParams:{startTime:Number(o()(o()(new Date).format("YYYY-MM-DD")).format("x")),endTime:Number(o()(new Date).format("x")),pageNum:1,pageSize:10,appKey:""},searchDetails:{startTime:"",endTime:"",pageNum:1,pageSize:10,appKey:""},rangeDate:[o()(o()(new Date).format("YYYY-MM-DD")),o()(new Date)],tableData:[],totalCount:0,detailsTable:[],totalDetails:0,dateFormat:function(t,e){var a=t[e.property];return void 0===a?"":o()(a).format("YYYY-MM")}}},created:function(){this.$nextTick(function(){})},mounted:function(){},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0===t.jurisdiction.perms.length||null==t.jurisdiction.perms?t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})}):t.dataSearch()}).catch(function(t){console.log("网络错误")})},dateChange:function(t){var e=t.split("/");this.searchParams.startTime=Number(o()(e[0]).format("x")),this.searchParams.endTime=Number(o()(e[1]).format("x"))},dataSearch:function(){this.searchParams.pageNum=1,this.initData()},initData:function(){var t=this;s()({method:"post",url:this.activeUrl,data:this.searchParams}).then(function(e){2e3!==e.data.code?t.$message.error(e.data.message):(t.tableData=e.data.data.list,t.totalCount=e.data.data.totalCount)}).catch(function(t){console.log("网络错误，不能访问")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},pageNumChange:function(t){this.searchParams.pageNum=t,this.initData()},pageSizeChange:function(t){this.searchParams.pageSize=t,this.dataSearch()},searchDetailInt:function(t){this.dialogTableVisible=!0,this.searchDetails.pageNum=1,this.searchDetails.appKey=t.appKey,this.searchDetails.dateType="month",this.searchDetails.startTime=t.createTime,this.searchDetails.endTime="",this.searchDetailsHandle()},searchDetailsHandle:function(){var t=this;this.listDetailLoading=!0,s()({method:"post",url:"/gateway/charge/bill/listBillDetail",data:this.searchDetails}).then(function(e){t.listDetailLoading=!1,2e3!==e.data.code?t.$message.error(e.data.message):(t.detailsTable=e.data.data.list,t.totalDetails=e.data.data.totalCount)}).catch(function(e){t.listDetailLoading=!1,console.log("网络错误，不能访问")})},exportBill:function(){var t=this;s()({method:"post",url:"/gateway/charge/bill/getServerURL",data:{}}).then(function(e){console.log(e.data);var a="";a=""!==t.searchParams.appKey?"appKey="+t.searchParams.appKey:"appKey=",""!==t.searchParams.startTime&&(a=a+"&startTime="+t.searchParams.startTime),""!==t.searchParams.startTime&&(a=a+"&endTime="+t.searchParams.endTime),location.href=e.data.data+"/bill/billExport?"+a}).catch(function(t){console.log("网络错误")})},detailHandleSizeChange:function(t){this.searchDetails.pageSize=t,this.searchDetailInt(this.searchDetails.appKey)},DetailHandleCurrentChange:function(t){this.searchDetails.pageNum=t,this.searchDetailsHandle()},dataFixed:function(t,e){var a=t[e.property];return void 0==a?"":a.toFixed(2)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={name:"customerBillYear",components:{},data:function(){return{dialogTableVisible:!1,activeUrl:"/gateway/charge/bill/listBillByYear",showType:"table",jurisdiction:{},listDetailLoading:!1,searchParams:{startTime:Number(o()(o()(new Date).format("YYYY-MM-DD")).format("x")),endTime:Number(o()(new Date).format("x")),pageNum:1,pageSize:10,appKey:""},searchDetails:{startTime:"",endTime:"",pageNum:1,pageSize:10,appKey:""},rangeDate:[o()(o()(new Date).format("YYYY-MM-DD")),o()(new Date)],tableData:[],totalCount:0,detailsTable:[],totalDetails:0,dateFormat:function(t,e){var a=t[e.property];return void 0===a?"":o()(a).format("YYYY")}}},created:function(){this.$nextTick(function(){})},mounted:function(){},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0===t.jurisdiction.perms.length||null==t.jurisdiction.perms?t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})}):t.dataSearch()}).catch(function(t){console.log("网络错误")})},dateChange:function(t){var e=t.split("/");this.searchParams.startTime=Number(o()(e[0]).format("x")),this.searchParams.endTime=Number(o()(e[1]).format("x"))},dataSearch:function(){this.searchParams.pageNum=1,this.initData()},initData:function(){var t=this;s()({method:"post",url:this.activeUrl,data:this.searchParams}).then(function(e){2e3!==e.data.code?t.$message.error(e.data.message):(t.tableData=e.data.data.list,t.totalCount=e.data.data.totalCount)}).catch(function(t){console.log("网络错误，不能访问")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},pageNumChange:function(t){this.searchParams.pageNum=t,this.initData()},pageSizeChange:function(t){this.searchParams.pageSize=t,this.dataSearch()},searchDetailInt:function(t){this.dialogTableVisible=!0,this.searchDetails.pageNum=1,this.searchDetails.appKey=t.appKey,this.searchDetails.dateType="year",this.searchDetails.startTime=t.createTime,this.searchDetails.endTime="",this.searchDetailsHandle()},searchDetailsHandle:function(){var t=this;this.listDetailLoading=!0,s()({method:"post",url:"/gateway/charge/bill/listBillDetail",data:this.searchDetails}).then(function(e){t.listDetailLoading=!1,2e3!==e.data.code?t.$message.error(e.data.message):(t.detailsTable=e.data.data.list,t.totalDetails=e.data.data.totalCount)}).catch(function(e){t.listDetailLoading=!1,console.log("网络错误，不能访问")})},exportBill:function(){var t=this;s()({method:"post",url:"/gateway/charge/bill/getServerURL",data:{}}).then(function(e){console.log(e.data);var a="";a=""!==t.searchParams.appKey?"appKey="+t.searchParams.appKey:"appKey=",""!==t.searchParams.startTime&&(a=a+"&startTime="+t.searchParams.startTime),""!==t.searchParams.startTime&&(a=a+"&endTime="+t.searchParams.endTime),location.href=e.data.data+"/bill/billExport?"+a}).catch(function(t){console.log("网络错误")})},detailHandleSizeChange:function(t){this.searchDetails.pageSize=t,this.searchDetailInt(this.searchDetails.appKey)},DetailHandleCurrentChange:function(t){this.searchDetails.pageNum=t,this.searchDetailsHandle()},dataFixed:function(t,e){var a=t[e.property];return void 0==a?"":a.toFixed(2)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=(a.n(i),a(475)),n=a.n(s),o=a(476),r=a.n(o),l=a(477),c=a.n(l);e.default={name:"datasourceBill",components:{datasourceBillDay:n.a,datasourceBillMonth:r.a,datasourceBillYear:c.a},data:function(){return{activeName:"day"}},created:function(){this.$nextTick(function(){})},mounted:function(){},methods:{handleTabClick:function(t){console.log(t.name)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={name:"datasourceBillDay",components:{},data:function(){return{dialogTableVisible:!1,activeUrl:"/gateway/charge/datasourceBill/listBillByDay",showType:"table",jurisdiction:{principal:{},loginUrl:"",logoutUrl:"",roles:[],perms:[]},listDetailLoading:!1,searchParams:{startTime:Number(o()(o()(new Date).format("YYYY-MM-DD")).format("x")),endTime:Number(o()(new Date).format("x")),pageNum:1,pageSize:10,sourceName:""},searchDetails:{startTime:"",endTime:"",pageNum:1,pageSize:10,sourceName:""},rangeDate:[o()(o()(new Date).format("YYYY-MM-DD")),o()(new Date)],groupAry:[],tableData:[],totalCount:0,detailsTable:[],totalDetails:0,dateFormat:function(t,e){var a=t[e.property];return void 0===a?"":o()(a).format("YYYY-MM-DD")}}},created:function(){var t=this;this.$nextTick(function(){t.utils.getUserPermissions(t),t.utils.getGroupAry(t)})},mounted:function(){},methods:{dateChange:function(t){var e=t.split("/");this.searchParams.startTime=Number(o()(e[0]).format("x")),this.searchParams.endTime=Number(o()(e[1]).format("x"))},dataSearch:function(){this.searchParams.pageNum=1,this.initData()},initData:function(){var t=this;s()({method:"post",url:this.activeUrl,data:this.searchParams}).then(function(e){2e3!==e.data.code?t.$message.error(e.data.message):(t.tableData=e.data.data.list,t.totalCount=e.data.data.totalCount)}).catch(function(t){console.log("网络错误，不能访问")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},pageNumChange:function(t){this.searchParams.pageNum=t,this.initData()},pageSizeChange:function(t){this.searchParams.pageSize=t,this.dataSearch()},searchDetailInt:function(t){this.dialogTableVisible=!0,this.searchDetails.pageNum=1,this.searchDetails.sourceName=t.groupName,this.searchDetails.dateType="day",this.searchDetails.startTime=t.createTime,this.searchDetails.endTime="",this.searchDetailsHandle()},searchDetailsHandle:function(){var t=this;this.listDetailLoading=!0,s()({method:"post",url:"/gateway/charge/datasourceBill/listBillDetail",data:this.searchDetails}).then(function(e){t.listDetailLoading=!1,2e3!==e.data.code?t.$message.error(e.data.message):(t.detailsTable=e.data.data.list,t.totalDetails=e.data.data.totalCount)}).catch(function(e){t.listDetailLoading=!1,console.log("网络错误，不能访问")})},exportBill:function(){var t=this;s()({method:"post",url:"/gateway/charge/bill/getServerURL",data:{}}).then(function(e){console.log(e.data);var a="";a=""!==t.searchParams.sourceName?"sourceName="+t.searchParams.sourceName:"sourceName=",""!==t.searchParams.startTime&&(a=a+"&startTime="+t.searchParams.startTime),""!==t.searchParams.startTime&&(a=a+"&endTime="+t.searchParams.endTime),location.href=e.data.data+"/datasourceBill/billExport?"+a}).catch(function(t){console.log("网络错误")})},detailHandleSizeChange:function(t){this.searchDetails.pageSize=t,this.searchDetailInt(this.searchDetails.sourceName)},detailHandleCurrentChange:function(t){this.searchDetails.pageNum=t,this.searchDetailsHandle()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={name:"datasourceBillMonth",components:{},data:function(){return{dialogTableVisible:!1,activeUrl:"/gateway/charge/datasourceBill/listBillByMonth",showType:"table",jurisdiction:{},listDetailLoading:!1,searchParams:{startTime:Number(o()(o()(new Date).format("YYYY-MM-DD")).format("x")),endTime:Number(o()(new Date).format("x")),pageNum:1,pageSize:10,sourceName:""},searchDetails:{startTime:"",endTime:"",pageNum:1,pageSize:10,sourceName:""},rangeDate:[o()(o()(new Date).format("YYYY-MM-DD")),o()(new Date)],groupAry:[],tableData:[],totalCount:0,detailsTable:[],totalDetails:0,dateFormat:function(t,e){var a=t[e.property];return void 0===a?"":o()(a).format("YYYY-MM")}}},created:function(){var t=this;this.$nextTick(function(){t.getGroupAry()})},mounted:function(){},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0===t.jurisdiction.perms.length||null==t.jurisdiction.perms?t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})}):t.dataSearch()}).catch(function(t){console.log("网络错误")})},dateChange:function(t){var e=t.split("/");this.searchParams.startTime=Number(o()(e[0]).format("x")),this.searchParams.endTime=Number(o()(e[1]).format("x"))},dataSearch:function(){this.searchParams.pageNum=1,this.initData()},initData:function(){var t=this;s()({method:"post",url:this.activeUrl,data:this.searchParams}).then(function(e){2e3!==e.data.code?t.$message.error(e.data.message):(t.tableData=e.data.data.list,t.totalCount=e.data.data.totalCount)}).catch(function(t){console.log("网络错误，不能访问")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},pageNumChange:function(t){this.searchParams.pageNum=t,this.initData()},pageSizeChange:function(t){this.searchParams.pageSize=t,this.dataSearch()},getGroupAry:function(){var t=this;s()({method:"post",url:"/apiGroup/listOfNoLowerLevelGroup",data:{}}).then(function(e){2e3===e.data.code?t.groupAry=e.data.data:t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},searchDetailInt:function(t){this.dialogTableVisible=!0,this.searchDetails.pageNum=1,this.searchDetails.sourceName=t.groupName,this.searchDetails.dateType="month",this.searchDetails.startTime=t.createTime,this.searchDetails.endTime="",this.searchDetailsHandle()},searchDetailsHandle:function(){var t=this;this.listDetailLoading=!0,s()({method:"post",url:"/gateway/charge/datasourceBill/listBillDetail",data:this.searchDetails}).then(function(e){t.listDetailLoading=!1,2e3!==e.data.code?t.$message.error(e.data.message):(t.detailsTable=e.data.data.list,t.totalDetails=e.data.data.totalCount)}).catch(function(e){t.listDetailLoading=!1,console.log("网络错误，不能访问")})},exportBill:function(){var t=this;s()({method:"post",url:"/gateway/charge/bill/getServerURL",data:{}}).then(function(e){console.log(e.data);var a="";a=""!==t.searchParams.sourceName?"sourceName="+t.searchParams.sourceName:"sourceName=",""!==t.searchParams.startTime&&(a=a+"&startTime="+t.searchParams.startTime),""!==t.searchParams.startTime&&(a=a+"&endTime="+t.searchParams.endTime),location.href=e.data.data+"/datasourceBill/billExport?"+a}).catch(function(t){console.log("网络错误")})},detailHandleSizeChange:function(t){this.searchDetails.pageSize=t,this.searchDetailInt(this.searchDetails.sourceName)},DetailHandleCurrentChange:function(t){this.searchDetails.pageNum=t,this.searchDetailsHandle()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={name:"datasourceBillYear",components:{},data:function(){return{dialogTableVisible:!1,activeUrl:"/gateway/charge/datasourceBill/listBillByYear",showType:"table",jurisdiction:{},listDetailLoading:!1,searchParams:{startTime:Number(o()(o()(new Date).format("YYYY-MM-DD")).format("x")),endTime:Number(o()(new Date).format("x")),pageNum:1,pageSize:10,sourceName:""},searchDetails:{startTime:"",endTime:"",pageNum:1,pageSize:10,sourceName:""},rangeDate:[o()(o()(new Date).format("YYYY-MM-DD")),o()(new Date)],groupAry:[],tableData:[],totalCount:0,detailsTable:[],totalDetails:0,dateFormat:function(t,e){var a=t[e.property];return void 0===a?"":o()(a).format("YYYY")}}},created:function(){var t=this;this.$nextTick(function(){t.getGroupAry()})},mounted:function(){},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0===t.jurisdiction.perms.length||null==t.jurisdiction.perms?t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})}):t.dataSearch()}).catch(function(t){console.log("网络错误")})},dateChange:function(t){var e=t.split("/");this.searchParams.startTime=Number(o()(e[0]).format("x")),this.searchParams.endTime=Number(o()(e[1]).format("x"))},dataSearch:function(){this.searchParams.pageNum=1,this.initData()},initData:function(){var t=this;s()({method:"post",url:this.activeUrl,data:this.searchParams}).then(function(e){2e3!==e.data.code?t.$message.error(e.data.message):(t.tableData=e.data.data.list,t.totalCount=e.data.data.totalCount)}).catch(function(t){console.log("网络错误，不能访问")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},pageNumChange:function(t){this.searchParams.pageNum=t,this.initData()},pageSizeChange:function(t){this.searchParams.pageSize=t,this.dataSearch()},getGroupAry:function(){var t=this;s()({method:"post",url:"/apiGroup/listOfNoLowerLevelGroup",data:{}}).then(function(e){2e3===e.data.code?t.groupAry=e.data.data:t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},searchDetailInt:function(t){this.dialogTableVisible=!0,this.searchDetails.pageNum=1,this.searchDetails.sourceName=t.groupName,this.searchDetails.dateType="year",this.searchDetails.startTime=t.createTime,this.searchDetails.endTime="",this.searchDetailsHandle()},searchDetailsHandle:function(){var t=this;this.listDetailLoading=!0,s()({method:"post",url:"/gateway/charge/datasourceBill/listBillDetail",data:this.searchDetails}).then(function(e){t.listDetailLoading=!1,2e3!==e.data.code?t.$message.error(e.data.message):(t.detailsTable=e.data.data.list,t.totalDetails=e.data.data.totalCount)}).catch(function(e){t.listDetailLoading=!1,console.log("网络错误，不能访问")})},exportBill:function(){var t=this;s()({method:"post",url:"/gateway/charge/bill/getServerURL",data:{}}).then(function(e){console.log(e.data);var a="";a=""!==t.searchParams.sourceName?"sourceName="+t.searchParams.sourceName:"sourceName=",""!==t.searchParams.startTime&&(a=a+"&startTime="+t.searchParams.startTime),""!==t.searchParams.startTime&&(a=a+"&endTime="+t.searchParams.endTime),location.href=e.data.data+"/datasourceBill/billExport?"+a}).catch(function(t){console.log("网络错误")})},detailHandleSizeChange:function(t){this.searchDetails.pageSize=t,this.searchDetailInt(this.searchDetails.sourceName)},DetailHandleCurrentChange:function(t){this.searchDetails.pageNum=t,this.searchDetailsHandle()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(642),s=a.n(i),n=a(61),o=a.n(n),r=a(5),l=a.n(r),c=a(1),d=a.n(c),p=a(203),u=a.n(p);e.default={name:"datasourceCharge",components:{PageHeader:u.a},data:function(){return{jurisdiction:{principal:{},loginUrl:"",logoutUrl:"",roles:[],perms:[]},addSBtn:!1,amendSBtn:!1,delSBtn:!1,pageNum:1,pageSize:10,totalCount:1,checkUpdate:!1,groupAry:[],apiAry:[],billingRules:[],titleText:"",pageNumA:1,pageSizeA:5,totalA:5,amendStrategyDialog:!1,appList:[],oderr:"",tableList:[],flwDatalin:"",tableData3:[],flowAmendData:{name:"",no:"",unit:1},group:"",value:"",searchForm:{groupId:"",apiId:""},formLabelWidth:"120px",description:"",currentPage4:4,createTag:!1,editTag:!1,createForm:{groupId:"",apiId:"",price:"",stock:"",billingRulesUuid:""},delData:"",rowFlowData:{},addType:"",dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":d()(a).format("YYYY-MM-DD HH:mm:ss")},rules:{price:[{required:!0,message:"请输入单价"}],billingCycle:[{required:!1,message:"请选择计费周期"}],billingCycleLimit:[{required:!1,message:"请输入计费时间"}],billingMode:[{required:!0,message:"请选择计费模式"}]}}},created:function(){this.getUserPermissions(),this.initData(),this.utils.getGroupAry(this),this.utils.getBillingRules(this)},methods:{getUserPermissions:function(){var t=this;l()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},getApiAry:function(t){this.utils.getApiAry(this,t),this.$set(this.searchForm,"apiId",null)},getApiAryCreate:function(t){this.utils.getApiAry(this,t),"more"===this.addType?this.$set(this.createForm,"apiIds",[]):this.$set(this.createForm,"apiId",null),this.selectChange()},initData:function(){this.pageNum=1,this.initDataHandle()},initDataHandle:function(){var t=this;l()({method:"post",url:"/gateway/charge/datasourceCharge/findForPage",data:{pageNum:this.pageNum,pageSize:this.pageSize,groupId:this.searchForm.groupId,apiId:this.searchForm.apiId}}).then(function(e){2e3===e.data.code?(t.tableList=e.data.data.list,t.totalCount=e.data.data.total):403===e.data.code&&(location.href=e.data.data),t.jurisdiction.roles.includes("admin")?(t.amendSBtn=!0,t.delSBtn=!0,t.addSBtn=!0):(t.amendSBtn=!1,t.delSBtn=!1,t.addSBtn=!1)}).catch(function(t){console.log("网络错误，不能访问"+t)})},addData:function(t){var e=this;this.$refs[t].validate(function(t){var a=JSON.parse(o()(e.createForm));console.log(a.endTime),a.endTime=a.endTime?d()(a.endTime).format("x"):"",a.startTime=a.startTime?d()(a.startTime).format("x"):"";var i="";if("more"===e.addType?(i="/gateway/charge/datasourceCharge/listSave",delete a.apiId):(i="/gateway/charge/datasourceCharge/save",delete a.apiIds),!t)return console.log("error submit!!"),!1;l()({method:"post",url:i,data:a}).then(function(t){2e3!==t.data.code?e.$message({type:"warning",message:t.data.message}):(e.initData(),e.$message({type:"success",message:t.data.message})),e.closeDialogCreate()}).catch(function(t){console.log("网络错误，不能访问")})})},editData:function(t){this.editTag=!0,this.createForm=t},editDataCommit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;l()({method:"post",url:"/gateway/charge/datasourceCharge/check",data:e.createForm}).then(function(t){if(2e3===t.data.code)e.updateHandle();else if(1018===t.data.code){if(s()(t.data.data).length<1)return;var a=s()(t.data.data),i=e.$createElement;e.$msgbox({title:"警告",message:i("ul",{style:{textAlign:"left",paddingLeft:"10px",listStyle:"decimal"}},[a.map(function(e,a){return i("li",{fontSize:"14px"},e+t.data.data[e])})]),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){e.updateHandle()}).catch(function(){e.$message({type:"info",message:"已取消"})})}else e.$message({type:"warning",message:t.data.message})}).catch(function(t){console.dir(t),console.log("网络错误，不能访问")})})},updateHandle:function(){var t=this;l()({method:"post",url:"/gateway/charge/datasourceCharge/update",data:this.createForm}).then(function(e){2e3!==e.data.code?t.$message({type:"warning",message:e.data.message}):(t.initData(),t.$message({type:"success",message:e.data.message}),t.closeDialog())}).catch(function(t){console.log("网络错误，不能访问")})},handleCurrentChange:function(t){this.pageNum=t,this.initDataHandle()},handleSizeChange:function(t){this.pageSize=t,this.initData()},deleteData:function(t){for(var e=this,a=0;a<this.jurisdiction.perms.length;a++)"dde36ab7732e4f87b46c65fe39589aec"==this.jurisdiction.perms[a]&&(this.delData=t,this.$confirm('是否删除接口 "'+this.delData.apiName+'" ,如删除则不可恢复!',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteBillingRuleCommit()}).catch(function(){e.$message({type:"info",message:"已取消删除"})}))},closeDialog:function(){this.createForm.id="",this.$refs.updateFormRef.resetFields(),this.editTag=!1},closeDialogCreate:function(){this.$refs.createFormRef.resetFields(),this.createTag=!1},deleteBillingRuleCommit:function(){var t=this;l()({method:"post",url:"/gateway/charge/datasourceCharge/delete",data:{id:this.delData.id}}).then(function(e){2e3===e.data.code?(t.initData(),t.$message({type:"success",message:e.data.message})):t.$message({type:"warning",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},createBtn:function(t){this.addType=t,this.createTag=!0,this.createForm.groupId=null,this.createForm.billingRulesUuid="",this.createForm.endTime="",this.createForm.price="",this.createForm.startTime="",this.createForm.stock=""},selectChange:function(){this.$forceUpdate()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i);e.default={name:"errorText",components:{},data:function(){return{formLabelWidth:"120px",errorTabelData:[]}},created:function(){this.errorData()},methods:{errorData:function(){var t=this;s()({method:"post",url:"/api/systemErrorCodeList",data:{}}).then(function(e){t.errorTabelData=e.data.data}).catch(function(t){console.log("网络错误，不能访问")})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(5),s=a.n(i),n=a(1),o=a.n(n),r=a(202),l=a.n(r),c=a(205),d=a.n(c),p=a(29);e.default={name:"findApi",components:{env:l.a,queryApiDetail:d.a},data:function(){return{look:!1,jurisdiction:{},outObj:{},contractDialog:!1,issue:!1,exlBtn:!0,outBtn:!0,addPortForm:{},addPortFormRules:{appKey:[{required:!0,trigger:"blur",message:"appKey不能为空"}]},contractBtn:!0,formLabelWidth:"120px",outOfflineBtn:!0,exportBtn:!0,pageNum:1,pageSize:10,total:0,env:1,page:1,searchApiId:"",listLoading:!1,tablegroup:[],apiIdListLId:[],removeIdList:[],search:"",groupName:"",description:"",newPage:"",rowId:"",titleTab:"",offText:"",backEndParam2:[],numData2:[],requestParamsVersionsList:[],resultSettingsVersionsList:[],apiDefineDetail:[],detialVersionFlag:null,groupHerfId:{pubDescription:""},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")}}},created:function(){},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,t.jurisdiction.roles.includes("admin")?(t.outBtn=!0,t.contractBtn=!0,t.outOfflineBtn=!0,t.exlBtn=!0,t.exportBtn=!0):(t.outBtn=!1,t.contractBtn=!1,t.outOfflineBtn=!1,t.exlBtn=!1,t.exportBtn=!1)}).catch(function(t){console.log("网络错误")})},initData:function(){var t=this;s()({method:"post",url:"/api/publishListForFindAPI",data:{apiIdList:""==this.searchApiId?this.$message({type:"info",message:"请输入APIId进行查询"}):this.searchApiId,pageSize:""==this.newPage?10:this.newPage,pageNum:this.pageNum}}).then(function(e){2e3==e.data.code?(t.removeIdList=[],t.tablegroup=e.data.data.apiList.list,t.apiIdListLId=e.data.data.apiIdList,t.pageNum=e.data.data.apiList.pageNum,t.pageSize=e.data.data.apiList.pageSize,t.total=e.data.data.apiList.total):t.$message({type:"info",message:e.data.message}),t.getUserPermissions()}).catch(function(t){console.log("网络错误，不能访问")})},outApi:function(){var t=this,e=this.outObj.pubDescription;s()({method:"post",url:"发布API："==this.titleTab?"/api/publishByApiIdList":"/api/offlineByApiIdList",data:{apiIdList:this.apiIdListLId,removeIdList:this.removeIdList,env:this.env,pubDescription:"发布API："==this.titleTab?e:""}}).then(function(e){2e3==e.data.code?("发布API："==t.titleTab?t.$message({type:"success",message:"发布成功"}):t.$message({type:"success",message:"下线成功"}),t.issue=!1):"发布API："==t.titleTab?t.$message({type:"info",message:"发布失败"}):t.$message({type:"info",message:e.data.message||"下线失败"})}).catch(function(t){console.log(t.message)})},publishBtn:function(){this.titleTab="发布API：",this.offText="发布",this.issue=!0},contractBtnhandle:function(){this.contractDialog=!0,this.addPortForm={}},exportBtnClick:function(){var t=this;s()({method:"post",url:"/api/getServerURL",data:{apiIdList:this.apiIdListLId,removeIdList:this.removeIdList}}).then(function(e){2e3===e.data.code?location.href=e.data.data+"/api/apiExport?apiIdList="+t.apiIdListLId+"&removeIdList="+t.removeIdList:t.$message({type:"error",message:e.data.message})}).catch(function(t){console.log("网络错误")})},callOf:function(t){this.contractDialog=!1,this.addPortForm={},this.$refs[t].resetFields()},addaut:function(t){var e=this;this.$refs[t].validate(function(a){if(!a)return console.log("error submit!!"),!1;s()({method:"post",url:"/api/publicProContract",data:{appKey:e.addPortForm.appKey,apiIdList:e.apiIdListLId,removeIdList:e.removeIdList}}).then(function(a){2e3==a.data.code?(e.$message({type:"success",message:"创建成功"}),e.contractDialog=!1,e.initData(),e.$refs[t].resetFields()):e.$message({type:"info",message:a.data.message})}).catch(function(t){console.log("网络错误，不能访问"),e.addPortForm={}})})},outOffBtn:function(){this.titleTab="下线API：",this.offText="下线",this.issue=!0},delApi:function(t,e){this.rowId=e.id,this.removeIdList.push(this.rowId)},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},handleCurrentChange:function(t){this.pageData(t)},handleSizeChange:function(t){this.pageData(t)},pageData:function(t){var e=this;s()({method:"post",url:"/api/publishListForFindAPI",data:{apiIdList:""==this.searchApiId?this.$message({type:"info",message:"请输入APIId进行查询"}):this.searchApiId,pageSize:""==this.newPage?10:this.newPage,pageNum:t}}).then(function(t){e.tablegroup=t.data.data.apiList.list,e.pageNum=t.data.data.apiList.pageNum,e.pageSize=t.data.data.apiList.pageSize,e.total=t.data.data.apiList.total}).catch(function(t){console.log("网络错误，不能访问")})},lookData:function(e,i){var n=this;this.apiDefineDetail={},this.backendVersionsList=[],this.requestParamsVersionsList=[],this.resultSettingsVersionsList=[],this.backEndParam2=[],this.numData2=[],this.detialVersionFlag=i,this.groupHerfId=e;var o=this.groupHerfId.apiGroupId,r=this.groupHerfId.id;this.look=!0,s()({method:"post",url:"/api/findApiInfoVersion",data:{apiGroupId:o,id:r,versionId:i}}).then(function(e){var i=a.i(p.a)(n.groupHerfId.callBackSuccessExample);t(".successWritePlaceDialog").html("<pre>"+i+"<pre/>");var s=a.i(p.a)(n.groupHerfId.callBackFailExample);t(".errorWritePlaceDialog").html("<pre>"+s+"<pre/>"),n.apiDefineDetail=e.data.data.apiInfoVersion,n.backendVersionsList=e.data.data.backendVersionsList,e.data.data.backendVersionsList.forEach(function(t,e){1==t.paramsType?n.backEndParam2.push(t):2==t.paramsType&&n.numData2.push(t)}),n.requestParamsVersionsList=e.data.data.requestParamsVersionsList,n.resultSettingsVersionsList=e.data.data.resultSettingsVersionsList}).catch(function(t){console.log("网络错误")})}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(5),s=a.n(i),n=a(29);e.default={name:"findApiDetail",components:{},data:function(){return{formLabelWidth:"120px",listLoading:!1,apiInfoVersion:"",backendVersionsList:[],requestParamsVersionsList:[],paramLocationFomatter:function(t,e){var a=t[e.property];return void 0==a?"":1==a?"header":2==a?"query":"body"},paramTypeFomatter:function(t,e){var a=t[e.property];if(void 0==a)return"";var i=null;switch(a){case 1:i="String";break;case 2:i="Integer";break;case 3:i="Long";break;case 4:i="Float";break;case 5:i="Double";break;case 6:i="Boolean"}return i},paramMustFomatter:function(t,e){var a=t[e.property];return void 0==a?"":1==a?"是":"否"}}},created:function(){this.created()},methods:{moreStart:function(){t(".moreMes").show()},moreEnd:function(){t(".moreMes").hide()},created:function(){var e=this,i=this.$route.query.id,o=this.$route.query.versionId,r=this.$route.query.apiGroupId;s()({method:"post",url:"/api/findApiInfoVersion",data:{id:i,versionId:o,apiGroupId:r}}).then(function(i){e.apiInfoVersion=i.data.data.apiInfoVersion,e.requestParamsVersionsList=i.data.data.requestParamsVersionsList;var s=a.i(n.a)(e.apiInfoVersion.callBackSuccessExample);t(".successWritePlaceDialog").html("<pre>"+s+"<pre/>");var o=a.i(n.a)(e.apiInfoVersion.callBackFailExample);t(".errorWritePlaceDialog").html("<pre>"+o+"<pre/>")}).catch(function(t){console.log("网络错误，不能访问")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(5),s=a.n(i),n=a(1),o=a.n(n),r=a(47),l=a.n(r);e.default={name:"flowControl",components:{menuListDetail:l.a},data:function(){var t=function(t,e,a){!1===/^[\u4e00-\u9fa5a-zA-Z][\u4e00-\u9fa5a-zA-Z\d](?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(e)?a(new Error("格式错误")):a()},e=function(t,e,a){!1===/^[0-9]*[1-9][0-9]*$/.test(e)?a(new Error("必须是正整数")):a()},a=function(t,e,a){e>1e7?a(new Error("最大为10000000(一千万)次")):a()};return{limitStrategyTotal:1,jurisdiction:{},bindBtn:!1,ovBindBtn:!1,amendBtn:!1,pageNum:1,pageSize:10,total:5,pageNumA:1,pageSizeA:5,totalA:5,appList:[],oderr:"",flowData:[],tableData3:[],group:"",value:"",searchStrategy:"",formLabelWidth:"120px",description:"",currentPage4:4,delData:"",multipleSelection:[],bindFlowDialog:!1,amendStrategyDialog:!1,strategyUuid:"",radioVal:"",apiFlowArr:[],flowStr:{},flowObj:{},newPage:"",unitFormat:function(t,e){var a=t[e.property];return void 0==a?"":1==a?"分钟":2==a?"小时":"天"},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")},ruleForm:{sName:"",sNo:"",sUnit:1},rules:{sName:[{required:!0,message:"请输入策略名称",trigger:"blur"},{min:4,max:15,message:"长度在 4 到 15 个字符",trigger:"blur"},{validator:t,trigger:"blur"}],sNo:[{required:!0,message:"请输入API流量限制",trigger:"blur"},{validator:e,trigger:"blur"},{validator:a,trigger:"blur"}],sUnit:[]}}},created:function(){this.handleCurrentChange(1),this.getAppList(),this.getUserPermissions()},methods:{menuData:function(){t(".el-menu-item:eq(5),.el-menu-item:eq(6),.el-menu-item:eq(7),.el-menu-item:eq(8),.el-menu-item:eq(10),.el-menu-item:eq(9),.el-menu-item:eq(11)").removeClass("is-active"),console.log(t(".el-menu-item"))},getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},bindFlow:function(t){for(var e=0;e<this.jurisdiction.perms.length;e++)"08b354ee63474fb4a68aad7910c17823"==this.jurisdiction.perms[e]&&(this.radioVal="",this.bindFlowDialog=!0,this.apiFlowArr=t,this.limitStrategyTotal=t.limitStrategyTotal)},getCurrentRow:function(t,e){console.log(t.uuid),this.flowObj=t},amendCon:function(t){if(this.radioVal="",null!==t.limitStrategyuuid){for(var e=0;e<this.appList.length;e++)if(t.limitStrategyuuid==this.appList[e].uuid){this.radioVal=e;break}this.flowObj.uuid=t.limitStrategyuuid}this.bindFlowDialog=!0,this.apiFlowArr=t,this.limitStrategyTotal=t.limitStrategyTotal},setAuth:function(){var t=this;if(!1===/^[0-9]*[1-9][0-9]*$/.test(this.limitStrategyTotal))return void this.$message.warning("接口流量必须为大于0的整数");""===this.radioVal?s()({method:"post",url:"/api/apiBindingStrategy",data:{id:this.apiFlowArr.id,limitStrategyuuid:void 0==this.flowObj.uuid?"111":this.flowObj.uuid,limitStrategyTotal:this.limitStrategyTotal}}).then(function(e){2e3==e.data.code?(t.bindFlowDialog=!1,console.log(t.flowObj.uuid),t.handleCurrentChange(1)):t.$message.info("请选择限流策略")}).catch(function(t){console.log("网络错误，不能访问")}):s()({method:"post",url:"/api/apiBindingStrategy",data:{id:this.apiFlowArr.id,limitStrategyuuid:(this.flowObj.uuid,this.flowObj.uuid),limitStrategyTotal:this.limitStrategyTotal}}).then(function(e){2e3==e.data.code?(t.bindFlowDialog=!1,t.handleCurrentChange(1)):t.$message.info("请选择限流策略")}).catch(function(t){console.log("网络错误，不能访问")})},removeBindFlow:function(t){var e=this;this.apiFlowArr=t,this.$confirm("此操作将解绑该策略, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s()({method:"post",url:"/api/apiBindingStrategy",data:{id:e.apiFlowArr.id,limitStrategyuuid:null,limitStrategyTotal:-1}}).then(function(t){e.$message({type:"success",message:"解绑成功!"}),e.flowData=[],e.bindFlowDialog=!1,e.handleCurrentChange(1)}).catch(function(t){console.log("网络错误，不能访问")})}).catch(function(){e.$message({type:"info",message:"已取消解绑"})})},getAppList:function(){var t=this;s()({method:"post",url:"/strategy/getAllStrategy",data:{strategyName:""==this.oderr?null:this.oderr}}).then(function(e){t.appList=e.data.data,t.flowStr.uuid=e.data.data[0].uuid}).catch(function(t){console.log("网络错误，不能访问")})},dataInit:function(){var t=this;s()({method:"post",url:"/api/ApiInfoList",data:{apiName:""==this.searchStrategy?null:this.searchStrategy,pageSize:""==this.newPage?10:this.newPage,pageNum:this.pageNum}}).then(function(e){403==e.data.code&&(location.href=e.data.data),t.jurisdiction.roles.includes("admin")?(t.bindBtn=!0,t.ovBindBtn=!0,t.amendBtn=!0):(t.bindBtn=!1,t.ovBindBtn=!1,t.amendBtn=!1),t.flowData=e.data.data.list,t.pageNum=e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.total=e.data.data.total}).catch(function(t){console.log("网络错误，不能访问")})},handleCurrentChange:function(t){this.pageNum=t,this.dataInit()},handleSizeChange:function(t){this.newPage=t,this.handleCurrentChange(1)},checkboxInit:function(t,e){var a=t.limitStrategyuuid;return null!=a&&""!=a?0:1},handleSelectionChange:function(t){this.multipleSelection=t},tableRowClassName:function(t,e){return e%2!=0?"info-row":""}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1103),o=a.n(n),r=a(471),l=a.n(r);e.default={name:"flowDistribution",components:{portName:o.a,weight:l.a},data:function(){return{jurisdiction:{},parentMsg:[],wetBtn:!1,addwetBtn:!1,num:"",pageNum:1,pageSize:10,total:5,apiFlow:[],weightObj:[],amendWeight:[],searchFlowName:"",formLabelWidth:"120px",weightFormVisible:!1}},created:function(){this.apiFlowData(),this.getUserPermissions()},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},addFlow:function(t){s()({method:"post",url:"/api/back/sub/query",data:{apiId:t.groupId,id:t.id}}).then(function(t){console.log(t,"添加")}).catch(function(t){console.log("网络错误")})},apiFlowData:function(){var t=this;s()({method:"post",url:"/api/back/sub/query",data:{apiName:this.searchFlowName,pageSize:""==this.newPage?10:this.newPage,pageNum:this.pageNum}}).then(function(e){403==e.data.code&&(location.href=e.data.data),t.searchFlowName="",t.parentMsg=t.jurisdiction.roles,t.jurisdiction.roles.includes("admin")?(t.wetBtn=!0,t.addwetBtn=!0):(t.wetBtn=!1,t.addwetBtn=!1),t.apiFlow=e.data.data.list;for(var a=e.data.data.list,i=0;i<a.length;i++)for(var s="",n=0;n<a[i].subApis.length;n++)s+=a[i].subApis[n].interfaceName,t.apiFlow[i].newtext=s;t.pageSize=e.data.data.pageSize,t.total=e.data.data.total;for(var i=0;i<e.data.data.list.length;i++)for(var n=0;n<e.data.data.list[i].subApis.length;n++)t.weightObj=e.data.data.list[i].subApis}).catch(function(t){console.log("网络错误")})},amendWeightData:function(){var t=this,e=/^(?:10|[0-9])$/,a=/^\d+\.\d+$/,i=[];this.amendWeight.map(function(n,o){i.push({apiId:n.apiId,intefaceName:n.intefaceName,subId:n.id,weight:n.weights}),e.test(n.weights)||!a.test(n.weights)?s()({method:"post",url:"/api/back/sub/weight/update/config",data:{weightConfigs:i}}).then(function(e){2e3==e.data.code?(t.weightFormVisible=!1,t.apiFlowData()):t.$message.error("权重只能是0-10之间的整数！")}).catch(function(t){console.log("网络错误")}):t.$message.error("权重只能是0-10之间的整数！")})},weightBtn:function(t){for(var e=0;e<this.jurisdiction.perms.length;e++)"1e6daa89858f42fb88277c3544b45064"==this.jurisdiction.perms[e]&&(this.amendWeight=t,this.weightFormVisible=!0,this.amendWeight.map(function(t){t.weights=t.weight}))},handleCurrentChange:function(t){this.pageNum=t,this.apiFlowData()},handleSizeChange:function(t){this.newPage=t,this.apiFlowData()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i,s=a(62),n=a.n(s),o=a(5),r=a.n(o),l=a(1),c=a.n(l);e.default={name:"flowMonitoring",components:{},data:function(){var t=this,e=function(t,e,a){!1===/^[\u4e00-\u9fa5a-zA-Z][\u4e00-\u9fa5a-zA-Z\d](?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(e)?a(new Error("格式错误")):a()},a=function(t,e,a){!1===/^[0-9]*[1-9][0-9]*$/.test(e)?a(new Error("必须是正整数")):a()},i=function(t,e,a){e>1e7?a(new Error("最大为10000000(一千万)次")):a()},s=function(e,a,i){var s=/\s+/;if(a=t.rowFlowData.name){t.rowFlowData.name;r()({method:"post",url:"/strategy/checkStrategyUnique",data:{strategyName:t.flowAmendData.name}}).then(function(t){!0===t.data.data?i(new Error("策略名称重复")):s.test(a)?i(new Error("不能输入空格")):i()}).catch(function(t){alert("网络错误，不能访问")})}else i()},n=function(e,a,i){var s=/\s+/;a!=t.rowFlowData.name?r()({method:"post",url:"/strategy/checkStrategyUnique",data:{strategyName:t.flowAmendData.name}}).then(function(t){!0===t.data.data?i(new Error("策略名称重复")):s.test(a)?i(new Error("不能输入空格")):i()}).catch(function(t){alert("网络错误，不能访问")}):i()};return{jurisdiction:{},addSBtn:!1,amendSBtn:!1,delSBtn:!1,pageNum:1,pageSize:10,total:5,pageNumA:1,pageSizeA:5,totalA:5,amendStrategyDialog:!1,appList:[],oderr:"",flowData:[],flwDatalin:"",tableData3:[],flowAmendData:{name:"",no:"",unit:1},group:"",value:"",searchStrategy:"",formLabelWidth:"120px",description:"",currentPage4:4,creatFluid:!1,delData:"",multipleSelection:[],strategyInfo:{},flowArr:{},rowFlowData:{},newPage:"",unitFormat:function(t,e){var a=t[e.property];return void 0==a?"":1==a?"分钟":2==a?"小时":"天"},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":c()(a).format("YYYY-MM-DD HH:mm:ss")},ruleForm:{name:"",no:"",unit:1},rules:{name:[{required:!0,message:"请输入策略名称",trigger:"blur"},{min:4,max:15,message:"长度在 4 到 15 个字符",trigger:"blur"},{validator:e,trigger:"blur"},{validator:s,trigger:"blur"}],no:[{required:!0,message:"请输入API流量限制"},{validator:a,trigger:"blur"},{validator:i,trigger:"blur"}]},rules2:{name:[{required:!0,message:"请输入策略名称",trigger:"blur"},{min:4,max:15,message:"长度在 4 到 15 个字符",trigger:"blur"},{validator:e,trigger:"blur"},{validator:n,trigger:"blur"}],no:[{required:!0,message:"请输入API流量限制"},{validator:a,trigger:"blur"},{validator:i,trigger:"blur"}]}}},created:function(){this.createData(),this.getUserPermissions()},methods:(i={getUserPermissions:function(){var t=this;r()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},createData:function(){var t=this;r()({method:"post",url:"/strategy/index",data:{name:this.searchStrategy,pageSize:""==this.newPage?10:this.newPage,pageNum:this.pageNum}}).then(function(e){403==e.data.code&&(location.href=e.data.data),t.jurisdiction.roles.includes("admin")?(t.amendSBtn=!0,t.delSBtn=!0,t.addSBtn=!0):(t.amendSBtn=!1,t.delSBtn=!1,t.addSBtn=!1),t.flowData=e.data.data.elements,t.pageNum=0==e.data.data.pageNum?1:e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.total=e.data.data.count}).catch(function(t){console.log("网络错误，不能访问")})},amendStrategy:function(t){var e=this;this.rowFlowData=t,this.flwDatalin=this.rowFlowData.name,r()({method:"post",url:"/strategy/details",data:{id:t.id}}).then(function(t){e.amendStrategyDialog=!0,e.flowAmendData.id=t.data.data.id,e.flowAmendData.name=t.data.data.name,e.flowAmendData.no=t.data.data.no,e.flowAmendData.unit=t.data.data.unit}).catch(function(t){console.log("网络错误，不能访问")})},modifyStrategy:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;r()({method:"post",url:"/strategy/update",data:{id:e.flowAmendData.id,name:e.flowAmendData.name,unit:e.flowAmendData.unit,no:e.flowAmendData.no}}).then(function(t){e.amendStrategyDialog=!1,e.createData()}).catch(function(t){console.log("网络错误，不能访问")})})},addPort:function(){var e=new Date,a=e.getFullYear(),i=e.getMonth()+1,s=e.getDate(),n=e.getHours(),o=e.getMinutes(),r=e.getSeconds();this.tableData.push({group:this.group,description:this.description,data:a+"-"+i+"-"+s+" "+n+":"+o+":"+r}),this.group="",this.description="",""==this.group?t(".group").show():(t(".group").hide(),this.tableData.push({group:this.name,description:this.descript}))},handleCurrentChange:function(t){this.pageNum=t,this.createData()},handleSizeChange:function(t){this.newPage=t,this.createData()},addStrategy:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;r()({method:"post",url:"/strategy/add",data:{name:e.ruleForm.name,unit:e.ruleForm.unit,no:e.ruleForm.no}}).then(function(t){2e3!=t.data.code?e.$message({message:t.data.message,type:"warning"}):(e.creatFluid=!1,e.createData())}).catch(function(t){console.log("网络错误，不能访问")})})},showDel:function(t){for(var e=this,a=0;a<this.jurisdiction.perms.length;a++)"dde36ab7732e4f87b46c65fe39589aec"==this.jurisdiction.perms[a]&&(this.delData=t,this.$confirm('是否删除策略 "'+this.delData.name+'" ,如删除则不可恢复!',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.delStrategy()}).catch(function(){e.$message({type:"info",message:"已取消删除"})}))},delStrategy:function(){var t=this;r()({method:"post",url:"/strategy/delete",data:{id:this.delData.id}}).then(function(e){2e3==e.data.code?t.createData():t.$message({message:e.data.message,type:"warning"})}).catch(function(t){console.log("网络错误，不能访问")})},handleSelectionChange:function(t){this.multipleSelection=t},handleCurrentChangeA:function(t){this.pageNumA=t},checkboxInit:function(t,e){var a=t.limitStrategyuuid;return null!=a&&""!=a?0:1}},n()(i,"handleSelectionChange",function(t){this.multipleSelection=t}),n()(i,"closeDialog",function(){this.oderr=""}),n()(i,"closeDialog1",function(){this.ruleForm.name="",this.ruleForm.no="",this.ruleForm.unit=1}),n()(i,"tableRowClassName",function(t,e){return e%2!=0?"info-row":""}),i)}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,s=a(62),n=a.n(s),o=a(5),r=a.n(o),l=a(1),c=a.n(l);e.default={name:"flowMonitoringDetail",components:{},data:function(){var t=function(t,e,a){!1===/^[\u4e00-\u9fa5a-zA-Z][\u4e00-\u9fa5a-zA-Z\d](?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(e)?a(new Error("格式错误")):a()},e=function(t,e,a){var i=/^[0-9]*[1-9][0-9]*$/;null==e||""==e?a(new Error("请输入API流量限制")):!1===i.test(e)?a(new Error("必须是正整数")):e>1e7?a(new Error("最大为10000000(一千万)次")):a()};return{amendFluid:!1,bindApi:!1,currentPage4:4,formLabelWidth:"120px",value:"",createTime:"",updateTime:"",strategyInfo:{},updateTimeAuthed:"",authedList:[],oderr:"",appList:[],delData:"",multipleSelection:[],data:function(t){for(var e=[],a=1;a<=15;a++)e.push({key:a,label:"备选项 "+a,disabled:a%4==0});return e}(),value3:[1],renderFunc:function(t,e){return"<span>{ option.key } - { option.label }</span>"},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":c()(a).format("YYYY-MM-DD HH:mm:ss")},ruleForm:{sName:"",sNo:"",sUnit:""},rules:{sName:[{required:!0,message:"请输入策略名称",trigger:"blur"},{min:4,max:15,message:"长度在 4 到 15 个字符",trigger:"blur"},{validator:t,trigger:"blur"}],sUnit:[],sNo:[{validator:e,trigger:"blur"}]}}},created:function(){this.created()},methods:(i={handleSelectionChange:function(t){this.multipleSelection=t},handleChange:function(t,e,a){console.log(t,e,a)},created:function(){var t=this,e=this.$route.query.id;r()({method:"post",url:"/strategy/details",data:{id:e}}).then(function(e){t.strategyInfo=e.data.data,t.createTime=c()(e.data.data.createTime).format("YYYY-MM-DD HH:mm:ss"),t.updateTime=c()(e.data.data.updateTime).format("YYYY-MM-DD HH:mm:ss"),t.ruleForm.sName=e.data.data.name,t.ruleForm.sNo=e.data.data.no,t.ruleForm.sUnit=e.data.data.unit}).catch(function(t){console.log("网络错误，不能访问")}),r()({method:"post",url:"/strategy/getAllAuthed",data:{strategyUuid:this.$route.query.uuid}}).then(function(e){t.authedList=e.data.data}).catch(function(t){console.log("网络错误，不能访问")})},modifyStrategy:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;r()({method:"post",url:"/strategy/update",data:{id:e.strategyInfo.id,name:e.ruleForm.sName,unit:e.ruleForm.sUnit,no:e.ruleForm.sNo}}).then(function(t){e.amendFluid=!1,e.created()}).catch(function(t){console.log("网络错误，不能访问")})})},removeApp:function(t){var e=this;this.$confirm("此操作将解绑该app, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r()({method:"post",url:"/strategy/removeApp",data:{id:t}}).then(function(t){e.$message({type:"success",message:"解绑成功!"}),e.created()}).catch(function(t){console.log("网络错误，不能访问")})}).catch(function(){e.$message({type:"info",message:"已取消解绑"})})},bindApii:function(){this.bindApi=!0,this.getAppList()},getAppList:function(){var t=this;r()({method:"post",url:"/strategy/getStrategyList",data:{order:""==this.oderr?null:this.oderr}}).then(function(e){t.appList=e.data.data.list}).catch(function(t){console.log("网络错误，不能访问")})},checkboxInit:function(t,e){var a=t.limitStrategyuuid;return null!=a&&""!=a?0:1}},n()(i,"handleSelectionChange",function(t){this.multipleSelection=t}),n()(i,"setAuth",function(){var t=this,e=0,a="";0!=this.multipleSelection.length&&(this.multipleSelection.forEach(function(t){a+=0==e?t.id:","+t.id,e++}),r()({method:"post",url:"/strategy/strategyAuth",data:{strategyUuid:this.strategyInfo.uuid,appIds:a}}).then(function(e){t.created()}).catch(function(t){console.log("网络错误，不能访问")})),this.bindApi=!1}),n()(i,"closeDialog",function(){this.oderr=""}),n()(i,"closeModify",function(){this.ruleForm.sName=this.strategyInfo.name,this.ruleForm.sNo=this.strategyInfo.no,this.ruleForm.sUnit=this.strategyInfo.unit}),i)}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n),r=a(47),l=a.n(r);e.default={name:"flowControl",components:{menuListDetail:l.a},data:function(){var t=function(t,e,a){!1===/^[\u4e00-\u9fa5a-zA-Z][\u4e00-\u9fa5a-zA-Z\d](?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(e)?a(new Error("格式错误")):a()},e=function(t,e,a){!1===/^[0-9]*[1-9][0-9]*$/.test(e)?a(new Error("必须是正整数")):a()},a=function(t,e,a){e>1e7?a(new Error("最大为10000000(一千万)次")):a()};return{bindTotal:1,jurisdiction:{},bindBtn:!1,ovBindBtn:!1,amendBtn:!1,pageNum:1,pageSize:10,total:5,pageNumA:1,pageSizeA:5,totalA:5,appList:[],oderr:"",flowData:[],tableData3:[],group:"",value:"",appKey:"",formLabelWidth:"120px",description:"",currentPage4:4,delData:"",multipleSelection:[],bindFlowDialog:!1,amendStrategyDialog:!1,strategyUuid:"",radioVal:"",apiFlowArr:[],flowStr:{},flowObj:{},newPage:"",unitFormat:function(t,e){var a=t[e.property];return void 0==a?"":1==a?"分钟":2==a?"小时":"天"},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")},ruleForm:{sName:"",sNo:"",sUnit:1},rules:{sName:[{required:!0,message:"请输入策略名称",trigger:"blur"},{min:4,max:15,message:"长度在 4 到 15 个字符",trigger:"blur"},{validator:t,trigger:"blur"}],sNo:[{required:!0,message:"请输入API流量限制",trigger:"blur"},{validator:e,trigger:"blur"},{validator:a,trigger:"blur"}],sUnit:[]}}},created:function(){this.handleCurrentChange(1),this.getAppList(),this.getUserPermissions()},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},bindFlow:function(t){for(var e=0;e<this.jurisdiction.perms.length;e++)"08b354ee63474fb4a68aad7910c17823"==this.jurisdiction.perms[e]&&(this.radioVal="",this.bindFlowDialog=!0,this.apiFlowArr=t,this.bindTotal=t.total)},getCurrentRow:function(t,e){this.flowObj=t},amendCon:function(t){if(this.radioVal="",null!==t.strategy){for(var e=0;e<this.appList.length;e++)if(t.strategy==this.appList[e].uuid){this.radioVal=e;break}this.flowObj.uuid=t.strategy}this.bindFlowDialog=!0,this.apiFlowArr=t,this.bindTotal=t.total},setAuth:function(){var t=this;if(!1===/^[0-9]*[1-9][0-9]*$/.test(this.bindTotal))return void this.$message.warning("接口流量必须为大于0的整数");""===this.radioVal?s()({method:"post",url:"/rateLimit/appKey/bindingStrategy",data:{appKey:this.apiFlowArr.appKey,strategy:void 0==this.flowObj.uuid?"111":this.flowObj.uuid,total:this.bindTotal}}).then(function(e){2e3==e.data.code?(t.bindFlowDialog=!1,t.handleCurrentChange(1)):t.$message.info("请选择限流策略")}).catch(function(t){console.log("网络错误，不能访问")}):s()({method:"post",url:"/rateLimit/appKey/bindingStrategy",data:{appKey:this.apiFlowArr.appKey,strategy:(this.flowObj.uuid,this.flowObj.uuid),total:this.bindTotal}}).then(function(e){2e3==e.data.code?(t.bindFlowDialog=!1,t.handleCurrentChange(1)):t.$message.info("请选择限流策略")}).catch(function(t){console.log("网络错误，不能访问")})},removeBindFlow:function(t){var e=this;this.apiFlowArr=t,this.$confirm("此操作将解绑该策略, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s()({method:"post",url:"/rateLimit/appKey/bindingStrategy",data:{appKey:e.apiFlowArr.appKey,strategy:null,total:-1}}).then(function(t){e.$message({type:"success",message:"解绑成功!"}),e.flowData=[],e.bindFlowDialog=!1,e.handleCurrentChange(1)}).catch(function(t){console.log("网络错误，不能访问")})}).catch(function(){e.$message({type:"info",message:"已取消解绑"})})},getAppList:function(){var t=this;s()({method:"post",url:"/strategy/getAllStrategy",data:{strategyName:""==this.oderr?null:this.oderr}}).then(function(e){t.appList=e.data.data,t.flowStr.uuid=e.data.data[0].uuid}).catch(function(t){console.log("网络错误，不能访问")})},dataInit:function(){var t=this;s()({method:"post",url:"/rateLimit/appKey/index",data:{appKey:""==this.appKey?null:this.appKey,pageSize:""==this.newPage?10:this.newPage,pageNum:this.pageNum}}).then(function(e){403==e.data.code&&(location.href=e.data.data),t.jurisdiction.roles.includes("admin")?(t.bindBtn=!0,t.ovBindBtn=!0,t.amendBtn=!0):(t.bindBtn=!1,t.ovBindBtn=!1,t.amendBtn=!1),t.$set(t,"flowData",e.data.data.elements),t.$set(t,"pageNum",e.data.data.pageNum),t.$set(t,"pageSize",e.data.data.pageSize),t.$set(t,"total",e.data.data.count)}).catch(function(t){console.log("网络错误，不能访问")})},handleCurrentChange:function(t){this.pageNum=t,this.dataInit()},handleSizeChange:function(t){this.newPage=t,this.handleCurrentChange(1)},checkboxInit:function(t,e){var a=t.strategy;return null!=a&&""!=a?0:1},handleSelectionChange:function(t){this.multipleSelection=t},tableRowClassName:function(t,e){return e%2!=0?"info-row":""}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(5),s=a.n(i),n=a(1),o=a.n(n),r=a(47),l=a.n(r);e.default={name:"flowControl",components:{menuListDetail:l.a},data:function(){var t=function(t,e,a){!1===/^[\u4e00-\u9fa5a-zA-Z][\u4e00-\u9fa5a-zA-Z\d](?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(e)?a(new Error("格式错误")):a()},e=function(t,e,a){!1===/^[0-9]*[1-9][0-9]*$/.test(e)?a(new Error("必须是正整数")):a()},a=function(t,e,a){e>1e7?a(new Error("最大为10000000(一千万)次")):a()};return{limitStrategyTotal:1,jurisdiction:{},bindBtn:!1,ovBindBtn:!1,amendBtn:!1,pageNum:1,pageSize:10,total:5,pageNumA:1,pageSizeA:5,totalA:5,appList:[],oderr:"",flowData:[],tableData3:[],group:"",value:"",searchStrategy:null,appKey:"",formLabelWidth:"120px",description:"",currentPage4:4,delData:"",multipleSelection:[],bindFlowDialog:!1,amendStrategyDialog:!1,strategyUuid:"",radioVal:"",apiFlowArr:[],flowStr:{},flowObj:{},newPage:"",unitFormat:function(t,e){var a=t[e.property];return void 0==a?"":1==a?"分钟":2==a?"小时":"天"},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")},ruleForm:{sName:"",sNo:"",sUnit:1},rules:{sName:[{required:!0,message:"请输入策略名称",trigger:"blur"},{min:4,max:15,message:"长度在 4 到 15 个字符",trigger:"blur"},{validator:t,trigger:"blur"}],sNo:[{required:!0,message:"请输入API流量限制",trigger:"blur"},{validator:e,trigger:"blur"},{validator:a,trigger:"blur"}],sUnit:[]}}},created:function(){this.handleCurrentChange(1),this.getAppList(),this.getUserPermissions()},methods:{menuData:function(){console.log(t(".el-menu-item")),t(".el-menu-item").eq(5).removeClass("is-active"),t(".el-menu-item").eq(4).removeClass("is-active"),t(".el-menu-item").eq(6).removeClass("is-active"),t(".el-menu-item").eq(7).addClass("is-active")},getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},bindFlow:function(t){for(var e=0;e<this.jurisdiction.perms.length;e++)"08b354ee63474fb4a68aad7910c17823"==this.jurisdiction.perms[e]&&(this.radioVal="",this.bindFlowDialog=!0,this.apiFlowArr=t,this.limitStrategyTotal=t.total)},getCurrentRow:function(t,e){console.log(t.uuid),this.flowObj=t},amendCon:function(t){if(this.radioVal="",null!==t.strategy){for(var e=0;e<this.appList.length;e++)if(t.strategy==this.appList[e].uuid){this.radioVal=e;break}this.flowObj.uuid=t.strategy}this.bindFlowDialog=!0,this.apiFlowArr=t,this.limitStrategyTotal=t.total},setAuth:function(){var t=this;if(!1===/^[0-9]*[1-9][0-9]*$/.test(this.limitStrategyTotal))return void this.$message.warning("接口流量必须为大于0的整数");""===this.radioVal?s()({method:"post",url:"/rateLimit/appKeyApi/bindingStrategy",data:{apiId:this.apiFlowArr.apiId,strategy:void 0==this.flowObj.uuid?"111":this.flowObj.uuid,total:this.limitStrategyTotal,appKey:this.apiFlowArr.appKey}}).then(function(e){2e3==e.data.code?(t.bindFlowDialog=!1,console.log(t.flowObj.uuid),t.handleCurrentChange(1)):t.$message.info("请选择限流策略")}).catch(function(t){console.log("网络错误，不能访问")}):s()({method:"post",url:"/rateLimit/appKeyApi/bindingStrategy",data:{apiId:this.apiFlowArr.apiId,strategy:(this.flowObj.uuid,this.flowObj.uuid),total:this.limitStrategyTotal,appKey:this.apiFlowArr.appKey}}).then(function(e){2e3==e.data.code?(t.bindFlowDialog=!1,t.handleCurrentChange(1)):t.$message.info("请选择限流策略")}).catch(function(t){console.log("网络错误，不能访问")})},removeBindFlow:function(t){var e=this;this.apiFlowArr=t,this.$confirm("此操作将解绑该策略, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s()({method:"post",url:"/rateLimit/appKeyApi/bindingStrategy",data:{apiId:e.apiFlowArr.apiId,strategy:null,total:-1,appKey:e.apiFlowArr.appKey}}).then(function(t){e.$message({type:"success",message:"解绑成功!"}),e.flowData=[],e.bindFlowDialog=!1,e.handleCurrentChange(1)}).catch(function(t){console.log("网络错误，不能访问")})}).catch(function(){e.$message({type:"info",message:"已取消解绑"})})},getAppList:function(){var t=this;s()({method:"post",url:"/strategy/getAllStrategy",data:{strategyName:""==this.oderr?null:this.oderr}}).then(function(e){t.appList=e.data.data,t.flowStr.uuid=e.data.data[0].uuid}).catch(function(t){console.log("网络错误，不能访问")})},dataInit:function(){var t=this;s()({method:"post",url:"/rateLimit/appKeyApi/index",data:{apiId:""==this.searchStrategy?null:this.searchStrategy,pageSize:""==this.newPage?10:this.newPage,pageNum:this.pageNum,appKey:this.appKey}}).then(function(e){403==e.data.code&&(location.href=e.data.data),t.jurisdiction.roles.includes("admin")?(t.bindBtn=!0,t.ovBindBtn=!0,t.amendBtn=!0):(t.bindBtn=!1,t.ovBindBtn=!1,t.amendBtn=!1),t.flowData=e.data.data.elements,t.pageNum=e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.total=e.data.data.count}).catch(function(t){console.log("网络错误，不能访问")})},handleCurrentChange:function(t){this.pageNum=t,this.dataInit()},handleSizeChange:function(t){this.newPage=t,this.handleCurrentChange(1)},checkboxInit:function(t,e){var a=t.strategy;return null!=a&&""!=a?0:1},handleSelectionChange:function(t){this.multipleSelection=t},tableRowClassName:function(t,e){return e%2!=0?"info-row":""}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1);a.n(n);e.default={name:"healthCheck",components:{},data:function(){return{jurisdiction:{},tablegroup:[],listLoading:!1}},created:function(){this.getUserPermissions(),this.initData()},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},initData:function(){var t=this;this.listLoading=!0,s()({method:"post",url:"/health/getApps",data:{}}).then(function(e){console.log(e),t.tablegroup=e.data.data,t.listLoading=!1}).catch(function(e){t.listLoading=!1,console.log("网络错误，不能访问")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},joinHealth:function(t){var e=this;s()({method:"post",url:"/health/addHealthCheck",data:{instanceId:t.instanceId}}).then(function(t){2e3===t.data.code?(e.initData(),e.$message({type:"success",message:"加入成功"})):e.$message({type:"error",message:t.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},outHealth:function(t){var e=this;s()({method:"post",url:"/health/delHealthCheck",data:{instanceId:t.instanceId}}).then(function(t){console.log(t),2e3===t.data.code?(e.initData(),e.$message({type:"success",message:"退出成功"})):e.$message({type:"error",message:t.data.message})}).catch(function(t){console.log("网络错误，不能访问")})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(470),s=a.n(i),n=a(1100),o=a.n(n),r=a(1102),l=a.n(r),c=a(1101),d=a.n(c);e.default={name:"indexPage",components:{topNav:s.a,Lmenus:o.a,Menu:l.a,Bredcrumb:d.a},data:function(){return{}},computed:{isCollapse:function(){return this.$store.getters.isCollapse},bodyHeight:function(){return this.$store.getters.bodyHeight},bodyWidth:function(){return this.$store.getters.bodyWidth}},created:function(){},methods:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={name:"findApi",components:{},data:function(){return{jurisdiction:{},addGroupData:{},amendObj:{},index:0,titleText:"",creatIp:!1,total:0,page:1,searchParams:{ipAddress:"",currPage:1,pageSize:10},appKeyAry:[],listLoading:!1,tablegroup:[],newPage:"",formLabelWidth:"120px",companyId:"",appKeyId:null,dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")}}},created:function(){this.handleCurrentChange(1),this.getAppKeyAry()},methods:{getAppKeyAry:function(){var t=this;s()({method:"post",url:"/app/findApp",data:{}}).then(function(e){2e3===e.data.code?t.appKeyAry=e.data.data:t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},initData:function(){var t=this;s()({method:"post",url:"/ipWhite/search",data:this.searchParams}).then(function(e){t.tablegroup=e.data.data.list,t.currPage=e.data.data.currPage,t.pageSize=e.data.data.pageSize,t.total=e.data.data.totalCount}).catch(function(t){console.log("网络错误，不能访问")})},addIp:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;s()({method:"post",url:"新建IP"==e.titleText?"/ipWhite/save":"/ipWhite/edit",data:{description:e.addGroupData.description,ipAddress:e.addGroupData.ipAddress,appKeyId:e.appKeyId,id:e.amendObj.id}}).then(function(t){2e3==t.data.code?(e.closeDialog(),e.handleCurrentChange(1),e.amendObj={},e.addGroupData={},e.titleText=""):e.$message({type:"info",message:t.data.message})}).catch(function(t){console.log("网络错误，不能访问")})})},openDialog:function(){this.creatIp=!0,this.titleText="新建IP",this.amendObj={},this.creatIp=!0,this.addGroupData.ipAddress="",this.appKeyId=null,this.addGroupData.appkey=null,this.addGroupData.description=""},amendIp:function(t){this.amendObj=t,this.creatIp=!0,this.titleText="编辑IP",this.addGroupData.ipAddress=t.ipAddress,this.appKeyId=t.appKeyId,this.addGroupData.appKeyId=t.appKeyId,this.addGroupData.description=t.description},appKeyChange:function(t){this.$set(this,"appKeyId",t),this.$set(this.addGroupData,"appKeyId",t)},delIp:function(t){var e=this;this.delIpData=t,this.$confirm('是否删除IP "'+this.delIpData.ipAddress+'",如删除则不可恢复!',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.delIPList()}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},delIPList:function(){var t=this;s()({method:"post",url:"/ipWhite/delete",data:{id:this.delIpData.id}}).then(function(e){2e3==e.data.code?(t.$message({type:"success",message:"删除IP成功"}),t.handleCurrentChange(1)):t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},handleCurrentChange:function(t){this.searchParams.currPage=t,this.initData()},handleSizeChange:function(t){this.searchParams.pageSize=t,this.handleCurrentChange(1)},closeDialog:function(){this.$refs.addGroupDataRef.resetFields(),this.creatIp=!1}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(61),s=a.n(i),n=a(5),o=a.n(n),r=a(60),l=a(1),c=a.n(l),d=a(1097),p=a.n(d),u=a(1096),m=a.n(u),h=a(972);a.n(h);e.default={data:function(){return{dialogDetail:{title:"",show:!1},dialogDetailText:"",sourceResult:"",dialogResultVisible:!1,searchData:{apiId:null,endTime:0,pageNum:1,pageSize:10,startTime:0},tableList:[],listLoading:!1,totalCount:0}},components:{ElButton:p.a,JsonViewer:m.a},computed:{bodyHeight:function(){return this.$store.getters.bodyHeight},bodyWidth:function(){return this.$store.getters.bodyWidth}},mounted:function(){this.setBreadcrumb(),this.requestParame()},methods:{setBreadcrumb:function(){var t=JSON.parse(s()(this.$store.getters.commonCacheData("breadcrumb")));t.push({urls:this.$route.path,name:"日志列表"}),this.$store.commit(r.a,{name:"breadcrumb",value:t})},requestParame:function(){var t=this.$route.query;t&&t.apiId&&t.endTime&&t.startTime?(this.searchData.apiId=t.apiId,this.searchData.endTime=t.endTime,this.searchData.startTime=t.startTime,this.intData()):this.back()},back:function(){this.$router.push({path:"/apiStatistical"})},intData:function(){var t=this;this.listLoading=!0,o()({method:"post",url:"/count/errorListPage",data:this.searchData}).then(function(e){t.listLoading=!1,2e3===e.data.code?(t.tableList=e.data.data.list,t.totalCount=e.data.data.totalCount):403===e.data.code&&(location.href=e.data.data)}).catch(function(e){t.listLoading=!1,console.log("网络错误，不能访问"+e)})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},handleCurrentChange:function(t){this.searchData.pageNum=t,this.intData()},handleSizeChange:function(t){this.searchData.pageSize=t,this.handleCurrentChange(1)},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":c()(a).format("YYYY-MM-DD HH:mm:ss")},showDetail:function(t,e){var a=this;this.dialogDetail.show=!0,this.dialogDetail.title=e+"日志详情";var i={sourceCreateTime:t.sourceCreateTime,uid:t.uid,app:""};"zuul"===e?i.app="zuul-proxy":"client"===e?i.app="inmgr":"exit"===e&&(i.app="gateway-exit"),o()({method:"post",url:"/count/queryLogByUid",data:i}).then(function(t){a.listLoading=!1,2e3===t.data.code?a.dialogDetailText=t.data.data:403===t.data.code?location.href=t.data.data:(a.dialogDetail.show=!1,a.$message.error("请求错误"))}).catch(function(t){console.log("网络错误，不能访问"+t)})},detailClose:function(){this.dialogDetailText=""},setJson:function(t){return""===t?{}:JSON.parse(t)},showResult:function(t){this.sourceResult=t,this.dialogResultVisible=!0}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={name:"findApi",components:{},data:function(){return{formLabelWidth:"120px",titleTab:"创建",searcName:"",jurisdiction:{},creatname:!1,pageNum:1,pageSize:10,total:0,listLoading:!1,tablegroup:[],newPage:"",addJson:{name:"",path:"",aUrl:"",bUrl:"",description:""},delData:{},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")}}},created:function(){this.getUserPermissions(),this.initData()},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},initData:function(){var t=this;s()({method:"post",url:"/routing/index",data:{name:this.searcName,pageSize:""==this.newPage?10:this.newPage,pageNum:this.pageNum}}).then(function(e){t.tablegroup=e.data.data.elements,t.pageNum=e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.total=e.data.data.count}).catch(function(t){console.log("网络错误，不能访问")})},addName:function(){this.titleTab="创建",this.creatname=!0},addList:function(t){var e=this;this.$refs[t].validate(function(a){if(!a)return console.log("error submit!!"),!1;s()({method:"post",url:"创建"==e.titleTab?"/routing/add":"/routing/update",data:{name:e.addJson.name,path:e.addJson.path,aUrl:e.addJson.aUrl,bUrl:e.addJson.bUrl,description:null==e.addJson.description?"":e.addJson.description,id:"编辑"==e.titleTab?e.addJson.id:""}}).then(function(a){2e3==a.data.code?(e.$refs[t].resetFields(),e.creatname=!1,e.addJson={},e.initData()):(e.creatname=!0,e.$message({type:"info",message:a.data.message}))}).catch(function(t){console.log("网络错误，不能访问")})})},renovate:function(){var t=this;s()({method:"post",url:"/gateway/routeFresh",data:{}}).then(function(e){2e3==e.data.code?t.$message({type:"success",message:"刷新成功"}):t.$message({type:"info",message:"刷新失败"})}).catch(function(t){console.log("网络错误，不能访问")})},amendNet:function(t){this.titleTab="编辑",this.creatname=!0,this.addJson=t},delNet:function(t,e){var a=this;this.delData=e,console.log(e),this.$confirm('是否删除 "'+e.name+'",如删除则不可恢复!',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.delMsg()}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},delMsg:function(){var t=this;s()({method:"post",url:"/routing/delete",data:{id:this.delData.id}}).then(function(e){2e3==e.data.code?(t.searcName="",t.initData(),t.$message({type:"success",message:"删除成功"})):t.$message({type:"info",message:"删除失败"})}).catch(function(t){console.log("网络错误，不能访问")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},handleCurrentChange:function(t){this.pageNum=t,this.initData()},handleSizeChange:function(t){this.newPage=t,this.initData()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(5),s=a.n(i),n=a(1),o=a.n(n),r=a(470),l=a.n(r),c=a(469),d=a.n(c),p=a(202),u=a.n(p),m=a(1146),h=a.n(m),f=a(1152),g=a.n(f),v=a(1153),b=a.n(v),_=a(1147),y=a.n(_),C=a(1145),D=a.n(C),w=a(1144),x=a.n(w),k=a(205),L=a.n(k),I=a(1150),N=a.n(I),S=a(1143),A=a.n(S),T=a(1149),P=a.n(T),M=a(29),B=(a(634),a(201)),F=a.n(B),$=a(203),z=a.n($);e.default={name:"portManage",components:{topNav:l.a,page:d.a,env:u.a,firstDialog:h.a,secondDialog:g.a,thirdDialog:b.a,fourthDialog:y.a,creatGroup:D.a,amendApi:x.a,queryApiDetail:L.a,publishApi:N.a,accreditCom:A.a,overLineApiCom:P.a,apiTree:F.a,PageHeader:z.a},data:function(){return{addMagBtn:!1,amendBtn:!1,delMagBtn:!1,pubMagBtn:!1,upMagBtn:!1,copyMagBtn:!1,jurisdiction:{},detailObj:[],detailObj2:[],detailObj3:[],detailObj4:[],detailObj5:[],detailObj6:[],detailObj7:[],detailObj8:[],apiDataId:"",dataId:"",dataId2:"",dataLabel:"",alertTextArr:[],dataStrs:"",dialogIndex:1,value:"",currentPage:1,currentPage2:1,currentPage3:1,pageSize:10,pageSize2:10,pageSize3:10,total:0,total2:0,total3:0,aDmsg:"",newPage:"",newPage2:"",newPage3:"",groupArr:[],runArr:[{text:"线上",value:1},{text:"预发",value:2}],creatGroup:!1,searchCond:{},apiList:[],groupOptions:[],cacheInput:[{value:2}],cacheInputOptions:[{value:2,label:"否"},{value:1,label:"是"}],createDialog:!1,appKeyData:[],searchimpowerName:"",issue:!1,delApiData:{},accredit:!1,offLine:!1,amendApi:!1,look:!1,searchGroupName:"",searchGroupId:"",groupHerfId:{pubDescription:""},rowIndex:null,detialVersionFlag:null,apiDefineDetail:{},backendVersionsList:[],requestParamsVersionsList:[],resultSettingsVersionsList:[],addApiData:{apiInfo:{apiGroupId:"",apiName:"",apiDescription:"",saveMongoDB:"2",mongodbURI:"",mongodbDBName:"",mongodbCollectionName:"",saveMQ:"2",cacheNo:null,cacheUnit:null,mqType:"",mqAddress:"",mqUserName:null,mqPasswd:"",mqTopicName:"",httpPath:"",httpMethod:1,backendProtocolType:1,callBackType:1,callBackSuccessExample:"",callBackFailExample:"",backEndAddress:"",backEndAddressB:"",backEndPath:"",backEndHttpMethod:1,backEndTimeout:"",isMock:2,charge:2,mockData:"",interfaceName:"",responseTransParam:null,responseConfigJson:""},backEndRequestParamsList:[],requestParamsList:[{maxLength:"50",minLength:"1",paramName:"",paramsLocation:2,paramsType:1,paramsMust:1,paramsDefaultValue:"",paramsExample:"",paramsDescription:"",regularExpress:""}]},backEndParam:[],numData:[{paramName:"",paramValue:"",paramsLocation:2,paramDescription:"",paramsType:2}],numDataJson:[],numDataXml:[],backEndParam2:[],numData2:[],dataTree:[],defaultProps:{children:"children",label:"label"},addflowData:{subThirdApiInfo:{},subThirdRequestInfo:[{requestParamsId:"",paramsType:"",paramName:"",paramValue:"",paramsLocation:"",paramDescription:""}]},defaultExpanded:[]}},computed:{bodyHeight:function(){return this.$store.getters.bodyHeight},bodyWidth:function(){return this.$store.getters.bodyWidth}},created:function(){this.getUserPermissions(),this.initData(),this.loadGroups(),this.addFlow(),this.treeGroup()},methods:{apiIdChange:function(){var t=/^(-|\+)?\d+$/;console.log(t.test(this.searchGroupId))},getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},amendChild:function(t){this.dataStrs=t},handleNodeClick:function(e){var a=this;this.searchGroupName="",this.searchGroupId="",this.pageSize=10,this.pageSize2=10,this.pageSize3=10,this.aDmsg=e,t(".el-table-filter__list-item.is-active").css({color:"#000","background-color":"#fff"}),this.apiDataId=e.id,this.apiList=[],this.dataId=e.id,this.dataId2=e.id,this.dataLabel=e.label,this.searchCond.env="","全部"==e.label?(t("#pageOne").show(),t("#pageTwo").hide(),t("#pageThree").hide(),this.pageSize=10,this.currentPage=1,this.initData()):"（无）"==e.label?(t("#pageThree").hide(),t("#pageTwo").show(),t("#pageOne").hide(),this.pageSize2=10,this.currentPage2=1,s()({method:"post",url:"/api/apiInfoListByGroup",data:{apiGroupId:e.id,flagNoGroup:1,env:void 0==this.searchCond.env?"":this.searchCond.env,pageSize:""==this.newPage2?10:this.newPage2,pageNum:this.currentPage2}}).then(function(t){a.$set(a,"apiList",t.data.data.list),a.pageSize2=t.data.data.pageSize,a.total2=t.data.data.total}).catch(function(t){console.log("网络错误，不能访问")})):(t("#pageThree").show(),t("#pageTwo").hide(),t("#pageOne").hide(),this.pageSize3=10,this.currentPage3=1,s()({method:"post",url:"/api/apiInfoListByGroup",data:{apiGroupId:e.id,pageSize:""==this.newPage3?10:this.newPage3,pageNum:this.currentPage3}}).then(function(t){a.apiList=t.data.data.list,a.pageSize3=t.data.data.pageSize,a.total3=t.data.data.total}).catch(function(t){console.log("网络错误，不能访问")}))},dataInit:function(){this.$route.query.num&&(this.createDialog=!0,this.dialogIndex=3,this.backEndParam.push({paramName:"",paramValue:"",paramsLocation:2,paramDescription:"",paramsType:1}))},closeDialog:function(t){var e=this;if(this.$route.query.num)this.$confirm("确认关闭？").then(function(a){t(),e.$router.back()}).catch(function(t){});else{var a=window.location.href;a=a.replace("num=2&",""),setTimeout(function(){window.location.href=a},300),this.$confirm("确认关闭？").then(function(e){t(),location.reload()}).catch(function(t){})}},addFlow:function(){var t=this;2==this.$route.query.num&&(this.dataInit(),s()({method:"post",url:"/api/findApiInfo",data:{id:this.$route.query.id,apiGroupId:this.$route.query.groupId}}).then(function(e){console.log(e.data.data,"流量跳转"),e.data.data.apiInfo.interfaceName="",e.data.data.apiInfo.backEndAddress="",e.data.data.apiInfo.backEndPath="",e.data.data.apiInfo.backEndTimeout="",e.data.data.apiInfo.weight="",e.data.data.apiInfo.mockData="",t.addApiData.apiInfo=e.data.data.apiInfo,t.addApiData.apiInfo.responseConfigJson="",t.addApiData.apiInfo.responseTransParam="",t.addApiData.requestParamsList=e.data.data.requestParamsList,t.addApiData.backEndRequestParamsList=e.data.data.backendList,t.backEndParam=[],t.numData=[],t.addApiData.backEndRequestParamsList.forEach(function(e,a){e.paramName="",e.paramsLocation=1,1==e.paramsType?t.backEndParam.push(e):2==e.paramsType&&(t.numData=[])}),t.addApiData.backEndRequestParamsList=[]}).catch(function(t){console.log("网络错误，不能访问")}))},initData:function(){var t=this.$route.query.apiGroupId;this.searchCond={apiGroupId:t,apiName:""==this.searchGroupName?null:this.searchGroupName,apiId:""==this.searchGroupId?null:this.searchGroupId,pageSize:""==this.newPage?10:this.newPage,env:void 0==this.searchCond.env?"":this.searchCond.env,pageNum:this.currentPage},this.queryData()},searchByCond:function(){var t=!0;0==/^(-|\+)?\d+$/.test(this.searchGroupId)&&""!==this.searchGroupId&&(t=!1,this.$message.info("apiId请输入整数！")),t&&(this.searchCond.apiName=""==this.searchGroupName?null:this.searchGroupName,this.searchCond.apiId=""==this.searchGroupId?null:this.searchGroupId,this.searchCond.flagNoGroup="（无）"==this.dataLabel?1:"",this.queryData())},queryData:function(){var t=this;s()({method:"post",url:"/api/apiInfoListByGroup",data:this.searchCond}).then(function(e){403==e.data.code&&(location.href=e.data.data),t.jurisdiction.roles&&t.jurisdiction.roles.includes("admin")?(t.addMagBtn=!0,t.amendBtn=!0,t.delMagBtn=!0,t.pubMagBtn=!0,t.upMagBtn=!0,t.copyMagBtn=!0):(t.amendBtn=!1,t.delMagBtn=!1,t.pubMagBtn=!1,t.upMagBtn=!1,t.addMagBtn=!1,t.copyMagBtn=!1),t.apiList=e.data.data.list,t.currentPage=e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.total=e.data.data.total}).catch(function(t){console.log("网络错误，不能访问")})},menuGroup:function(){var t=this;this.groupHerfId;s()({method:"post",url:"/apiGroup/allList",data:{}}).then(function(e){t.jurisdiction.perms.map(function(a){if("8e0d4a7bd5a7467ebe33dca8c4b9c22c"==a)for(var i=e.data.data,s=0;s<i.length;s++)t.groupArr[s]={text:i[s].groupName,value:i[s].id}})}).catch(function(t){console.log("网络错误，不能访问")})},publish:function(t,e){this.groupHerfId=e,this.rowIndex=t,this.issue=!0},delApiMes:function(t){var e=this,a=this.delApiData;s()({method:"post",url:"/api/delete",data:{apiGroupId:a.apiGroupId,id:a.id}}).then(function(a){2e3!==a.data.code?e.$message({type:"error",message:a.data.message}):(e.apiList.splice(t,1),e.$message({type:"success",message:"删除API成功"}))}).catch(function(t){console.log("网络错误，不能访问")})},delApiBtn:function(t,e){var a=this;this.delApiData=e,this.delApiData.index=t,this.$confirm('是否删除API "'+this.delApiData.apiName+'",如删除则不可恢复!',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.delApiMes(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},impower:function(t){this.accredit=!0,this.groupHerfId=t},overLine:function(t,e){this.groupHerfId=e,this.rowIndex=t,this.offLine=!0},issueOK:function(){this.issue=!1},accreditOK:function(){this.accredit=!1,this.initData()},offLineOK:function(){this.offLine=!1,this.initData()},lookData:function(e,i){var n=this;this.apiDefineDetail={},this.backendVersionsList=[],this.requestParamsVersionsList=[],this.resultSettingsVersionsList=[],this.backEndParam2=[],this.numData2=[],this.detialVersionFlag=i,this.groupHerfId=e;var o=this.groupHerfId.apiGroupId,r=this.groupHerfId.id;this.look=!0,s()({method:"post",url:"/api/findApiInfoVersion",data:{apiGroupId:o,id:r,versionId:i}}).then(function(e){var i=a.i(M.a)(n.groupHerfId.callBackSuccessExample);t(".successWritePlaceDialog").html("<pre>"+i+"<pre/>");var s=a.i(M.a)(n.groupHerfId.callBackFailExample);t(".errorWritePlaceDialog").html("<pre>"+s+"<pre/>"),n.apiDefineDetail=e.data.data.apiInfoVersion,n.backendVersionsList=e.data.data.backendVersionsList,e.data.data.backendVersionsList.forEach(function(t,e){1==t.paramsType?n.backEndParam2.push(t):2==t.paramsType&&n.numData2.push(t)}),n.requestParamsVersionsList=e.data.data.requestParamsVersionsList,n.resultSettingsVersionsList=e.data.data.resultSettingsVersionsList}).catch(function(t){console.log("网络错误")})},handleCurrentChange:function(t){this.currentPage=t,this.searchCond.pageNum=t,this.initData()},handleSizeChange:function(t){this.newPage=t,this.searchCond.pageNum=t,this.initData()},handleCurrentChange2:function(t){var e=this;this.apiList=[],this.currentPage2=t,s()({method:"post",url:"/api/apiInfoListByGroup",data:{apiGroupId:this.dataId,flagNoGroup:1,env:void 0==this.searchCond.env?"":this.searchCond.env,pageSize:""==this.newPage2?10:this.newPage2,pageNum:this.currentPage2}}).then(function(t){e.apiList=t.data.data.list,e.pageSize=t.data.data.pageSize,e.total2=t.data.data.total}).catch(function(t){console.log("网络错误，不能访问")})},handleSizeChange2:function(t){this.newPage2=t,this.handleNodeClick(this.aDmsg)},handleCurrentChange3:function(t){var e=this;this.apiList=[],this.currentPage3=t,s()({method:"post",url:"/api/apiInfoListByGroup",data:{apiGroupId:this.dataId2,pageSize:""==this.newPage3?10:this.newPage3,env:void 0==this.searchCond.env?"":this.searchCond.env,pageNum:void 0==this.currentPage3?1:this.currentPage3,flagNoGroup:"（无）"==this.dataLabel?1:""}}).then(function(t){e.apiList=t.data.data.list,e.pageSize=t.data.data.pageSize,e.total3=t.data.data.total}).catch(function(t){console.log("网络错误，不能访问")})},handleSizeChange3:function(t){this.newPage3=t,this.handleNodeClick(this.aDmsg)},tableChange:function(t){var e=this;t.hasOwnProperty("groups")?this.searchCond.apiGroupId=t.groups[0]:t.hasOwnProperty("runTimeEnv")&&(this.searchCond.env=t.runTimeEnv[0]),this.newPage="",this.newPage2="",this.newPage3="",s()({method:"post",url:"/api/apiInfoListByGroup",data:{apiGroupId:"全部"==this.dataLabel?"":this.apiDataId,apiName:""==this.searchGroupName?null:this.searchGroupName,pageSize:10,env:void 0==this.searchCond.env?"":this.searchCond.env,pageNum:"全部"==this.dataLabel?this.currentPage:"（无）"==this.dataLabel?this.currentPage2:this.currentPage3,flagNoGroup:"（无）"==this.dataLabel?1:""}}).then(function(t){e.apiList=t.data.data.list,e.pageSize=t.data.data.pageSize,"（无）"==e.dataLabel?(e.currentPage2=1,e.total2=t.data.data.total):"全部"==e.dataLabel?(e.currentPage=t.data.data.pageNum,e.currentPage=1,e.total=t.data.data.total):""==e.dataLabel&&e.searchCond.env?(e.currentPage=t.data.data.pageNum,e.currentPage=1,e.total=t.data.data.total):(e.currentPage3=t.data.data.pageNum,e.currentPage3=1,e.total3=t.data.data.total)}).catch(function(t){console.log("网络错误，不能访问")})},addApi:function(){this.createDialog=!0,this.loadGroups()},addGroupOk:function(){this.creatGroup=!1,this.loadGroups()},loadGroups:function(){var t=this;this.groupOptions=[],s()({method:"post",url:"/apiGroup/listOfNoLowerLevelGroup",data:{}}).then(function(e){e.data.data.map(function(e){t.groupOptions.push({label:e.groupName,id:e.id})})}).catch(function(t){console.log("网络错误，不能访问")})},addApiBtn:function(){var e=this;if(2==this.$route.query.num)this.addflowData.subThirdApiInfo.apiId=this.addApiData.apiInfo.id,this.addflowData.subThirdApiInfo.interfaceName=this.addApiData.apiInfo.interfaceName,this.addflowData.subThirdApiInfo.backEndAddress=this.addApiData.apiInfo.backEndAddress,this.addflowData.subThirdApiInfo.backEndPath=this.addApiData.apiInfo.backEndPath,this.addflowData.subThirdApiInfo.backEndHttpMethod=this.addApiData.apiInfo.backEndHttpMethod,this.addflowData.subThirdApiInfo.backEndTimeout=this.addApiData.apiInfo.backEndTimeout,this.addflowData.subThirdApiInfo.callBackType=this.addApiData.apiInfo.callBackType,this.addflowData.subThirdApiInfo.weight=this.addApiData.apiInfo.weight,this.addflowData.subThirdApiInfo.backendProtocolType=this.addApiData.apiInfo.backendProtocolType,this.addflowData.subThirdApiInfo.responseConfigJson=this.addApiData.apiInfo.responseConfigJson,this.addflowData.subThirdApiInfo.responseTransParam=this.addApiData.apiInfo.responseTransParam,this.addflowData.subThirdRequestInfo=this.addApiData.backEndRequestParamsList,this.backEndParam.forEach(function(t,a){e.addflowData.subThirdRequestInfo.push(t)}),this.numData.forEach(function(t,a){e.addflowData.subThirdRequestInfo.push(t)}),this.numDataJson.forEach(function(t,a){e.addflowData.subThirdRequestInfo.push(t)}),this.numDataXml.forEach(function(t,a){e.addflowData.subThirdRequestInfo.push(t)}),s()({method:"post",url:"/api/back/sub/save",data:this.addflowData}).then(function(a){console.log(a,"流量跳转保存"),2e3!==a.data.code?(e.$message.error(a.data.message),e.createDialog=!0):(e.$message.success("创建成功"),e.createDialog=!1,e.$router.back(),t("#addBtnApi").css({display:"none"}),t("#addBtnApiDip").css({display:"inline-block"}))}).catch(function(t){console.log("网络错误，不能访问")});else{var a=this;a.addApiData.backEndRequestParamsList=[],a.backEndParam.forEach(function(t,e){a.addApiData.backEndRequestParamsList.push(t)}),3==this.addApiData.apiInfo.backendProtocolType?(this.addApiData.apiInfo.backEndPath=null,this.addApiData.apiInfo.backEndHttpMethod=null,a.numDataXml.forEach(function(t,e){a.addApiData.backEndRequestParamsList.push(t)})):(a.numData.forEach(function(t,e){a.addApiData.backEndRequestParamsList.push(t)}),a.numDataJson.forEach(function(t,e){a.addApiData.backEndRequestParamsList.push(t)}),a.numDataXml.forEach(function(t,e){a.addApiData.backEndRequestParamsList.push(t)})),this.addApiData.requestParamsList.forEach(function(t,e){t.paramsMust?t.paramsMust=1:t.paramsMust=2,2!=t.paramsType&&3!=t.paramsType&&4!=t.paramsType&&5!=t.paramsType&&6!=t.paramsType||(t.maxLength="",t.minLength="")}),this.addApiData.apiInfo.callBackSuccessExample=this.addApiData.apiInfo.callBackSuccessExample.replace(/\s+/g,""),this.addApiData.apiInfo.callBackSuccessExample=this.addApiData.apiInfo.callBackSuccessExample.replace(/\s+/g,""),0==this.addApiData.apiInfo.cacheNo?this.addApiData.apiInfo.cacheNo=null:""==this.addApiData.apiInfo.cacheUnit&&(this.addApiData.apiInfo.cacheUnit=null),null==this.addApiData.apiInfo.tcpHeaderId&&(this.addApiData.apiInfo.tcpBodyLenBytes=0,this.addApiData.apiInfo.tcpReadBytes=8),s()({method:"post",url:"/api/save",data:this.addApiData}).then(function(a){2e3!==a.data.code?(e.$message.error(a.data.message),e.createDialog=!0):(t("#addBtnApi").css({display:"none"}),t("#addBtnApiDip").css({display:"inline-block"}),e.createDialog=!1,e.searchCond.pageNum=1,e.currentPage=1,e.initData(),location.reload())}).catch(function(t){e.$message.error("请求错误")})}},clearPropertiesVal:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){for(var e in t){var a=t[e];if("[object Array]"==Object.prototype.toString.call(a))for(var i=0;i<a.lenth;i++)clearPropertiesVal(a);else t[e]=""}}),treeGroup:function(){var t=this;s()({method:"post",url:"/apiGroup/listByLevel",data:{}}).then(function(e){t.jurisdiction.perms.map(function(a){if("9bb84cb2b3874e48980eeff0a008fb26"==a?t.detailObj3.push("9bb84cb2b3874e48980eeff0a008fb26"):"6269100027da4d0c87b2666a93df5cea"==a&&t.detailObj3.push("6269100027da4d0c87b2666a93df5cea"),t.detailObj3.length>1){t.dataTree=e.data.data;for(var i=e.data.data,s=i.length,n=[],o=0;o<s;o++)if(null==i[o].parentId){var r={label:i[o].groupName,id:i[o].id};r.children=t.aa(i[o].id,i),n.push(r)}n.splice(0,0,{label:"全部"}),n.push({id:0,label:"（无）"}),t.defaultExpanded=[],n.forEach(function(e){e.id&&0!==e.id&&t.defaultExpanded.push(e.id)}),t.alertTextArr=n}})}).catch(function(t){console.log("网络错误")})},aa:function(t,e){for(var a=[],i=0,s=e.length;i<s;i++)if(e[i].parentId==t){var n={label:e[i].groupName,id:e[i].id};n.children=this.aa(e[i].id,e),a.push(n)}return a},preStep:function(t){1==t?this.createDialog=!1:this.dialogIndex=t-1},submitForm:function(t){this.dialogIndex=t+1},resetForm:function(t){this.$refs[t].resetFields()},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},formatter:function(t,e){return t.address},filterTag:function(t,e){return e.tag===t},copyBtn:function(t,e){var a=this;s()({method:"post",url:"/api/copy",data:{id:e.id}}).then(function(t){2e3!==t.data.code?a.$message({type:"error",message:t.data.message}):(a.$message({type:"success",message:"API复制成功"}),a.initData())}).catch(function(t){console.log("网络错误，不能访问")})}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n),r=a(117),l=(a.n(r),a(204)),c=a.n(l);e.default={name:"apiOfflineRecord",components:{CanvasBar:c.a},data:function(){return{jurisdiction:{principal:{},loginUrl:"",logoutUrl:"",roles:[],perms:[]},totalCount:0,totalProfit:0,totalCost:0,totalIncome:0,groupAry:[],apiAry:[],rangeDate:[o()().startOf("month").format("YYYY-MM-DD HH:mm:ss"),o()(new Date)],tableList:[],searchForm:{pageNum:1,pageSize:10,startTime:Number(o()(o()().startOf("month").format("YYYY-MM-DD HH:mm:ss")).format("x")),endTime:Number(o()(new Date).format("x"))},description:"",delData:"",rowFlowData:{},showDetailDialog:!1,tableDetailData:[],tableDetailTotal:0,loadingDetail:!1,detailSearch:{pageNum:1,pageSize:10},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")}}},created:function(){this.initData(),this.utils.getUserPermissions(this),this.utils.getGroupAry(this)},methods:{getApiAry:function(t){this.handleCurrentChange(1)},dateChange:function(t){var e=t.split("/");this.searchForm.startTime=Number(o()(e[0]).format("x")),this.searchForm.endTime=Number(o()(e[1]).format("x")),this.handleCurrentChange(1)},initData:function(){var t=this;s()({method:"post",url:"/gateway/charge/profit/listProfit",data:this.searchForm}).then(function(e){2e3===e.data.code?(t.tableList=e.data.data.list,t.totalCount=e.data.data.totalCount,t.totalProfit=e.data.data.totalProfit.toFixed(2),t.totalCost=e.data.data.totalCost.toFixed(2),t.totalIncome=e.data.data.totalIncome.toFixed(2)):403===e.data.code&&(location.href=e.data.data)}).catch(function(t){console.log("网络错误，不能访问"+t)})},handleCurrentChange:function(t){this.searchForm.pageNum=t,this.initData()},handleSizeChange:function(t){this.searchForm.pageSize=t,this.initData()},showDetail:function(t){this.showDetailDialog=!0,this.detailSearch.startTime=this.searchForm.startTime,this.detailSearch.endTime=this.searchForm.endTime,this.detailSearch.sourceName=t.groupName,this.detailInt()},dialogClose:function(){this.showDetailDialog=!1,this.tableDetailData=[],this.tableDetailTotal=0},detailInt:function(){this.detailSearch.pageNum=1,this.detailSearch.pageSize=10,this.detailHandle()},detailHandle:function(){var t=this;this.loadingDetail=!0,s()({method:"post",url:"/gateway/charge/profit/listProfitDetail",data:this.detailSearch}).then(function(e){t.loadingDetail=!1,2e3===e.data.code?(t.tableDetailData=e.data.data.list,t.tableDetailTotal=e.data.data.totalCount):403===e.data.code&&(location.href=e.data.data)}).catch(function(e){t.loadingDetail=!1,console.log("网络错误，不能访问"+e)})},handleSizeDetailChange:function(t){this.detailSearch.pageNum=t,this.detailHandle()},handleCurrentDetailChange:function(t){this.detailSearch.pageSize=t,this.detailInt()},outExpress:function(){var t=this;s()({method:"post",url:"/gateway/charge/bill/getServerURL",data:{}}).then(function(e){var a="";a=t.searchForm.sourceName?"sourceName="+t.searchForm.sourceName:"sourceName=",""!==t.searchForm.startTime&&(a=a+"&startTime="+t.searchForm.startTime),""!==t.searchForm.startTime&&(a=a+"&endTime="+t.searchForm.endTime),location.href=e.data.data+"/profit/profitExport?"+a}).catch(function(t){console.log("网络错误，不能访问"+t)})},dataFixed:function(t,e){var a=t[e.property];return void 0==a?"":a.toFixed(2)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i);e.default={data:function(){return{searchParams:{pageNum:1,pageSize:10,name:"",path:"",serviceId:"",url:""},jurisdiction:{},total:0,flowData:[],current:1,updateBtn:!1,deleteBtn:!1,createBtN:!1,creataut:!1,titleTab:"",addPortForm:{},addPortFormRules:{name:[{required:!0,trigger:"blur",message:"名称不能为空"}],path:[{required:!0,trigger:"blur",message:"请求路径不能为空"}],serviceId:[{required:!0,trigger:"blur",message:"服务ID不能为空"}],url:[{required:!0,trigger:"blur",message:"URL不能为空"}]},formLabelWidth:"120px",boolAry:[{id:1,label:"是"},{id:0,label:"否"}],delApiData:{}}},components:{},created:function(){this.searchInit(),this.getUserPermissions()},mounted:function(){},methods:{dataInit:function(){var t=this;s()({method:"post",url:"/serviceRoute/index",data:this.searchParams}).then(function(e){403==e.data.code&&(location.href=e.data.data),t.jurisdiction.roles.includes("admin")?(t.updateBtn=!0,t.deleteBtn=!0,t.createBtN=!0):(t.deleteBtn=!1,t.updateBtn=!1,t.createBtN=!1),t.flowData=e.data.data.list,t.total=e.data.data.total}).catch(function(t){console.log("网络错误，不能访问")})},searchInit:function(){this.searchParams.pageNum=1,this.current=1,this.dataInit()},getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data,0!=t.jurisdiction.perms.length&&null!=t.jurisdiction.perms||t.$confirm("权限不足，请联系管理员","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=e.data.logoutUrl}).catch(function(){t.$message({type:"info",message:"权限不足，请联系管理员"})})}).catch(function(t){console.log("网络错误")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},handleCurrentChange:function(t){this.searchParams.pageNum=t,this.dataInit()},handleSizeChange:function(t){this.searchParams.pageSize=t,this.dataInit()},updateHandle:function(t){this.creataut=!0,this.titleTab="编辑",this.addPortForm=t},delApiBtn:function(t,e){var a=this;this.delApiData=e,this.delApiData.index=t,this.$confirm('是否删除服务器路由 "'+this.delApiData.name+'",如删除则不可恢复!',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.delApiMes(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},delApiMes:function(t){var e=this,a=this.delApiData;s()({method:"post",url:"/serviceRoute/delete",data:{id:a.id}}).then(function(a){2e3!==a.data.code?e.$message({type:"error",message:a.data.message}):(e.flowData.splice(t,1),e.$message({type:"success",message:"删除API成功"}))}).catch(function(t){console.log("网络错误，不能访问")})},addHandle:function(){this.addPortForm={retryable:1,stripPrefix:1,enabled:1},this.titleTab="创建",this.creataut=!0},callOf:function(t){this.creataut=!1,this.addPortForm={},this.$refs[t].resetFields()},addaut:function(t){var e=this;this.$refs[t].validate(function(a){if(!a)return console.log("error submit!!"),!1;s()({method:"post",url:"创建"==e.titleTab?"/serviceRoute/add":"/serviceRoute/update",data:{path:e.addPortForm.path,serviceId:e.addPortForm.serviceId,name:e.addPortForm.name,url:e.addPortForm.url,description:e.addPortForm.description,enabled:e.addPortForm.enabled,stripPrefix:e.addPortForm.stripPrefix,retryable:e.addPortForm.retryable,id:"编辑"==e.titleTab?e.addPortForm.id:""}}).then(function(a){2e3==a.data.code?("创建"==e.titleTab?e.$message({type:"success",message:"新建成功"}):e.$message({type:"success",message:"编辑成功"}),e.creataut=!1,e.searchInit(),e.$refs[t].resetFields()):e.$message({type:"info",message:a.data.message})}).catch(function(t){console.log("网络错误，不能访问"),e.addPortForm={}})})},boolFormat:function(t,e,a){return 1===a?"true":0===a?"false":""}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={name:"findApi",components:{},data:function(){return{jurisdiction:{},addGroupData:{},amendObj:{},index:0,titleText:"",creatIp:!1,addName:!0,amendName:!0,delName:!0,pageNum:1,pageSize:10,total:0,page:1,searcHeader:"",listLoading:!1,tablegroup:[],newPage:"",formLabelWidth:"120px",companyId:"",delValData:{},dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")}}},created:function(){this.initData()},methods:{getUserPermissions:function(){var t=this;s()({method:"post",url:"/getCasUser",data:{}}).then(function(e){t.jurisdiction=e.data}).catch(function(t){console.log("网络错误")})},initData:function(){var t=this;s()({method:"post",url:"/api/tcpHeaderList",data:{pageSize:""==this.newPage?10:this.newPage,pageNum:this.pageNum}}).then(function(e){t.tablegroup=e.data.data.list,t.pageNum=e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.total=e.data.data.total}).catch(function(t){console.log("网络错误，不能访问")})},searchData:function(){var t=this;s()({method:"post",url:"/api/searchTcpHeaderList",data:{header:""==this.searcHeader?this.initData():this.searcHeader,pageSize:""==this.newPage?10:this.newPage,pageNum:this.pageNum}}).then(function(e){t.tablegroup=e.data.data.list,t.pageNum=e.data.data.pageNum,t.pageSize=e.data.data.pageSize,t.total=e.data.data.total}).catch(function(t){console.log("网络错误，不能访问")})},addIp:function(t){var e=this;this.$refs[t].validate(function(a){if(!a)return console.log("error submit!!"),!1;s()({method:"post",url:"新建"==e.titleText?"/api/addTcpHeader":"/api/updateTcpHeader",data:{headerName:e.addGroupData.name,headerValue:e.addGroupData.val,headerLength:e.addGroupData.lenght,creatUser:e.addGroupData.user,id:e.amendObj.id}}).then(function(a){2e3==a.data.code?(e.creatIp=!1,e.initData(),e.addGroupData={},e.$refs[t].resetFields()):e.$message({type:"info",message:a.data.message})}).catch(function(t){console.log("网络错误，不能访问")})})},amendIp:function(t){this.amendObj=t,this.creatIp=!0,this.titleText="编辑",this.addGroupData.name=t.headerName,this.addGroupData.val=t.headerValue,this.addGroupData.lenght=t.headerLength,this.addGroupData.user=t.creatUser},delIp:function(t){var e=this;this.delValData=t,this.$confirm('是否删除header "'+this.delValData.headerName+'",如删除则不可恢复!',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.delValList()}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},delValList:function(){var t=this;s()({method:"post",url:"/api/deleteTcpHeader",data:{id:this.delValData.id}}).then(function(e){2e3==e.data.code?(t.$message({type:"success",message:"删除header成功"}),t.initData()):t.$message({type:"info",message:e.data.message})}).catch(function(t){console.log("网络错误，不能访问")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},handleCurrentChange:function(t){this.pageNum=t,this.initData()},handleSizeChange:function(t){this.pageNum=t,this.initData()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i),n=a(1),o=a.n(n);e.default={name:"findApi",components:{},data:function(){return{jurisdiction:{},startTime:new Date,endTime:new Date,apiId:"",appKey:"",cached:"",resultStatus:"",timeUnit:"",cachedOptions:[{value:"",label:"空"},{value:1,label:"缓存"},{value:2,label:"未使用缓存"}],resultStatusOptions:[{value:"",label:"空"},{value:1,label:"成功"},{value:2,label:"失败"}],timeUnitOptions:[{value:3,label:"时"},{value:2,label:"分"},{value:1,label:"秒"}],page:1,listLoading:!1,tablegroup:[],newPage:"",formLabelWidth:"120px",freqLabel:0,countLabel:0,uniTime:"s",dateFormat:function(t,e){var a=t[e.property];return void 0==a?"":o()(a).format("YYYY-MM-DD HH:mm:ss")}}},created:function(){},filters:{rounding:function(t){return t.toFixed(1)}},methods:{initData:function(){var t=this,e=this.startTime,a=new Date(e),i=a.getTime(),n=this.endTime,o=new Date(n),r=o.getTime();s()({method:"post",url:"/strategy/interfaceCount",data:{startTime:i,endTime:r,apiId:this.apiId,appKey:this.appKey,cached:this.cached,resultStatus:this.resultStatus,timeUnit:this.timeUnit}}).then(function(e){2e3!==e.data.code?t.$message({type:"info",message:e.data.message}):(t.tablegroup=e.data.data.dataList,t.currPage=e.data.data.currPage,t.pageSize=e.data.data.pageSize,t.total=e.data.data.totalCount,t.freqLabel=e.data.data.freq,t.countLabel=e.data.data.count,1==t.timeUnit||""==t.timeUnit?t.uniTime="s":2==t.timeUnit?t.uniTime="m":t.uniTime="h")}).catch(function(t){console.log("网络错误，不能访问")})},tableRowClassName:function(t,e){return e%2!=0?"info-row":""},handleCurrentChange:function(t){this.currPage=t,this.initData()},handleSizeChange:function(t){this.newPage=t,this.initData()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i);e.default={name:"accreditCom",props:["groupHerfId","searchimpowerName","appKeyData","dateFormat"],data:function(){return{env:1,multipleSelection:[]}},created:function(){},methods:{publicData:function(){var t=this,e=this.groupHerfId.id;s()({method:"post",url:"/api/findNoAccreditApps",data:{appName:""==this.searchimpowerName?null:this.searchimpowerName,apiId:e,env:this.env}}).then(function(e){t.appKeyData=e.data.data}).catch(function(t){console.log(t.data.message)})},handleSelectionChangeApi:function(t){this.multipleSelection=t},NoAppDataDetailBtn:function(){var t=this,e=this.groupHerfId.id,a=0,i="";this.multipleSelection.length>0&&(this.multipleSelection.forEach(function(t){i+=0==a?t.id:","+t.id,a++}),s()({method:"post",url:"/api/apiToApp",data:{apiId:e,appIds:i,env:this.env}}).then(function(e){2e3!==e.data.code?alert(e.data.message):(t.$emit("accreditOK",""),t.publicData(),t.$message({type:"success",message:"添加授权成功"}))}).catch(function(t){console.log("网络错误，不能访问")}))}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"amendApi",props:["addApiData","dataStrs"],data:function(){return{formLabelWidth:"125px",amendApiIndex:0,isMinGreater:!1}},created:function(){},methods:{maxLine:function(t){for(var e=0;e<this.addApiData.requestParamsList.length;e++)parseInt(this.addApiData.requestParamsList[e].maxLength)<parseInt(this.addApiData.requestParamsList[e].minLength)?this.isMinGreater=!0:this.isMinGreater=!1},lineValue:function(){for(var t=!0,e=0;e<this.addApiData.requestParamsList.length;e++)parseInt(this.addApiData.requestParamsList[e].maxLength)<parseInt(this.addApiData.requestParamsList[e].minLength)&&(this.isMinGreater=!0,t=!1);t&&(this.isMinGreater=!1,this.$emit("confirm",""))}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"apiListNav",props:["activeIndex"],data:function(){return{}},created:function(){},methods:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i);e.default={name:"creatGroup",props:[],data:function(){var t=this,e=function(t,e,a){!1===/^[A-Za-z|\u4e00-\u9fa5]{1}[a-zA-Z0-9_\u4e00-\u9fa5]{3,49}$/.test(e)?a(new Error("必须以英文字母或汉字开头")):a()};return{formLabelWidth:"125px",addGroupDataDialog:{descriptionApi:"",groupApiName:""},rules:{groupApiName:[{required:!0,message:"名称不能为空"},{min:4,max:15,message:"长度在 4 到 15 个字符",trigger:"blur"},{validator:function(e,a,i){if(t.addGroupDataDialog.groupApiName){var n=t.addGroupDataDialog.groupApiName;s()({method:"post",url:"/apiGroup/checkUnique",data:{groupName:n}}).then(function(t){!1===t.data.data?i(new Error("分组名称重复")):i()}).catch(function(t){alert("网络错误，不能访问")})}else i()},trigger:"blur"},{validator:e,trigger:"blur"}],descriptionApi:[{required:!0,message:"描述不能为空"},{min:1,max:180,message:"长度在 1 到 180 个字符",trigger:"blur"}]}}},created:function(){},methods:{cancleCreate:function(){this.$emit("cancleCreate","")},addGroup:function(){var t=this;this.$refs.addGroupDataDialog.validate(function(e){if(!e)return console.log("error submit!!"),!1;var a=t.addGroupDataDialog.groupApiName,i=t.addGroupDataDialog.descriptionApi;s()({method:"post",url:"/apiGroup/save",data:{groupName:a,groupDescription:i}}).then(function(e){t.addGroupDataDialog.groupApiName="",t.addGroupDataDialog.descriptionApi="",t.$message({type:"success",message:"新建分组 "+a+" 成功"}),t.$emit("addGroupOk","")}).catch(function(t){console.log("网络错误，不能访问")})})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(136),s=a.n(i),n=a(5),o=a.n(n);e.default={name:"firstDialog",props:["data","groupOptions","cacheInputOptions","cacheInput"],components:{apiListNav:s.a},data:function(){var t=this,e=function(t,e,a){/\s+/.test(e)?a(new Error("输入格式错误")):a()},a=function(t,e,a){var i=/\s+/;""===e?a(new Error("请输入内容")):i.test(e)?a(new Error("不能输入空格")):a()},i=function(e,a,i){var s=/\s+/;if(a=t.data.apiName){var n=t.data.apiName,r=t.data.apiGroupId;o()({method:"post",url:"/api/checkUnique",data:{apiGroupId:r,apiName:n}}).then(function(t){console.log(t),!1===t.data.data?i(new Error("API名称重复")):s.test(a)?i(new Error("不能输入空格")):i()}).catch(function(t){alert("网络错误，不能访问")})}else i()},s=function(t,e,a){var i=/.+/,s=/\s+/;!1===i.test(e)?a(new Error("输入值不能为空和包含其他非法字符")):s.test(e)?a(new Error("不能输入空格")):a()};return{mockEmpty:function(t,e,a){var i=/\s+/;""===e?a(new Error("请输入描述")):i.test(e)?a(new Error("不能输入空格")):a()},formLabelWidth:"125px",radio:"1",isMockOptions:[{value:1,label:"使用MOCK"},{value:2,label:"不使用MOCK"}],rulesGroup:{apiName:[{required:!0,message:"API名称不能为空",trigger:"blur"},{min:4,max:50,message:"长度在 4 到 50 个字符",trigger:"blur"},{validator:i,trigger:"blur"},{validator:s,trigger:"blur"}],apiDescription:[{required:!0,message:"描述不能为空",trigger:"blur"},{min:1,max:2e3,message:"长度在 1 到 2000 个字符",trigger:"blur"},{validator:s,trigger:"blur"}],mongodbURI:[{required:"this.data.saveMongoDB == '1' ? true : false",message:"MongodbURI不能为空",trigger:"blur"},{validator:a,trigger:"blur"}],mongodbDBName:[{required:"this.data.saveMongoDB == '1' ? true : false",message:"Mongodb库名不能为空",trigger:"blur"},{validator:a,trigger:"blur"}],mongodbCollectionName:[{required:"this.data.saveMongoDB == '1' ? true : false",message:"Mongodb表名不能为空",trigger:"blur"},{validator:a,trigger:"blur"}],mqType:[{required:"this.data.saveMQ == '1' ? true : false",message:"请选择MQ类型",trigger:"blur"}],mqAddress:[{required:"this.data.saveMQ == '1' ? true : false",message:"请选择MQ地址",trigger:"blur"},{validator:a,trigger:"blur"}],mqUserName:[{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],mqPasswd:[{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],mqTopicName:[{required:"this.data.saveMQ == '1' ? true : false",message:"请输入队列名称",trigger:"blur"},{validator:e,trigger:"blur"}]},defaultProps:{children:"children",label:"label"}}},created:function(){console.log(this.cacheInput[0].value)},methods:{moreTime:function(){"3"==this.data.cacheUnit?(this.data.cacheNo=0,t(".chacheTimeInput").show()):t(".chacheTimeInput").hide()},selectCache:function(){2==this.cacheInput[0].value&&(this.data.cacheNo="",this.data.cacheUnit="")},selectMock:function(){2==this.data.isMock&&(this.data.mockData="")},nextStep:function(){var t=this;this.$refs.addApiData1.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$emit("nextStep",t.data)})},cancle:function(t){this.$refs[t].resetFields(),this.$emit("cancle","")},handleNodeClick:function(t){this.data.apiGroupId=t.label}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(136),s=a.n(i),n=a(5),o=(a.n(n),a(29)),r=a(468),l=a.n(r);e.default={name:"fourthDialog",props:["addApiData"],components:{apiListNav:s.a,jsonData:l.a},data:function(){var e=this;return{formLabelWidth:"125px",callBackTypeOptions:[{value:1,label:"JSON"}],codeMap:!1,dictItemNameOptions:[],keyOptions:[],activeNameJSon:"first",value:"",jsonArr:[],successVal:function(i,s,n){if(""===s)n(new Error("输入值不能为空"));else{var r=a.i(o.a)(e.addApiData.apiInfo.callBackSuccessExample);t(".successWritePlaceDialog").html("<pre>"+r+"<pre/>"),t(".successWritePlaceDialog").show(),n()}},errorVal:function(i,s,n){var r=a.i(o.a)(e.addApiData.apiInfo.callBackFailExample);t(".errorWritePlaceDialog").html("<pre>"+r+"<pre/>"),t(".errorWritePlaceDialog").show()}}},created:function(){},methods:{successClcik:function(){t(".successWritePlaceDialog").hide()},errorClcik:function(){t(".errorWritePlaceDialog").hide()},addApiBtn:function(){this.$refs.jsonDataRef.anal();this.$emit("addApiBtn")},preStep:function(){this.$emit("preStep","")}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1151),s=a.n(i);e.default={name:"newValue",components:{requestParamsList:s.a},data:function(){return{apiId:""}},created:function(){this.initData()},methods:{initData:function(){this.apiId=this.$route.query.id}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i);e.default={name:"overLineApiCom",props:["groupHerfId"],data:function(){return{env:1,remarks:""}},created:function(){},methods:{overLineApi:function(){var t=this,e=this.groupHerfId.apiGroupId,a=this.groupHerfId.id;if(""===this.remarks.trim())return void this.$message({message:"请输入备注说明!",type:"warning"});s()({method:"post",url:"/api/offline",data:{apiGroupId:e,id:a,env:this.env,remarks:this.remarks}}).then(function(e){2e3!==e.data.code?t.$message({message:"请选择已发布的运行环境,如果暂无,请先进行发布！",type:"warning"}):(t.$emit("offLineOK",""),t.$message({type:"success",message:"下线成功"}))}).catch(function(t){console.log(t.message)})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),s=a.n(i);e.default={name:"publishApi",props:["groupHerfId","issue"],data:function(){return{env:1,issueEmpty:function(t,e,a){/\s+/.test(e)?a(new Error("不能输入空格")):a()}}},created:function(){},methods:{publishApi:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=e.groupHerfId.apiGroupId,i=e.groupHerfId.id,n=e.groupHerfId.pubDescription;s()({method:"post",url:"/api/publish",data:{apiGroupId:a,id:i,env:e.env,pubDescription:n}}).then(function(t){e.$emit("issueOK",""),e.$message({type:"success",message:"发布成功"}),e.env=1}).catch(function(t){console.log("网络错误，不能访问")})})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(29);e.default={name:"queryApiDetail",props:["apiDefineDetail","requestParamsVersionsList","backEndParam2","detialVersionFlag","numData2","groupHerfId"],data:function(){return{formLabelWidth:"125px",amendApiIndex2:0,moreMes:!1}},created:function(){},methods:{moreStart:function(t){this.moreMes=!0,this.amendApiIndex2=t},moreEnd:function(t){this.moreMes=!1,this.amendApiIndex2=t}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(61),s=a.n(i),n=a(29),o=a(5),r=a.n(o);e.default={name:"requestParamsList",props:["apiId"],data:function(){return{paramsLocationOptions:[],paramsTypeOptions:[],optionsBool:[{value:1,label:"true"},{value:2,label:"false"}],amendApiIndexEdit:0,amendApi:!1,formLabelWidth:"120px",requestParamsList:[],backEndParam:[],numData:[],numDataJson:[],numDataXml:[],dataObj:[],resNum:[],boxData:[],newBackParams:[],backArr:[],activeName:[],disidH:"",disidC:"",disidP:"",disidBack:"",flag:!0}},created:function(){this.slider(),this.addAmendValue()},methods:{addAmendValue:function(){var t=this;r()({method:"post",url:"/api/getApiParams",data:{id:this.apiId}}).then(function(e){t.dataObj.push(e.data.data),t.requestParamsList=e.data.data.requestParamsList,t.boxData=e.data.data.backendParamsList,t.boxData.map(function(e,a){t.resNum=e.paramList;var i={};i.interfaceName=e.interfaceName;var s=[],n=[],o={},r={};e.paramList.map(function(e,i){1==e.paramsType?s.push(e):2==e.paramsType?(n.push(e),t.activeName[a]="res"):3==e.paramsType?(o=e,t.activeName[a]="json"):4==e.paramsType&&(r=e,t.activeName[a]="xml")}),i.disId=t.boxData[a].disId,i.backInParams=s,i.backValParams=n,i.backJson=o,i.backXml=r,t.newBackParams.push(i)})}).catch(function(t){console.log("网络错误，不能访问")})},saveNewValue:function(){var e=this;this.backArr=[];var a=!0;this.newBackParams.map(function(i,n){i.backInParams.length>0&&i.backInParams.map(function(i,s){var n=/^[^\u4e00-\u9fa5]{1,200}$/,o=/\s+/;""==i.paramName||0==n.test(i.paramName)||o.test(i.paramName)?(t(".jqueryValidate2").eq(s).show(),a=!1):(t(".jqueryValidate2").eq(s).hide(),e.backArr.push(i))}),i.backValParams.length>0?i.backValParams.map(function(i,s){var n=/^[a-zA-Z0-9_\u4e00-\u9fa5]{1,200}$/;""==i.paramName||0==n.test(i.paramName)?(t(".jqueryValidate4").eq(s).show(),a=!1):""==i.paramValue?(t(".jqueryValidate5").eq(s).show(),a=!1):(t(".jqueryValidate4").eq(s).hide(),t(".jqueryValidate5").eq(s).hide(),e.backArr.push(i))}):"{}"!==s()(i.backJson)?(i.backJson.paramsType=3,i.backJson.paramsLocation=3,i.backJson.disId=e.newBackParams[n].disId,e.backArr.push(i.backJson)):"{}"!==s()(i.backXml)&&(i.backXml.paramsType=4,i.backXml.paramsLocation=3,i.backXml.disId=e.newBackParams[n].disId,e.backArr.push(i.backXml))}),this.requestParamsList.map(function(i,s){var n=/^[^\u4e00-\u9fa5]{1,200}$/,o=/\s+/;""==i.paramName||0==n.test(i.paramName)||o.test(i.paramName)?t(".jqueryValidate").eq(s).show():t(".jqueryValidate").eq(s).hide();try{if("same"===e.judgeSame(i,s,e.requestParamsList,""))throw"error"}catch(e){t(".jqueryValidateSame").eq(s).show(),a=!1}}),console.log(this.backArr,"改变之后back"),a&&r()({method:"post",url:"/api/updateApiParams",data:{apiInfo:{id:this.apiId},backendParamsList:this.backArr,requestParamsList:this.requestParamsList}}).then(function(t){a?(e.$message.success("保存成功"),window.location.hash="/portManage/portApiManage?id="+e.apiId):e.backArr=[]}).catch(function(t){console.log("网络错误，不能访问")})},slider:function(){this.paramsLocationOptions.push({value:1,label:"header"},{value:2,label:"query"},{value:3,label:"body"}),this.paramsTypeOptions.push({value:1,label:"String"},{value:2,label:"Integer"},{value:3,label:"Long"},{value:4,label:"Float"},{value:5,label:"Double"},{value:6,label:"Boolean"})},amendBck:function(){var t=this;this.resNum.map(function(e,a){2==e.paramsType?t.activeName="res":3==e.paramsType?t.activeName="json":4==e.paramsType?t.activeName="xml":t.activeName=""})},paramsMusts:function(e,a){2==this.requestParamsList[a].paramsMust?(t(".IntegerNum").eq(a).hide(),this.requestParamsList[a].paramsDefaultValue="",this.requestParamsList[a].paramsMust=1):this.requestParamsList[a].paramsMust=2},amendApiMore:function(t){this.amendApiIndexEdit=t,this.amendApi=!0},maxLine:function(){for(var e=0;e<this.requestParamsList.length;e++)parseInt(this.requestParamsList[e].maxLength)<parseInt(this.requestParamsList[e].minLength)?t(".maxDate").show():t(".maxDate").hide()},minLine:function(){for(var e=0;e<this.requestParamsList.length;e++)parseInt(this.requestParamsList[e].maxLength)<parseInt(this.requestParamsList[e].minLength)?t(".maxDate").show():t(".maxDate").hide()},lineValue:function(){for(var e=!0,a=0;a<this.requestParamsList.length;a++)if(parseInt(this.requestParamsList[a].maxLength)<parseInt(this.requestParamsList[a].minLength)){t(".maxDate").show();var e=!1}e&&(t(".maxDate").hide(),this.amendApi=!1)},addTable:function(){var t=this;this.requestParamsList.push({maxLength:"50",minLength:"1",paramName:"",paramsLocation:3,paramsType:1,paramsMust:1,paramsDefaultValue:"",paramsExample:"",paramsDescription:"",regularExpress:""}),this.newBackParams.map(function(e,a){e.backInParams.push({disId:t.newBackParams[a].disId,paramName:"",paramValue:"",paramsLocation:3,paramDescription:"",paramsType:1})})},addNumData:function(t){this.newBackParams[t].backValParams.push({disId:this.newBackParams[t].disId,paramName:"",paramValue:"",paramsLocation:3,paramDescription:"",paramsType:2})},delNumData:function(t,e,a){a.disId,this.newBackParams[t].backValParams.splice(e,1)},delTable:function(e){this.requestParamsList.splice(e,1),this.newBackParams.map(function(t){t.backInParams.splice(e,1)}),t(".jqueryValidateSame").hide()},handleClick:function(t,e){this.activeName[t]=e.name,0==e.index?(this.newBackParams[t].backJson={},this.newBackParams[t].backXml={}):1==e.index?(this.newBackParams[t].backValParams=[],this.newBackParams[t].backXml={}):2==e.index&&(this.newBackParams[t].backValParams=[],this.newBackParams[t].backJson={})},jsonClcik:function(){t(".jsonWritePlaceDialog").hide()},formatVal:function(e){var i=a.i(n.a)(this.newBackParams[e].backJson.paramValue);t(".jsonWritePlaceDialog").html("<pre>"+i+"<pre/>"),t(".jsonWritePlaceDialog").show()},paraNameVal:function(e,a){t(".jqueryValidateSame").hide();var i=/^[^\u4e00-\u9fa5]{1,200}$/,s=/\s+/;""===e.paramName||0==i.test(e.paramName)||s.test(e.paramName)?(t(".jqueryValidate").eq(a).show(),t(".jqueryValidateSame").eq(a).hide()):(t(".jqueryValidate").eq(a).hide(),"same"===this.judgeSame(e,a,this.requestParamsList,"")?t(".jqueryValidateSame").eq(a).show():t(".jqueryValidateSame").eq(a).hide())},paraNameVal2:function(e,a,i){var s=/^[^\u4e00-\u9fa5]{1,200}$/,n=/\s+/;""===e.paramName||0==s.test(e.paramName)||n.test(e.paramName)?t(".jqueryValidate2").eq(a).show():t(".jqueryValidate2").eq(a).hide()},paraNameVal4:function(e,a,i){console.log(a);var s=/^[a-zA-Z0-9_\u4e00-\u9fa5]{1,200}$/;""===e.paramName||0==s.test(e.paramName)?t(".jqueryValidate4").eq(a).show():t(".jqueryValidate4").eq(a).hide()},paraNameVal5:function(e,a,i){""===a?t(".jqueryValidate5").eq(i).show():t(".jqueryValidate5").eq(i).hide()},judgeSame:function(t,e,a,i){var s="";return a.forEach(function(a,i){try{if(e!==i&&t.paramName===a.paramName)throw"same"}catch(t){s=t}}),s}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(136),s=a.n(i),n=a(5),o=a.n(n);e.default={name:"secondDialog",props:["addApiData","backEndParam"],components:{apiListNav:s.a},data:function(){var t=this;return{valueBool:"",requestWay:"",formLabelWidth:"125px",httpMethodOptions:[{value:1,label:"GET"},{value:2,label:"POST"}],paramsLocationOptions:[{value:2,label:"query"},{value:1,label:"header"},{value:3,label:"body"}],paramsTypeOptions:[{value:1,label:"String"},{value:2,label:"Integer"},{value:3,label:"Long"},{value:4,label:"Float"},{value:5,label:"Double"},{value:6,label:"Boolean"}],optionsBool:[{value:1,label:"true"},{value:2,label:"false"}],parasNamesValidate:function(t,e,a){var i=/^[^\u4e00-\u9fa5]{0,}$/,s=/\s+/;""===e?a(new Error("请输入参数")):0==i.test(e)?a(new Error("输入格式错误,不能输入中文字符")):s.test(e)?a(new Error("不能输入空格")):a()},checkReqPath:function(e,a,i){var s=/^[^\u4e00-\u9fa5]{0,}$/,n=/^(\/[A-Za-z0-9_.])+./;if(""===a)i(new Error("请输入请求Path"));else if(!1===s.test(a))i(new Error("请输入正确的格式,例如/getUserInfo/[userId]"));else if(!1===n.test(a))i(new Error("请输入正确的格式,例如/getUserInfo/[userId]"));else{var r=t.addApiData.apiInfo.httpPath;o()({method:"post",url:"/api/httpPathUnique",data:{httpPath:r}}).then(function(t){console.log(t),null!==t.data.data?i(new Error("该路径与"+t.data.data+"的API请求path重复")):i()}).catch(function(t){alert("网络错误，不能访问")})}}}},created:function(){},mounted:function(){1==this.addApiData.apiInfo.httpMethod?this.paramsLocationOptions=[{value:2,label:"query"},{value:1,label:"header"}]:2==this.addApiData.apiInfo.httpMethod&&(this.paramsLocationOptions=[{value:2,label:"query"},{value:1,label:"header"},{value:3,label:"body"}])},methods:{parTypeSix:function(t){6==t&&this.addApiData.requestParamsList.map(function(t){t.paramsDefaultValue=""})},IntegerNumVal:function(e,a){console.log(222),console.log(e);var i=/^[0-9]+([.]{1,200}[0-9]+){0,1}$/,s=/\s+/;""===e?t(".IntegerNum").eq(a).hide():0==i.test(e)||s.test(e)?t(".IntegerNum").eq(a).show():t(".IntegerNum").eq(a).hide()},paramsMusts:function(e,a){console.log(e),this.addApiData.requestParamsList[a].paramsMust||t(".IntegerNum").eq(a).hide(),this.addApiData.requestParamsList[a].paramsDefaultValue="",this.valueBool="",this.addApiData.requestParamsList[a].paramsMust=!this.addApiData.requestParamsList[a].paramsMust},addTable:function(){console.log(this.addApiData.apiInfo.httpMethod),1==this.addApiData.apiInfo.httpMethod?this.addApiData.requestParamsList.push({maxLength:"50",minLength:"1",paramName:"",paramsLocation:this.paramsLocationOptions[0].value||"",paramsType:this.paramsTypeOptions[0].value||"",paramsMust:1,paramsDefaultValue:"",paramsExample:"",paramsDescription:"",regularExpress:""}):this.addApiData.requestParamsList.push({maxLength:"50",minLength:"1",paramName:"",paramsLocation:this.paramsLocationOptions[2].value||"",paramsType:this.paramsTypeOptions[0].value||"",paramsMust:1,paramsDefaultValue:"",paramsExample:"",paramsDescription:"",regularExpress:""})},amendApiMore:function(t){this.amendApiIndex=t,this.$emit("amendApiMore",this.amendApiIndex)},delTable:function(t){console.log(t),this.addApiData.requestParamsList.splice(t,1),this.backEndParam.splice(t,1),this.amendApiIndex=0},nextStep:function(){var e=this,a=/^[0-9]+([.]{1,200}[0-9]+){0,1}$/,i=/\s+/,s=!0;this.addApiData.apiInfo.backEndHttpMethod=this.addApiData.apiInfo.httpMethod,this.$refs.addApiData2.validate(function(n){if(!n)return console.log("error submit!!"),!1;var o=e.addApiData.requestParamsList.length,r=e.backEndParam.length;if(o!=r)for(var l=0;l<o-r;l++)e.backEndParam.push({paramName:"",paramValue:"",paramsLocation:2,paramDescription:"",paramsType:1});e.addApiData.requestParamsList.map(function(e,n){2!=e.paramsType&&3!=e.paramsType&&4!=e.paramsType&&5!=e.paramsType||(""===e.paramsDefaultValue?t(".IntegerNum").eq(n).hide():0==a.test(e.paramsDefaultValue)||i.test(e.paramsDefaultValue)?(t(".IntegerNum").eq(n).show(),s=!1):t(".IntegerNum").eq(n).hide())}),s&&e.$emit("nextStep",e.addApiData)})},preStep:function(){this.$emit("preStep","")},checkHTTP:function(t){if(2==this.addApiData.apiInfo.httpMethod)this.paramsLocationOptions=[],this.paramsLocationOptions.push({value:2,label:"query"},{value:1,label:"header"},{value:3,label:"body"}),this.addApiData.requestParamsList.map(function(t){t.paramsLocation=3});else{if(this.requestParamsList)for(var e=this.requestParamsList,a=0;a<e.length;a++)if(3==e[a].paramsLocation)return this.$message({message:"参数列表中含有body参数,不能选择GET",type:"warning"}),void(this.addApiData.apiInfo.httpMethod=2);this.paramsLocationOptions=[],this.paramsLocationOptions.push({value:2,label:"query"},{value:1,label:"header"}),this.addApiData.requestParamsList.map(function(t){t.paramsLocation=2})}}}}}.call(e,a(12))},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(5),s=a.n(i),n=a(136),o=a.n(n);e.default={name:"thirdDialog",props:["addApiData","backEndParam","numData","numDataJson","numDataXml"],components:{apiListNav:o.a},data:function(){var t=this;return{activeBack:"backValTab",requestWay:1,formLabelWidth:"125px",tcpHeaderIdOptions:[],httpMethodOptions:[{value:1,label:"GET"},{value:2,label:"POST"}],backendProtocolTypeOptions:[{value:1,label:"HTTP"},{value:2,label:"HTTPS"},{value:3,label:"Socket"}],paramsLocationOptions:[{value:2,label:"query"},{value:1,label:"header"},{value:3,label:"body"}],paramsTypeOptions:[{value:1,label:"String"},{value:2,label:"Integer"},{value:3,label:"Long"},{value:4,label:"Float"},{value:5,label:"Double"},{value:6,label:"Boolean"}],chargeOptions:[{value:1,label:"是"},{value:2,label:"否"}],interfaceNameVal:function(e,a,i){if(a=t.addApiData.apiInfo.interfaceName){var n=t.addApiData.apiInfo.interfaceName,o=/\s+/;s()({method:"post",url:"/api/checkUniqueInterfaceName",data:{interfaceName:n}}).then(function(t){!1===t.data.data?i(new Error("后端服务名称重复")):i()}).catch(function(t){alert("网络错误，不能访问")})}else""===a?i(new Error("请输入后端服务名称")):o.test(a)?i(new Error("不能输入空格")):i()},checkBackAddress:function(t,e,a){var i=/^[a-zA-z]+:\/\//,s=/^[^\u4e00-\u9fa5]{0,}$/;""===e?a(new Error("请输入后端服务地址")):!1===s.test(e)?a(new Error("请输入正确的格式,例如http://www.baidu.com")):!1===i.test(e)?a(new Error("请输入正确的格式,例如http://www.baidu.com")):a()},checkBackAddress2:function(t,e,a){var i=/^(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9]):\d{0,5}/;""===e?a(new Error("请输入后端服务地址")):!1===i.test(e)?a(new Error("请输入正确的格式,例如172.32.3.176:7302")):a()},checkReqPath:function(t,e,a){var i=/^[^\u4e00-\u9fa5]{0,}$/,s=/^(\/[A-Za-z0-9_.])+./;""===e?a(new Error("请输入请求Path")):!1===i.test(e)?a(new Error("请输入正确的格式,例如/getUserInfo/[userId]")):!1===s.test(e)?a(new Error("请输入正确的格式,例如/getUserInfo/[userId]")):a()},checkReqPathBackend:function(t,e,a){var i=/^[^\u4e00-\u9fa5]{0,}$/,s=/^(\/[A-Za-z0-9_.])*./;e?i.test(e)&&s.test(e)?a():a(new Error("请输入正确的格式,例如/getUserInfo/[userId]")):a(new Error("请输入请求Path"))},checkReqPath2:function(t,e,a){/\s+/.test(e)?a(new Error("不能输入空格")):!1===res.test(e)?a(new Error("请输入正确的格式,例如/getUserInfo/[userId]")):a()},backTimeCheckUnEmpty:function(t,e,a){var i=/^(?!0)(?:[0-9]{1,5}|60000)$/;""===e?a(new Error("请输入请求后端超时，必须为数字")):!1===i.test(e)?a(new Error("后端超时必须大于等于1ms，小于等于60000ms，并且必须为数字")):e>6e4?a(new Error("后端超时必须大于等于1ms，小于等于60000ms，并且必须为数字")):a()},weightCheckUnEmpty:function(t,e,a){var i=/^(?:10|[0-9])$/;""===e||0==i.test(e)?a(new Error("权重只能是0-10之前的整数！")):a()}}},created:function(){this.addApiData.apiInfo.backEndHttpMethod=1},mounted:function(){1==this.addApiData.apiInfo.backEndHttpMethod?this.paramsLocationOptions=[{value:2,label:"query"},{value:1,label:"header"}]:2==this.addApiData.apiInfo.backEndHttpMethod&&(this.paramsLocationOptions=[{value:2,label:"query"},{value:1,label:"header"},{value:3,label:"body"}])},methods:{tcpSelect:function(t){null==t&&(this.addApiData.apiInfo.tcpBodyLenBytes=0,this.addApiData.apiInfo.tcpReadBytes=8)},configFous:function(){var t=this;s()({method:"post",url:"/api/"+this.$route.query.id+"/pretty",data:{responseTransParam:this.addApiData.apiInfo.jsonConfig}}).then(function(e){t.addApiData.apiInfo.jsonConfig=e.data.data}).catch(function(t){console.log("网络错误，不能访问")})},slideList:function(t){3!==t&&(this.addApiData.apiInfo.backEndHttpMethod=2,this.paramsLocationOptions=[],this.paramsLocationOptions.push({value:2,label:"query"},{value:1,label:"header"},{value:3,label:"body"}))},handleClick:function(t,e){3==this.addApiData.apiInfo.backendProtocolType?this.numDataXml.length<1&&this.numDataXml.push({paramName:"",paramValue:"",paramsLocation:3,paramDescription:"",paramsType:4}):0==t.index?(this.numData.splice(e,1),this.numDataJson.splice(e,1),this.numDataXml.splice(e,1)):1==t.index?(this.numData.splice(e,1),this.numDataXml.splice(e,1),this.numDataJson.length<1&&this.numDataJson.push({paramName:"",paramValue:"",paramsLocation:3,paramDescription:"",paramsType:3})):2==t.index&&(this.numData.splice(e,1),this.numDataJson.splice(e,1),this.numDataXml.length<1&&this.numDataXml.push({paramName:"",paramValue:"",paramsLocation:3,paramDescription:"",paramsType:4}))},paraNameVal2:function(e,a){var i=/^[^\u4e00-\u9fa5]{1,200}$/,s=/\s+/;""===e||s.test(e)?(t(".jqueryValidate2").eq(a).show(),t(".jqueryValidate8").eq(a).hide()):0==i.test(e)?(t(".jqueryValidate2").eq(a).hide(),t(".jqueryValidate8").eq(a).show()):(t(".jqueryValidate2").eq(a).hide(),t(".jqueryValidate8").eq(a).hide())},addTable2:function(){1==this.addApiData.apiInfo.backEndHttpMethod?this.numData.push({paramName:"",paramValue:"",paramsLocation:2,paramDescription:"",paramsType:2}):this.numData.push({paramName:"",paramValue:"",paramsLocation:3,paramDescription:"",paramsType:2})},delTable2:function(t){this.numData.splice(t,1)},nextStep:function(){var e=this,a=!0,i=/^[^\u4e00-\u9fa5]{1,200}$/,s=/\s+/;if(3!==this.addApiData.apiInfo.backendProtocolType)this.backEndParam.map(function(e,i){""==e.paramName&&(t(".jqueryValidate2").eq(i).show(),a=!1)}),this.numData.map(function(e,n){""==e.paramName?(t(".jqueryValidate4").eq(n).show(),a=!1):0==i.test(e.paramName)?(t(".jqueryValidate4").eq(n).show(),a=!1):s.test(e.paramName)?(t(".jqueryValidate4").eq(n).show(),a=!1):""==e.paramValue?(t(".jqueryValidate5").eq(n).show(),a=!1):s.test(e.paramValue)&&(t(".jqueryValidate5").eq(n).show(),a=!1)});else{0==/^(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9]):\d{0,5}/.test(this.addApiData.apiInfo.backEndAddress)&&(a=!1)}a&&this.$refs.addApiData3.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.$emit("nextStep","")})},preStep:function(){this.$emit("preStep","")},paraNameVal4:function(e,a){var i=/^[a-zA-Z0-9_\u4e00-\u9fa5]{1,200}$/;""===e?(t(".jqueryValidate4").eq(a).show(),t(".jqueryValidate7").eq(a).hide()):0==i.test(e)?(t(".jqueryValidate4").eq(a).hide(),t(".jqueryValidate7").eq(a).show()):(t(".jqueryValidate4").eq(a).hide(),t(".jqueryValidate7").eq(a).hide())},paraNameVal5:function(e,a){var i=/^[A-Za-z|\u4e00-\u9fa5]{0}[a-zA-Z0-9_\u4e00-\u9fa5]{1,200}$/;""===e?(t(".jqueryValidate5").eq(a).show(),t(".jqueryValidate6").eq(a).hide()):0==i.test(e)?(t(".jqueryValidate5").eq(a).hide(),t(".jqueryValidate6").eq(a).show()):(t(".jqueryValidate5").eq(a).hide(),t(".jqueryValidate6").eq(a).hide())},changeHTTP:function(t){if(2==this.addApiData.apiInfo.backEndHttpMethod)this.paramsLocationOptions=[],this.paramsLocationOptions.push({value:2,label:"query"},{value:1,label:"header"},{value:3,label:"body"}),this.backEndParam.map(function(t){t.paramsLocation=3}),this.numData.map(function(t){t.paramsLocation=3});else{if(this.backEndParam.map(function(t){t.paramsLocation=2}),this.numData.map(function(t){t.paramsLocation=2}),this.backEndParam||this.numData){var e=[];if(this.backEndParam)for(var a=0;a<this.backEndParam.length;a++)e.push(this.backEndParam[a]);if(this.numData)for(var i=0;i<this.numData.length;i++)e.push(this.numData[i]);for(var s=0;s<e.length;s++)if(3==e[s].paramsLocation)return this.$message({message:"参数列表中含有body参数,不能选择GET",type:"warning"}),void(this.addApiData.apiInfo.backEndHttpMethod=2)}this.paramsLocationOptions=[],this.paramsLocationOptions.push({value:2,label:"query"},{value:1,label:"header"})}}}}}.call(e,a(12))},function(t,e,a){"use strict"},function(t,e,a){"use strict";a.d(e,"a",function(){return i});var i=function(t,e){var a=new Date;a.setTime(t);var i={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),"S+":a.getMilliseconds()};/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var s in i)new RegExp("("+s+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[s]:("00"+i[s]).substr((""+i[s]).length)));return e}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(112),s=a.n(i),n=a(25),o=a(508),r=(a.n(o),a(506)),l=a.n(r),c=a(12),d=(a.n(c),a(213)),p=a.n(d),u=a(212),m=a(503),h=a(5),f=a.n(h),g=a(507),v=a.n(g),b=a(501),_=a(500),y=a(502),C=a(504),D=a(505),w=a(60),x=a(509),k=a.n(x);v.a.polyfill(),n.default.use(l.a),n.default.use(b.a),n.default.use(k.a),n.default.prototype.utils=_.a,(n.default.prototype.$http=f.a.create()).interceptors.response.use(function(t){return console.log("ssssss",t),s()({success:!0},t)},function(t){return console.log(t),{success:!1}}),n.default.config.productionTip=!1,u.a.beforeEach(function(t,e,i){if(-1===y.a.indexOf(t.path)){var s=a.i(C.a)();m.a.commit(w.a,{name:"columnItems",value:s}),i()}else i()}),u.a.afterEach(function(t){var e=a.i(D.a)(m.a.getters.commonCacheData("columnItems"),t.path);if(m.a.commit(w.a,{name:"activeColumn",value:e}),console.log(e),console.log(m.a.getters.commonCacheData("columnItems")),e){var i=[];e.beginNode&&i.push({urls:e.beginNode.urls,name:e.beginNode.name}),i.push({urls:e.urls,name:e.name}),m.a.commit(w.a,{name:"breadcrumb",value:i})}}),new n.default({el:"#app",router:u.a,store:m.a,template:"<App/>",components:{App:p.a}})},function(t,e,a){"use strict";var i,s=a(62),n=a.n(s),o=a(60),r={columnItems:[],leftColumnItems:[],activeColumn:{},breadcrumb:[],bodyHeight:0,bodyWidth:0,isCollapse:!1},l={bodyHeight:function(t){return t.bodyHeight},bodyWidth:function(t){return t.bodyWidth},isCollapse:function(t){return t.isCollapse},commonCacheData:function(t){return function(e){return t[e]}}},c=(i={},n()(i,o.b,function(t){var e=document.getElementsByTagName("html")[0].offsetWidth;t.bodyHeight=document.getElementsByTagName("html")[0].clientHeight-60,t.bodyWidth=t.isCollapse?e-65:e-180,t.bodyWidth=t.bodyWidth<768?768:t.bodyWidth}),n()(i,o.a,function(t,e){t[e.name]=e.value}),n()(i,o.c,function(t,e){t.isCollapse=e}),i);e.a={state:r,getters:l,mutations:c}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){function i(t){return a(s(t))}function s(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var n={"./af":328,"./af.js":328,"./ar":335,"./ar-dz":329,"./ar-dz.js":329,"./ar-kw":330,"./ar-kw.js":330,"./ar-ly":331,"./ar-ly.js":331,"./ar-ma":332,"./ar-ma.js":332,"./ar-sa":333,"./ar-sa.js":333,"./ar-tn":334,"./ar-tn.js":334,"./ar.js":335,"./az":336,"./az.js":336,"./be":337,"./be.js":337,"./bg":338,"./bg.js":338,"./bm":339,"./bm.js":339,"./bn":340,"./bn.js":340,"./bo":341,"./bo.js":341,"./br":342,"./br.js":342,"./bs":343,"./bs.js":343,"./ca":344,"./ca.js":344,"./cs":345,"./cs.js":345,"./cv":346,"./cv.js":346,"./cy":347,"./cy.js":347,"./da":348,"./da.js":348,"./de":351,"./de-at":349,"./de-at.js":349,"./de-ch":350,"./de-ch.js":350,"./de.js":351,"./dv":352,"./dv.js":352,"./el":353,"./el.js":353,"./en-au":354,"./en-au.js":354,"./en-ca":355,"./en-ca.js":355,"./en-gb":356,"./en-gb.js":356,"./en-ie":357,"./en-ie.js":357,"./en-il":358,"./en-il.js":358,"./en-in":359,"./en-in.js":359,"./en-nz":360,"./en-nz.js":360,"./en-sg":361,"./en-sg.js":361,"./eo":362,"./eo.js":362,"./es":365,"./es-do":363,"./es-do.js":363,"./es-us":364,"./es-us.js":364,"./es.js":365,"./et":366,"./et.js":366,"./eu":367,"./eu.js":367,"./fa":368,"./fa.js":368,"./fi":369,"./fi.js":369,"./fil":370,"./fil.js":370,"./fo":371,"./fo.js":371,"./fr":374,"./fr-ca":372,"./fr-ca.js":372,"./fr-ch":373,"./fr-ch.js":373,"./fr.js":374,"./fy":375,"./fy.js":375,"./ga":376,"./ga.js":376,"./gd":377,"./gd.js":377,"./gl":378,"./gl.js":378,"./gom-deva":379,"./gom-deva.js":379,"./gom-latn":380,"./gom-latn.js":380,"./gu":381,"./gu.js":381,"./he":382,"./he.js":382,"./hi":383,"./hi.js":383,"./hr":384,"./hr.js":384,"./hu":385,"./hu.js":385,"./hy-am":386,"./hy-am.js":386,"./id":387,"./id.js":387,"./is":388,"./is.js":388,"./it":390,"./it-ch":389,"./it-ch.js":389,"./it.js":390,"./ja":391,"./ja.js":391,"./jv":392,"./jv.js":392,"./ka":393,"./ka.js":393,"./kk":394,"./kk.js":394,"./km":395,"./km.js":395,"./kn":396,"./kn.js":396,"./ko":397,"./ko.js":397,"./ku":398,"./ku.js":398,"./ky":399,"./ky.js":399,"./lb":400,"./lb.js":400,"./lo":401,"./lo.js":401,"./lt":402,"./lt.js":402,"./lv":403,"./lv.js":403,"./me":404,"./me.js":404,"./mi":405,"./mi.js":405,"./mk":406,"./mk.js":406,"./ml":407,"./ml.js":407,"./mn":408,"./mn.js":408,"./mr":409,"./mr.js":409,"./ms":411,"./ms-my":410,"./ms-my.js":410,"./ms.js":411,"./mt":412,"./mt.js":412,"./my":413,"./my.js":413,"./nb":414,"./nb.js":414,"./ne":415,"./ne.js":415,"./nl":417,"./nl-be":416,"./nl-be.js":416,"./nl.js":417,"./nn":418,"./nn.js":418,"./oc-lnc":419,"./oc-lnc.js":419,"./pa-in":420,"./pa-in.js":420,"./pl":421,"./pl.js":421,"./pt":423,"./pt-br":422,"./pt-br.js":422,"./pt.js":423,"./ro":424,"./ro.js":424,"./ru":425,"./ru.js":425,"./sd":426,"./sd.js":426,"./se":427,"./se.js":427,"./si":428,"./si.js":428,"./sk":429,"./sk.js":429,"./sl":430,"./sl.js":430,"./sq":431,"./sq.js":431,"./sr":433,"./sr-cyrl":432,"./sr-cyrl.js":432,"./sr.js":433,"./ss":434,"./ss.js":434,"./sv":435,"./sv.js":435,"./sw":436,"./sw.js":436,"./ta":437,"./ta.js":437,"./te":438,"./te.js":438,"./tet":439,"./tet.js":439,"./tg":440,"./tg.js":440,"./th":441,"./th.js":441,"./tl-ph":442,"./tl-ph.js":442,"./tlh":443,"./tlh.js":443,"./tr":444,"./tr.js":444,"./tzl":445,"./tzl.js":445,"./tzm":447,"./tzm-latn":446,"./tzm-latn.js":446,"./tzm.js":447,"./ug-cn":448,"./ug-cn.js":448,"./uk":449,"./uk.js":449,"./ur":450,"./ur.js":450,"./uz":452,"./uz-latn":451,"./uz-latn.js":451,"./uz.js":452,"./vi":453,"./vi.js":453,"./x-pseudo":454,"./x-pseudo.js":454,"./yo":455,"./yo.js":455,"./zh-cn":456,"./zh-cn.js":456,"./zh-hk":457,"./zh-hk.js":457,"./zh-mo":458,"./zh-mo.js":458,"./zh-tw":459,"./zh-tw.js":459};i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id=1090},,,,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAWdJREFUSMflkz2LAkEMhicLfiEWWolYCTaKYCHIqiBY+Qdst7cRbcVKwX+inWApioWllaUWFtZ+gNibXPHeetyx682ecHDcNA+ZySTvJBml/uoSERExDDAW+30BLCxcqUDAbPbTOIZ2IhYWLhYfB6RIkd+vRIkSn+9zZeJx+Pd64Me5tgAEKpWQaD7Hbj7/fWneBZEiRZaFzdFIv7R2b1lYeLuFPRg4+9Vq8FsunSuXTIKnE9hoaAqoVsHLBQwGnf2iUbBefx6v24WAxUJTQLsNTqfapXOLx8LChQLinc9fz11mIBQCb7dXBWBdr2AgoClgtwOz2ZdzkyJFuRyG0477rGQiIhIOg8cjWC57zYt7RPaQwu509AOwsLBl4eLhAKZS3hIPh+Bm4zbMmkJarcd3EhGRfh80TTCTsb8Z7NUKXK/BRMK9Q56EpNOwmk3QNNHjSAT2fo9eTybYH4+JiIjud88v/zfrDcWWf1XDCm4YAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTAzLTIxVDE3OjU3OjA0KzA4OjAwWDSi2QAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wMy0yMVQxNzo1NzowNCswODowMClpGmUAAABgdEVYdHN2ZzpiYXNlLXVyaQBmaWxlOi8vL2hvbWUvYWRtaW4vaWNvbi1mb250L3RtcC9pY29uX2E0cXhrNG9iejk4czM4ZnIvJUU5JTgwJTgwJUU1JTg3JUJBJTIwKDEpLnN2Zx5IImoAAAAASUVORK5CYII="},,function(t,e,a){var i=a(3)(a(550),a(1176),null,null,null);t.exports=i.exports},function(t,e,a){function i(t){a(996)}var s=a(3)(a(554),a(1180),i,"data-v-29a67d72",null);t.exports=s.exports},function(t,e,a){function i(t){a(974)}var s=a(3)(a(557),a(1155),i,"data-v-02060bd0",null);t.exports=s.exports},function(t,e,a){function i(t){a(985)}var s=a(3)(a(560),a(1167),i,"data-v-16343e30",null);t.exports=s.exports},function(t,e,a){function i(t){a(1044)}var s=a(3)(a(562),a(1229),i,"data-v-bada2aea",null);t.exports=s.exports},function(t,e,a){function i(t){a(1043)}var s=a(3)(a(565),a(1228),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(1023)}var s=a(3)(a(569),a(1208),i,"data-v-592b38b4",null);t.exports=s.exports},function(t,e,a){var i=a(3)(a(571),a(1178),null,null,null);t.exports=i.exports},function(t,e,a){function i(t){a(1008)}var s=a(3)(a(574),a(1193),i,"data-v-3cc541f6",null);t.exports=s.exports},function(t,e,a){function i(t){a(1014)}var s=a(3)(a(575),a(1199),i,"data-v-478656d4",null);t.exports=s.exports},function(t,e,a){function i(t){a(1012)}var s=a(3)(a(576),a(1197),i,"data-v-41381278",null);t.exports=s.exports},function(t,e,a){function i(t){a(1009)}var s=a(3)(a(577),a(1194),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(1051)}var s=a(3)(a(578),a(1236),i,"data-v-f056a152",null);t.exports=s.exports},function(t,e,a){function i(t){a(1007)}var s=a(3)(a(579),a(1192),i,"data-v-3c6dd228",null);t.exports=s.exports},function(t,e,a){function i(t){a(1036)}var s=a(3)(a(580),a(1221),i,"data-v-76617bfe",null);t.exports=s.exports},function(t,e,a){function i(t){a(978)}var s=a(3)(a(581),a(1160),i,"data-v-08d45e65",null);t.exports=s.exports},function(t,e,a){function i(t){a(1042)}var s=a(3)(a(582),a(1227),i,"data-v-affc74aa",null);t.exports=s.exports},function(t,e,a){function i(t){a(977)}var s=a(3)(a(583),a(1159),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(1031)}var s=a(3)(a(584),a(1216),i,"data-v-6c856db2",null);t.exports=s.exports},function(t,e,a){function i(t){a(1035)}var s=a(3)(a(585),a(1220),i,"data-v-75d4d04a",null);t.exports=s.exports},function(t,e,a){function i(t){a(1048)}var s=a(3)(a(586),a(1233),i,"data-v-d75225bc",null);t.exports=s.exports},function(t,e,a){function i(t){a(984)}var s=a(3)(a(587),a(1166),i,"data-v-148ac163",null);t.exports=s.exports},function(t,e,a){function i(t){a(994)}var s=a(3)(a(588),a(1177),i,"data-v-272bd37b",null);t.exports=s.exports},function(t,e,a){function i(t){a(1002)}var s=a(3)(a(589),a(1186),i,"data-v-33273160",null);t.exports=s.exports},function(t,e,a){function i(t){a(988)}var s=a(3)(a(590),a(1170),i,"data-v-1d7e41a2",null);t.exports=s.exports},function(t,e,a){var i=a(3)(a(591),a(1156),null,null,null);t.exports=i.exports},function(t,e,a){function i(t){a(983)}var s=a(3)(a(592),a(1165),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(999)}var s=a(3)(a(593),a(1183),i,"data-v-2dbd6d69",null);t.exports=s.exports},function(t,e,a){function i(t){a(997)}var s=a(3)(a(597),a(1181),i,"data-v-2d2623d0",null);t.exports=s.exports},function(t,e,a){function i(t){a(975)}var s=a(3)(a(601),a(1157),i,"data-v-031e9bbd",null);t.exports=s.exports},function(t,e,a){function i(t){a(982)}var s=a(3)(a(602),a(1164),i,"data-v-0e9abea1",null);t.exports=s.exports},function(t,e,a){function i(t){a(998)}var s=a(3)(a(603),a(1182),i,"data-v-2d57b3ed",null);t.exports=s.exports},function(t,e,a){function i(t){a(995)}var s=a(3)(a(604),a(1179),i,"data-v-282a041e",null);t.exports=s.exports},function(t,e,a){function i(t){a(990)}var s=a(3)(a(606),a(1172),i,"data-v-1ff00eb6",null);t.exports=s.exports},function(t,e,a){function i(t){a(976)}var s=a(3)(a(607),a(1158),i,"data-v-06af00fa",null);t.exports=s.exports},function(t,e,a){function i(t){a(1021)}var s=a(3)(a(608),a(1206),i,"data-v-53c4936b",null);t.exports=s.exports},function(t,e,a){function i(t){a(1030)}var s=a(3)(a(611),a(1215),i,"data-v-69fd5a50",null);t.exports=s.exports},function(t,e,a){function i(t){a(1004)}var s=a(3)(a(612),a(1189),i,"data-v-39b17066",null);t.exports=s.exports},function(t,e,a){function i(t){a(992)}var s=a(3)(a(613),a(1174),i,"data-v-236333c9",null);t.exports=s.exports},function(t,e,a){function i(t){a(1005)}var s=a(3)(a(614),a(1190),i,"data-v-39b7c864",null);t.exports=s.exports},function(t,e,a){function i(t){a(1017)}var s=a(3)(a(615),a(1202),i,"data-v-4995d552",null);t.exports=s.exports},function(t,e,a){function i(t){a(1045)}var s=a(3)(a(616),a(1230),i,"data-v-bbfbe7ac",null);t.exports=s.exports},function(t,e,a){function i(t){a(1038)}var s=a(3)(a(617),a(1223),i,"data-v-7df42428",null);t.exports=s.exports},function(t,e,a){function i(t){a(1e3)}var s=a(3)(a(618),a(1184),i,"data-v-316c0d10",null);t.exports=s.exports},function(t,e,a){function i(t){a(1047)}var s=a(3)(a(619),a(1232),i,"data-v-c52616cc",null);t.exports=s.exports},function(t,e,a){function i(t){a(1027)}var s=a(3)(a(620),a(1212),i,"data-v-5f602571",null);t.exports=s.exports},function(t,e,a){function i(t){a(1010)}var s=a(3)(a(621),a(1195),i,"data-v-3d0e6d2e",null);t.exports=s.exports},function(t,e,a){function i(t){a(986)}var s=a(3)(a(622),a(1168),i,"data-v-180f1778",null);t.exports=s.exports},function(t,e,a){function i(t){a(1033)}var s=a(3)(a(624),a(1218),i,"data-v-7161b1c3",null);t.exports=s.exports},function(t,e,a){function i(t){a(1006)}var s=a(3)(a(625),a(1191),i,"data-v-3b3ee2ca",null);t.exports=s.exports},function(t,e,a){function i(t){a(1037)}var s=a(3)(a(626),a(1222),i,"data-v-7ae5070f",null);t.exports=s.exports},function(t,e,a){function i(t){a(1028)}var s=a(3)(a(627),a(1213),i,"data-v-61f28484",null);t.exports=s.exports},function(t,e,a){function i(t){a(1013)}var s=a(3)(a(628),a(1198),i,"data-v-445ded5c",null);t.exports=s.exports},function(t,e,a){function i(t){a(1029)}var s=a(3)(a(629),a(1214),i,"data-v-6772b258",null);t.exports=s.exports},function(t,e,a){function i(t){a(1018)}var s=a(3)(a(631),a(1203),i,"data-v-4de4c7f6",null);t.exports=s.exports},function(t,e,a){function i(t){a(1011)}var s=a(3)(a(632),a(1196),i,"data-v-3ddd38e9",null);t.exports=s.exports},function(t,e,a){function i(t){a(1001)}var s=a(3)(a(633),a(1185),i,"data-v-31ea8892",null);t.exports=s.exports},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("div",{staticStyle:{display:"flex","padding-right":"15px"}},[a("el-form",{staticClass:"search_form",staticStyle:{flex:"1","vertical-align":"top"},attrs:{inline:!0}},[a("el-form-item",[a("el-form-item",{attrs:{label:"数据源",prop:"apiName"}},[a("el-select",{staticClass:"w9000",attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.searchParams.sourceName,callback:function(e){t.$set(t.searchParams,"sourceName",e)},expression:"searchParams.sourceName"}},t._l(t.groupAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.groupName,value:t.groupName}})}),1)],1),t._v(" "),a("el-date-picker",{staticClass:"w200",attrs:{rangeSeparator:"/",type:"datetimerange",placeholder:"选择时间范围"},on:{change:t.dateChange},model:{value:t.rangeDate,callback:function(e){t.rangeDate=e},expression:"rangeDate"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.dataSearch()}}},[t._v("搜 索")])],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"fr",attrs:{type:"primary addOne"},on:{click:function(e){return t.exportBill()}}},[t._v("下载")])],1)],1)],1),t._v(" "),a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("div",{staticStyle:{position:"relative"}},["table"===t.showType?[a("el-table",{staticStyle:{width:"100%",border:"1px solid #e6e6e6","border-top":"1px solid #e6e6e6"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName}},[t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"",type:"index",label:"序号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"groupName",label:"数据源名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"called",label:"调用量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"消费额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"日期",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.searchDetailInt(e.row)}}},[t._v("查看详情")])]}}],null,!1,1085680497)})],1),t._v(" "),this.tableData.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.searchParams.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchParams.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.pageNumChange}})],1):t._e(),t._v(" "),this.tableData.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e()]:t._e(),t._v(" "),a("el-dialog",{attrs:{title:"详情信息",visible:t.dialogTableVisible,size:"large"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listDetailLoading,expression:"listDetailLoading"}],staticStyle:{width:"100%",border:"1px solid #e6e6e6"},attrs:{data:t.detailsTable,"max-height":600,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"groupName",sortable:"",label:"数据源名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiId",label:"接口ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"count",label:"调用量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"消费额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"strategyName",label:"计费规则"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"日期",formatter:t.dateFormat}})],1),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"10px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"10px"},attrs:{"current-page":t.searchDetails.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchDetails.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalDetails},on:{"size-change":t.detailHandleSizeChange,"current-change":t.DetailHandleCurrentChange}})],1)],1)],2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"monitoring",staticStyle:{width:"100%",background:"#fff"}},[a("div",{staticClass:"detailBtn"},[a("span",{staticClass:"detailNav"},[t._v("监控信息")]),t._v(" "),a("router-link",{attrs:{to:"/Port"}},[a("el-button",{staticClass:"w90",attrs:{size:"small"}},[t._v("返回API列表")])],1)],1),t._v(" "),a("div",{staticClass:"dataTime"},[a("span",{staticClass:"demonstration",staticStyle:{"margin-left":"10px"}},[t._v("开始时间：")]),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期","picker-options":t.pickerOptions0,id:"startDateTime"},on:{change:t.pickTime0},model:{value:t.value0,callback:function(e){t.value0=e},expression:"value0"}}),t._v(" "),a("span",{staticClass:"demonstration"},[t._v("结束时间：")]),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期","picker-options":t.pickerOptions1,id:"endDateTime"},on:{change:t.pickTime1},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),t._v(" "),a("el-button",{attrs:{id:"mySearch",disabled:t.isDisable},on:{click:function(e){return t.search()}}},[t._v("查询")]),t._v(" "),a("div",{staticStyle:{display:"inline-block",float:"right","margin-right":"25px"}},[a("el-button",{class:[t.hourCheck],on:{click:function(e){return t.hours()}}},[t._v("近一小时")]),t._v(" "),a("el-button",{class:[t.dayCheck],on:{click:function(e){return t.today()}}},[t._v("今天")]),t._v(" "),a("el-button",{class:[t.weekCheck],on:{click:function(e){return t.weeks()}}},[t._v("近一周")]),t._v(" "),a("el-button",{class:[t.monthCheck],on:{click:function(e){return t.months()}}},[t._v("近一月")])],1),t._v(" "),t._m(0)],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"monitoring-detail"},[a("div",{staticClass:"monitoringMes mr20 mb20",staticStyle:{width:"100%"}},[a("span",[t._v("请求次数(单位:次数)")]),t._v(" "),a("div",{staticStyle:{height:"400px",width:"95%"},attrs:{id:"reqTimes"}})]),t._v(" "),a("div",{staticClass:"monitoringMes mb20",staticStyle:{width:"100%"}},[a("span",[t._v("响应时间 (单位:ms)")]),t._v(" "),a("div",{staticStyle:{height:"400px",width:"95%"},attrs:{id:"respTimes"}})]),t._v(" "),a("div",{staticClass:"monitoringMes",staticStyle:{width:"100%"}},[a("span",[t._v("错误分布(单位:次数)")]),t._v(" "),a("div",{staticStyle:{height:"400px",width:"95%"},attrs:{id:"errorDistribute"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"portManage",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[a("div",{staticStyle:{padding:"20px"}},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/combinationApi"}}},[t._v("\n        API组合列表\n      ")]),t._v(" "),a("el-breadcrumb-item",[t._v("详情列表")])],1),t._v(" "),t.createBtN?a("el-button",{staticClass:"createApi_btn",attrs:{type:"primary addOne"},on:{click:t.addApi}},[t._v("创建API")]):t._e()],1),t._v(" "),a("el-table",{attrs:{data:t.tablegroup,"row-class-name":t.tableRowClassName},on:{"filter-change":t.tableChange}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiName",label:"API名称",width:"250px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"httpPath",label:"路径"}}),t._v(" "),a("el-table-column",{attrs:{prop:"weight",label:"权重"}}),t._v(" "),a("el-table-column",{attrs:{prop:"score",label:"分值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1==e.row.status?"正常":3==e.row.status?"下线":""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"最后修改",formatter:t.dateFormat,width:"170px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.amendBtn?a("el-button",{staticClass:"radiusBtn mr10 pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.updataApiBtn(e.row)}}},[t._v("编辑")]):t._e(),t._v(" "),t.deleteBtn?a("el-button",{staticClass:"radiusBtn delColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.delApiBtn(e.$index,e.row)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.titleTab,visible:t.creataut,size:"tiny"},on:{"update:visible":function(e){t.creataut=e},close:function(t){}}},[a("el-form",{ref:"addPortForm",staticClass:"demo-ruleForm",attrs:{model:t.addPortForm,rules:t.addPortFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"分组：","label-width":t.formLabelWidth,prop:"apiGroupId"}},[a("el-select",{staticClass:"w9000",attrs:{disabled:"编辑"==t.titleTab,filterable:"",placeholder:"请选择分组"},on:{"visible-change":t.slideListGroup,change:t.slideLabelGroup},model:{value:t.addPortForm.apiGroupId,callback:function(e){t.$set(t.addPortForm,"apiGroupId",e)},expression:"addPortForm.apiGroupId"}},t._l(t.groupNameOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"apiId",label:"接口名称：","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w9000",attrs:{disabled:"编辑"==t.titleTab,filterable:"",placeholder:"请选择接口名称"},on:{"visible-change":t.slideListPort,change:t.slideLabel},model:{value:t.addPortForm.apiId,callback:function(e){t.$set(t.addPortForm,"apiId",e)},expression:"addPortForm.apiId"}},t._l(t.portOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.apiName,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"路径：","label-width":t.formLabelWidth,prop:"httpPath"}},[a("el-input",{staticClass:"w9000",attrs:{disabled:"编辑"==t.titleTab,readonly:!0},model:{value:t.addPortForm.httpPath,callback:function(e){t.$set(t.addPortForm,"httpPath",e)},expression:"addPortForm.httpPath"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"权重：","label-width":t.formLabelWidth,prop:"weight"}},[a("el-input",{staticClass:"w9000",model:{value:t.addPortForm.weight,callback:function(e){t.$set(t.addPortForm,"weight",t._n(e))},expression:"addPortForm.weight"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分值：","label-width":t.formLabelWidth,prop:"score"}},[a("el-input",{staticClass:"w9000",model:{value:t.addPortForm.score,callback:function(e){t.$set(t.addPortForm,"score",t._n(e))},expression:"addPortForm.score"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){return t.callOf("addPortForm")}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addaut("addPortForm")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flowMonitoring",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[a("page-header",[a("div",{attrs:{slot:"searchContent"},slot:"searchContent"},[a("el-button",{attrs:{type:"primary",icon:"search",size:"mini"},on:{click:function(e){return t.initData()}}},[t._v("搜 索")]),t._v(" "),t.addSBtn?a("el-button",{attrs:{type:"success",icon:"plus",size:"mini"},on:{click:function(e){return t.createBtn("only")}}},[t._v("创 建")]):t._e(),t._v(" "),t.addSBtn?a("el-button",{attrs:{type:"success",icon:"plus",size:"mini"},on:{click:function(e){return t.createBtn("more")}}},[t._v("批量创建")]):t._e()],1),t._v(" "),a("div",{attrs:{slot:"searchBody"},slot:"searchBody"},[a("div",{staticClass:"search-body-item"},[a("label",[t._v("分组:")]),t._v(" "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},on:{change:t.getApiAry},model:{value:t.searchForm.groupId,callback:function(e){t.$set(t.searchForm,"groupId",e)},expression:"searchForm.groupId"}},t._l(t.groupAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.groupName,value:t.id}})}),1)],1),t._v(" "),a("div",{staticClass:"search-body-item"},[a("label",[t._v("接口名称:")]),t._v(" "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.searchForm.apiId,callback:function(e){t.$set(t.searchForm,"apiId",e)},expression:"searchForm.apiId"}},t._l(t.apiAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.apiName,value:t.id}})}),1)],1)])]),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{border:"",data:t.tableList,"tooltip-effect":"dark","row-class-name":this.utils.tableRowClassName}},[t._e(),t._v(" "),a("el-table-column",{attrs:{npm:"",resizable:"","show-overflow-tooltip":"",prop:"",type:"index",label:"序号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"apiId",label:"apiId"}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"groupName",label:"数据源"}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"apiName",label:"接口"}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"price",label:"价格"}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltipprop":"stock",label:"总量"}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltipprop":"billingRulesName",label:"计费规则"}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltipprop":"startTime",label:"开始时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltipprop":"endTime",label:"结束时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.amendSBtn?a("el-button",{staticClass:"radiusBtn amendColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.editData(e.row)}}},[t._v("编辑")]):t._e(),t._v(" "),t.delSBtn?a("el-button",{staticClass:"radiusBtn delColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteData(e.row)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),this.tableList.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),this.tableList.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),t._v(" "),a("el-dialog",{attrs:{title:"only"===t.addType?"创建":"批量创建",visible:t.createTag,size:"tiny"},on:{"update:visible":function(e){t.createTag=e},close:t.closeDialogCreate}},[t.createTag?a("el-form",{ref:"createFormRef",staticClass:"demo-ruleForm",attrs:{model:t.createForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"分组：",prop:"groupId","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w9000",attrs:{filterable:"",placeholder:"请选择"},on:{change:t.getApiAryCreate},model:{value:t.createForm.groupId,callback:function(e){t.$set(t.createForm,"groupId",e)},expression:"createForm.groupId"}},t._l(t.groupAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.groupName,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"only"===t.addType,expression:"addType === 'only'"}],attrs:{label:"接口名称：",prop:"apiId","label-width":t.formLabelWidth}},[a("el-select",{ref:"selectApiRef",staticClass:"w9000",attrs:{filterable:"",placeholder:"请选择"},on:{change:t.selectChange},model:{value:t.createForm.apiId,callback:function(e){t.$set(t.createForm,"apiId",e)},expression:"createForm.apiId"}},t._l(t.apiAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.apiName,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"more"===t.addType,expression:"addType === 'more'"}],attrs:{label:"接口名称：",prop:"apiIds","label-width":t.formLabelWidth}},[a("el-select",{ref:"selectApiRef",staticClass:"w9000",attrs:{filterable:"",multiple:"",placeholder:"请选择"},on:{change:t.selectChange},model:{value:t.createForm.apiIds,callback:function(e){t.$set(t.createForm,"apiIds",e)},expression:"createForm.apiIds"}},t._l(t.apiAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.apiName,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"价格：","label-width":t.formLabelWidth,prop:"price"}},[a("el-input",{staticClass:"w9000",on:{input:t.selectChange},model:{value:t.createForm.price,callback:function(e){t.$set(t.createForm,"price",e)},expression:"createForm.price"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"总量：","label-width":t.formLabelWidth,prop:"stock"}},[a("el-input",{staticClass:"w9000",on:{input:t.selectChange},model:{value:t.createForm.stock,callback:function(e){t.$set(t.createForm,"stock",e)},expression:"createForm.stock"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"计费规则：",prop:"billingRulesUuid","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w9000",attrs:{filterable:"",placeholder:"请选择计费规则"},on:{change:t.selectChange},model:{value:t.createForm.billingRulesUuid,callback:function(e){t.$set(t.createForm,"billingRulesUuid",e)},expression:"createForm.billingRulesUuid"}},t._l(t.billingRules,function(t){return a("el-option",{key:t.uuid,attrs:{label:t.name,value:t.uuid}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"起始日期：",prop:"startTime","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"90%"},attrs:{type:"date",placeholder:"选择日期"},on:{input:t.selectChange},model:{value:t.createForm.startTime,callback:function(e){t.$set(t.createForm,"startTime",e)},expression:"createForm.startTime"}})],1),t._v(",\n      "),a("el-form-item",{attrs:{label:"终止时间：",prop:"endTime","label-width":t.formLabelWidth}},[a("el-date-picker",{staticStyle:{width:"90%"},attrs:{type:"date",placeholder:"选择日期"},on:{input:t.selectChange},model:{value:t.createForm.endTime,callback:function(e){t.$set(t.createForm,"endTime",e)},expression:"createForm.endTime"}})],1)],1):t._e(),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:t.closeDialogCreate}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addData("createFormRef")}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改",visible:t.editTag,size:"tiny"},on:{"update:visible":function(e){t.editTag=e},close:t.closeDialog}},[a("el-form",{ref:"updateFormRef",staticClass:"demo-ruleForm",attrs:{model:t.createForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"分组：",prop:"groupId","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w9000",attrs:{filterable:"",disabled:!0,placeholder:"请选择"},on:{change:t.getApiAryCreate},model:{value:t.createForm.groupId,callback:function(e){t.$set(t.createForm,"groupId",e)},expression:"createForm.groupId"}},t._l(t.groupAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.groupName,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"接口名称：",prop:"apiName","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w9000",attrs:{filterable:"",placeholder:"请选择",disabled:!0},on:{change:t.selectChange},model:{value:t.createForm.apiId,callback:function(e){t.$set(t.createForm,"apiId",e)},expression:"createForm.apiId"}},t._l(t.apiAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.apiName,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"价格：","label-width":t.formLabelWidth,prop:"price"}},[a("el-input",{staticClass:"w9000",on:{input:t.selectChange},model:{value:t.createForm.price,callback:function(e){t.$set(t.createForm,"price",e)},expression:"createForm.price"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"总量：","label-width":t.formLabelWidth,prop:"stock"}},[a("el-input",{staticClass:"w9000",on:{input:t.selectChange},model:{value:t.createForm.stock,callback:function(e){t.$set(t.createForm,"stock",e)},expression:"createForm.stock"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"计费规则：",prop:"billingRulesUuid","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w9000",attrs:{filterable:"",placeholder:"请选择计费规则"},model:{value:t.createForm.billingRulesUuid,callback:function(e){t.$set(t.createForm,"billingRulesUuid",e)},expression:"createForm.billingRulesUuid"}},t._l(t.billingRules,function(t){return a("el-option",{key:t.uuid,attrs:{label:t.name,value:t.uuid}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"起始日期：",prop:"startTime","label-width":t.formLabelWidth,rules:[{required:!0,message:"起始日期不能为空"}]}},[a("el-date-picker",{staticStyle:{width:"90%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.createForm.startTime,callback:function(e){t.$set(t.createForm,"startTime",e)},expression:"createForm.startTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"终止时间：",prop:"endTime","label-width":t.formLabelWidth,rules:[{required:!0,message:"终止时间不能为空"}]}},[a("el-date-picker",{staticStyle:{width:"90%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.createForm.endTime,callback:function(e){t.$set(t.createForm,"endTime",e)},expression:"createForm.endTime"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:t.closeDialog}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary",disabled:t.checkUpdate},on:{click:function(e){return t.editDataCommit("updateFormRef")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flowMonitoring",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[t.addSBtn?a("el-button",{staticClass:"createApi_btn addOne",attrs:{type:"primary"},on:{click:function(e){t.creatFluid=!0}}},[t._v("创建策略")]):t._e(),t._v(" "),a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w350",attrs:{placeholder:"请输入策略名称进行查询"},model:{value:t.searchStrategy,callback:function(e){t.searchStrategy=e},expression:"searchStrategy"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.createData()}}},[t._v("搜 索")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.flowData,"tooltip-effect":"dark","row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"name",label:"策略名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位",formatter:t.unitFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"no",label:"流量限制","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.amendSBtn?a("el-button",{staticClass:"radiusBtn amendColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.amendStrategy(e.row)}}},[t._v("编辑")]):t._e(),t._v(" "),t.delSBtn?a("el-button",{staticClass:"radiusBtn delColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.showDel(e.row)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),this.flowData.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("el-dialog",{attrs:{title:"修改策略",visible:t.amendStrategyDialog,size:"tiny"},on:{"update:visible":function(e){t.amendStrategyDialog=e}}},[a("el-form",{ref:"flowAmendData",staticClass:"demo-ruleForm",attrs:{model:t.flowAmendData,rules:t.rules2,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"策略名称","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{staticClass:"w9000",attrs:{"auto-complete":"off"},model:{value:t.flowAmendData.name,callback:function(e){t.$set(t.flowAmendData,"name",e)},expression:"flowAmendData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位","label-width":t.formLabelWidth,prop:"unit"}},[a("el-select",{staticClass:"w9000",attrs:{placeholder:"请选择单位"},model:{value:t.flowAmendData.unit,callback:function(e){t.$set(t.flowAmendData,"unit",e)},expression:"flowAmendData.unit"}},[a("el-option",{key:1,attrs:{label:"分钟",value:1}}),t._v(" "),a("el-option",{key:2,attrs:{label:"小时",value:2}}),t._v(" "),a("el-option",{key:3,attrs:{label:"天",value:3}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"流量限制","label-width":t.formLabelWidth,prop:"no"}},[a("el-input",{staticClass:"w9000",attrs:{"auto-complete":"off"},model:{value:t.flowAmendData.no,callback:function(e){t.$set(t.flowAmendData,"no",e)},expression:"flowAmendData.no"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.amendStrategyDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.modifyStrategy("flowAmendData")}}},[t._v("确 定")])],1)],1),t._v(" "),this.flowData.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum,"page-sizes":[10,20,30,40],"page-size":this.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),t._v(" "),a("el-dialog",{attrs:{title:"创建策略",visible:t.creatFluid,size:"tiny"},on:{"update:visible":function(e){t.creatFluid=e},close:t.closeDialog1}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称：","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{staticClass:"w9000",model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}}),t._v(" "),a("p",{staticStyle:{"line-height":"20px"}},[t._v("支持汉字、英文字母、数字、英文格式和下划线，必须以英文字母或汉字开头，4~15个字符")])],1),t._v(" "),a("el-form-item",{attrs:{label:"单位：","label-width":t.formLabelWidth,prop:"unit"}},[a("el-select",{staticClass:"w9000",attrs:{placeholder:"请选择单位"},model:{value:t.ruleForm.unit,callback:function(e){t.$set(t.ruleForm,"unit",e)},expression:"ruleForm.unit"}},[a("el-option",{key:1,attrs:{label:"分钟",value:1}}),t._v(" "),a("el-option",{key:2,attrs:{label:"小时",value:2}}),t._v(" "),a("el-option",{key:3,attrs:{label:"天",value:3}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"API流量限制：","label-width":t.formLabelWidth,prop:"no"}},[a("el-input",{staticClass:"w9000",model:{value:t.ruleForm.no,callback:function(e){t.$set(t.ruleForm,"no",e)},expression:"ruleForm.no"}}),t._v("\n        次 (不超过API流量限制值)\n      ")],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.creatFluid=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addStrategy("ruleForm")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"appListDetail",staticStyle:{background:"white"}},[a("div",{staticClass:"detailBtn",staticStyle:{height:"50px"}},[a("div",{staticClass:"fl"},[a("span",{staticClass:"detailNav"},[t._v("应用授权")]),t._v(" "),a("router-link",{attrs:{to:"/appList"}},[a("el-button",{staticStyle:{width:"auto"},attrs:{size:"small"}},[t._v("返回应用授权列表")])],1)],1),t._v(" "),a("el-button",{staticClass:"fr",attrs:{type:"primary",size:"small"},on:{click:function(e){t.amendApp=!0}}},[t._v("修改")]),t._v(" "),a("p",{staticStyle:{clear:"both"}})],1),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("基本信息")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered",model:{value:t.applyDataDetail,callback:function(e){t.applyDataDetail=e},expression:"applyDataDetail"}},[a("tbody",[a("tr",[a("td",[t._v("应用名称：\n              "),a("span",[t._v(t._s(t.applyDataDetail.appName))])]),t._v(" "),a("td",[t._v("应用ID：\n              "),a("span",[t._v(t._s(t.applyDataDetail.id))])])]),t._v(" "),a("tr",[a("td",[t._v("appKey：\n              "),a("span",[t._v(t._s(t.applyDataDetail.appKey))])]),t._v(" "),a("td",[t._v("appSecret：\n              "),a("span",[t._v(t._s(t.applyDataDetail.appSecret))])])]),t._v(" "),a("tr",[a("td",[t._v("授权策略：\n              "),a("span",[t._v(t._s(t.applyDataDetail.limitStrategyuuid))])]),t._v(" "),a("td",[t._v("描述：\n              "),a("span",[t._v(t._s(t.applyDataDetail.description))])])])])])])]),t._v(" "),a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"已授权的API"}},[a("el-button",{staticClass:"fr",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.authApiOpen()}}},[t._v("添加")]),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.granted,border:""}},[a("el-table-column",{attrs:{prop:"apiName",label:"API名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiGroupName",label:"分组"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiDescription",label:"描述"}}),t._v(" "),a("el-table-column",{attrs:{prop:"env",label:"环境",formatter:t.envFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"最后修改",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteApi(e.row)}}},[t._v("解绑")])]}}])})],1),t._v(" "),a("div",{staticClass:"page"},[a("div",{staticClass:"block fr",staticStyle:{"margin-top":"20px"}},[a("el-pagination",{attrs:{"current-page":t.pageNum,"page-size":this.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)])],1),t._v(" "),a("el-tab-pane",{attrs:{label:"已授权策略"}},[a("el-button",{staticClass:"fr",attrs:{type:"primary",id:"addOver",size:"small"},on:{click:t.addStrategy}},[t._v("添加")]),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.strategyData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"策略名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位",formatter:t.unitFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"no",label:"流量限制"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.removeStrategy()}}},[t._v("解绑")])]}}])})],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"为应用绑定策略",visible:t.bindStrategy,size:"small",id:"accreditBox"},on:{"update:visible":function(e){t.bindStrategy=e},close:t.closeDialog}},[a("div",{staticClass:"accreditLine"}),t._v(" "),a("el-form",[a("div",[a("span",{staticStyle:{"font-weight":"700"}},[t._v("选择要绑定的策略")]),t._v(" "),a("p"),t._v(" "),a("div",{staticClass:"fl flBox",staticStyle:{"margin-bottom":"20px",width:"100%"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{id:"accreditInput"}},[a("el-input",{attrs:{placeholder:"请输入策略名称"},model:{value:t.strategyName,callback:function(e){t.strategyName=e},expression:"strategyName"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getStrategyList()}}},[t._v("搜索")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",height:"380px",overflow:"auto"},attrs:{data:t.allStrategy,border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{label:"",width:"40"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{nativeOn:{change:function(a){return t.getCurrentRow(e.$index)}},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"策略名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位",formatter:t.unitFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"no",label:"流量限制"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",formatter:t.dateFormat}})],1)],1)])]),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.bindStrategy=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.setAuth()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"授权API",visible:t.authApi,size:"small",id:"accreditBox"},on:{"update:visible":function(e){t.authApi=e},close:t.closeAuthApi}},[a("div",{staticClass:"accreditLine"}),t._v(" "),a("el-form",[a("span",{staticStyle:{"font-weight":"700"}},[t._v("选择授权环境")]),a("br"),a("br"),t._v(" "),[a("el-radio-group",{on:{change:t.radioChange},model:{value:t.radioEnv,callback:function(e){t.radioEnv=e},expression:"radioEnv"}},[a("el-radio-button",{attrs:{label:"线上"}}),t._v(" "),a("el-radio-button",{attrs:{label:"预发"}})],1)],a("br"),t._v(" "),a("div",[a("span",{staticStyle:{"font-weight":"700"}},[t._v("选择要授权的API")]),t._v(" "),a("p"),t._v(" "),a("div",{staticClass:"fl flBox",staticStyle:{"margin-bottom":"20px",width:"100%"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{id:"accreditInput"}},[a("el-input",{attrs:{placeholder:"请输入API名称"},model:{value:t.searchApiName,callback:function(e){t.searchApiName=e},expression:"searchApiName"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.initApiList()}}},[t._v("搜索")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",height:"380px",overflow:"auto"},attrs:{data:t.apiList,border:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChangeApi}},[a("el-table-column",{staticClass:"selection",attrs:{type:"selection",width:"55",prop:"limitStrategyuuid"},on:{"selection-change":t.handleSelectionChangeApi}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiName",label:"api名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiGroupName",label:"分组"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",formatter:t.dateFormat}})],1)],1)])],2),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.authApi=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.confirmAuthApi()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改应用",visible:t.amendApp,size:"tiny"},on:{"update:visible":function(e){t.amendApp=e},close:t.closeModify}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"应用名称：","label-width":t.formLabelWidth,prop:"modifyAppName"}},[a("el-input",{model:{value:t.ruleForm.modifyAppName,callback:function(e){t.$set(t.ruleForm,"modifyAppName",e)},expression:"ruleForm.modifyAppName"}}),t._v(" "),a("p",{staticStyle:{"line-height":"20px"}},[t._v("全局唯一，支持汉字、英文字母、数字、英文格式的下划线，且必须以字母或汉字开始，4~15个字符")])],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：","label-width":t.formLabelWidth,prop:"modifyDescription"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"不超过180个字符"},model:{value:t.ruleForm.modifyDescription,callback:function(e){t.$set(t.ruleForm,"modifyDescription",e)},expression:"ruleForm.modifyDescription"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.amendApp=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.modifyApp("ruleForm")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("div",{staticClass:"card_statistical"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"text"},[a("p",[t._v("总调用量")]),t._v(" "),a("p",[t._v(t._s(t.totalCount))])]),t._v(" "),a("div",{staticClass:"canvasBoxTotal"},[a("div",{staticStyle:{width:"100%",height:"70px"},attrs:{id:"totalCountId"}})])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("div",{staticClass:"text"},[a("p",[t._v("成功")]),t._v(" "),a("p",[t._v(t._s(t.totalSuccess))])]),t._v(" "),a("div",{staticClass:"canvasBox"},[a("canvas-bar",{ref:"canvasRef",attrs:{width:50,height:50,id:"successBar",totle:t.totalCount,value:t.totalSuccess,color:"green"}})],1)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"text"},[a("p",[t._v("失败量")]),t._v(" "),a("p",[t._v(t._s(t.totalFail))])]),t._v(" "),a("div",{staticClass:"canvasBox"},[a("canvas-bar",{ref:"canvasFailRef",attrs:{width:50,height:50,id:"failBar",totle:t.totalCount,value:t.totalFail,color:"red"}})],1)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("div",{staticClass:"text"},[a("p",[t._v("异常量")]),t._v(" "),a("p",[t._v(t._s(t.totalException))])]),t._v(" "),a("div",{staticClass:"canvasBox"},[a("canvas-bar",{ref:"canvasExceptionRef",attrs:{width:50,height:50,id:"exceptionBar",totle:t.totalCount,value:t.totalException,color:"#FEBD49"}})],1)])])],1)],1),t._v(" "),a("div",{staticStyle:{display:"flex","padding-right":"15px"}},[a("el-form",{staticClass:"search_form",staticStyle:{flex:"1","vertical-align":"top"},attrs:{inline:!0}},[a("el-form-item",[a("el-select",{staticClass:"w200",attrs:{clearable:"",filterable:""},model:{value:t.searchParams.sourceName,callback:function(e){t.$set(t.searchParams,"sourceName",e)},expression:"searchParams.sourceName"}},t._l(t.groupOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.groupName,value:t.groupName}})}),1),t._v(" "),a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入APIID进行查询"},model:{value:t.searchParams.apiId,callback:function(e){t.$set(t.searchParams,"apiId",e)},expression:"searchParams.apiId"}}),t._v(" "),a("el-date-picker",{staticClass:"w200",attrs:{rangeSeparator:"/",type:"datetimerange",placeholder:"选择时间范围"},on:{change:t.dateChange},model:{value:t.rangeDate,callback:function(e){t.rangeDate=e},expression:"rangeDate"}}),t._v(" "),a("el-select",{staticStyle:{width:"80px"},attrs:{placeholder:"请选择"},model:{value:t.searchParams.status,callback:function(e){t.$set(t.searchParams,"status",e)},expression:"searchParams.status"}},t._l(t.statusOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.defouteSearch()}}},[t._v("搜 索")])],1)],1),t._v(" "),a("div",{staticStyle:{flex:"0 0 92px","vertical-align":"top","margin-top":"10px"}},[a("el-radio-group",{on:{change:t.showTypeChange},model:{value:t.showType,callback:function(e){t.showType=e},expression:"showType"}},[a("el-radio-button",{attrs:{label:"table"}},[a("i",{staticClass:"el-icon-menu"})]),t._v(" "),a("el-radio-button",{attrs:{label:"echarts"}},[a("i",{staticClass:"el-icon-picture"})])],1)],1)],1),t._v(" "),a("div",{staticStyle:{position:"relative"}},[a("div",{style:{position:"absolute",top:0,height:"400px",width:"100%",zIndex:"echarts"===t.showType&&t.groupCountList.length>0?2:-1},attrs:{id:"groupCountListId"}}),t._v(" "),"table"===t.showType?[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.tablegroup,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"apiName",label:"接口名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"count",label:"调用总量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"avgSuccessResponseTime",label:"\t平均响应时间/ms"}}),t._v(" "),a("el-table-column",{attrs:{prop:"countSuccess",label:"成功"}}),t._v(" "),a("el-table-column",{attrs:{prop:"countFail",label:"\t失败"}}),t._v(" "),a("el-table-column",{attrs:{prop:"countExp",label:"\t异常"}}),t._v(" "),a("el-table-column",{attrs:{label:"成功率"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.elPregrossClick(e.row)}}},[a("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:0===e.row.count?0:Math.round(e.row.countSuccess/e.row.count*100),status:0===e.row.count?"exception":e.row.countSuccess/e.row.count==1?"success":"exception"}})],1)]}}],null,!1,95947726)})],1),t._v(" "),this.tablegroup.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.searchParams.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchParams.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),t._v(" "),this.tablegroup.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e()]:t._e(),t._v(" "),"echarts"===t.showType&&this.groupCountList.length<1?a("div",{staticClass:"teCen mt60"},[t._m(1),t._v(" "),a("span",[t._v("暂无数据")])]):t._e()],2)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"debugApi",staticStyle:{background:"#fff"}},[a("div",{staticClass:"w1660fr"},[t._m(0),t._v(" "),a("div",{staticClass:"dataTime",staticStyle:{height:"645px"}},[a("div",{staticClass:"monitoring-detail fl"},[a("div",{staticClass:"monitoringMes mr20 mb20"},[a("span",[t._v("请求参数")]),t._v(" "),a("table",{staticClass:"table table-bordered"},[a("tbody",[a("tr",[a("td",{staticClass:"petitionWay"},[t._v("Http Method:\n                  "),a("b",{staticClass:"petition"},[t._v(t._s(t.method))])]),t._v(" "),a("td",{staticClass:"petitionWay"},[t._v("Path:\n                  "),a("b",{staticClass:"petition"},[t._v(t._s(t.uri))])])]),t._v(" "),a("tr",{attrs:{id:"headers"}},[a("td",{attrs:{colspan:"2"}},[a("b",[t._v("Header")]),t._v(" "),a("p"),t._v(" "),a("ul",t._l(t.headers,function(e,i){return a("li",{staticClass:"headers"},[1==e.paramMust?a("div",{staticStyle:{display:"inline-block"}},[a("b",{staticClass:"mustTip"},[t._v("*")])]):a("div",{staticStyle:{display:"inline-block"}},[t._v("　")]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.paramDescription,placement:"right"}},[a("label",{staticStyle:{width:"40%",color:"#1f2d3d"}},[t._v(t._s(e.paramName))])]),t._v(" "),a("i",{staticStyle:{margin:"0 20px"}},[t._v("=")]),t._v(" "),a("el-input",{staticStyle:{width:"40%"},model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"header.model"}})],1)}),0)])]),t._v(" "),a("tr",{attrs:{id:"querys"}},[a("td",{attrs:{colspan:"2"}},[a("b",[t._v("Query")]),t._v(" "),a("p"),t._v(" "),a("ul",t._l(t.querys,function(e,i){return a("li",{staticClass:"headers"},[1==e.paramMust?a("div",{staticStyle:{display:"inline-block"}},[a("b",{staticClass:"mustTip"},[t._v("*")])]):a("div",{staticStyle:{display:"inline-block"}},[t._v("　")]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.paramDescription,placement:"right"}},[a("label",{staticStyle:{width:"40%",color:"#1f2d3d"}},[t._v(t._s(e.paramName))])]),t._v(" "),a("i",{staticStyle:{margin:"0 20px"}},[t._v("=")]),t._v(" "),a("el-input",{staticStyle:{width:"40%"},model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"query.model"}})],1)}),0)])]),t._v(" "),a("tr",{attrs:{id:"bodys"}},[a("td",{attrs:{colspan:"2"}},[a("b",[t._v("Body")]),t._v(" "),a("p"),t._v(" "),a("ul",t._l(t.bodys,function(e,i){return a("li",{staticClass:"headers"},[1==e.paramMust?a("div",{staticStyle:{display:"inline-block"}},[a("b",{staticClass:"mustTip"},[t._v("*")])]):a("div",{staticStyle:{display:"inline-block"}},[t._v("　")]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.paramDescription,placement:"top"}},[a("label",{staticStyle:{width:"40%",color:"#1f2d3d"}},[t._v(t._s(e.paramName))])]),t._v(" "),a("i",{staticStyle:{margin:"0 20px"}},[t._v("=")]),t._v(" "),a("el-input",{staticStyle:{width:"40%"},model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"body.model"}})],1)}),0)])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[a("div",[a("el-button",{staticStyle:{"margin-left":"30%",display:"inline-block"},attrs:{type:"primary"},on:{click:function(e){return t.sendPost()}}},[t._v("发送请求")]),t._v(" "),a("el-button",{staticStyle:{display:"inline-block"},attrs:{type:"info"},on:{click:function(e){return t.clearPost()}}},[t._v("清除缓存")]),t._v(" "),a("small",[a("router-link",{attrs:{to:{path:"errorText",query:{id:this.$route.query.id,apiGroupId:this.$route.query.apiGroupId,productEnvVersion:this.$route.query.productEnvVersion}}}},[t._v("错误码查询表")]),t._v(" （X-Ca-Error-Message字段为错误码字段）\n                    ")],1)],1)])])])])]),t._v(" "),a("div",{staticClass:"returnRes fr"},[a("span",[t._v("返回结果")]),t._v(" "),a("div",{staticStyle:{"background-color":"#393d40",height:"585px",width:"100%",color:"white",overflow:"auto"},attrs:{readonly:"readonly"},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}},[a("pre",{staticStyle:{color:"#7fe2ab",border:"1px solid white","font-size":"16px",height:"auto","line-height":"40px"}},[t._v(t._s(t.result.statusCode))]),t._v(" "),a("pre",{staticStyle:{color:"#febd4b",border:"1px solid white","font-size":"16px",height:"auto","line-height":"40px"}},[t._v(t._s(t.result.responseHeader))]),t._v(" "),a("br"),t._v(" "),a("pre",{staticStyle:{color:"white",border:"1px solid white","font-size":"16px","line-height":"40px"}},[t._v(t._s(t.result.resultString))])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detailBtn"},[a("span",{staticClass:"detailNav"},[t._v("调试API")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("div",{staticClass:"block fr",staticStyle:{"margin-top":"20px"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":10,layout:"total, prev, pager, next",total:t.count},on:{"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"errorText"},[a("div",{staticClass:"w1660fr"},[a("div",{staticClass:"detailBtn"},[a("div",{staticClass:"fl"},[a("span",{staticClass:"detailNav"},[t._v("错误代码说明")]),t._v(" "),a("router-link",{attrs:{to:{path:"portApiManage",query:{id:this.$route.query.id,apiGroupId:this.$route.query.apiGroupId,productEnvVersion:this.$route.query.productEnvVersion}}}},[a("el-button",{attrs:{size:"small"}},[t._v("返回API详情")])],1)],1),t._v(" "),a("p",{staticStyle:{clear:"both"}})]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("el-form",[a("div",{staticClass:"panel panel-default",staticStyle:{position:"relative"}},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("错误代码对照表")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered"},[a("thead",[a("tr",[a("th",[a("b",[t._v("错误代码")])]),t._v(" "),a("th",[a("b",[t._v("错误信息")])]),t._v(" "),a("th",[a("b",[t._v("详细描述")])])])]),t._v(" "),a("tbody",t._l(t.errorTabelData,function(e){return a("tr",[a("td",[a("span",[t._v(t._s(e.errorCode))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.errorDescription))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.errorMsg))])])])}),0)])])])])],1)])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tabs",{staticClass:"currentLimitTable",staticStyle:{background:"#fff",height:"100%"},attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"接口限流",name:"first"}},[a("flow-control")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"用户限流",name:"second"}},[a("flow-rate-limit")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"定制限流",name:"third"}},[a("flow-rate-limit-interface")],1)],1)},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flowMonitoring",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[t.addSBtn?a("el-button",{staticClass:"createApi_btn addOne",attrs:{type:"primary"},on:{click:function(e){t.createBillingRule=!0}}},[t._v("创建规则")]):t._e(),t._v(" "),a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"规则名称"},model:{value:t.searchForm.name,callback:function(e){t.$set(t.searchForm,"name",e)},expression:"searchForm.name"}})],1),t._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchForm.billingMode,callback:function(e){t.$set(t.searchForm,"billingMode",e)},expression:"searchForm.billingMode"}},t._l(t.billingModeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.initData()}}},[t._v("搜 索")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.tableList,"tooltip-effect":"dark","row-class-name":this.utils.tableRowClassName}},[t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"",type:"index",label:"序号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"规则名称"}}),t._v(" "),a("el-table-column",{attrs:{label:"计费类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.billingType?a("span",[t._v("时间计费")]):t._e(),t._v(" "),2===e.row.billingType?a("span",[t._v("按条计费")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"计费周期"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.billingCycle?a("span",[t._v("年")]):t._e(),t._v(" "),2===e.row.billingCycle?a("span",[t._v("季度")]):t._e(),t._v(" "),3===e.row.billingCycle?a("span",[t._v("月")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"billingCycleLimit",label:"次数",formatter:t.billingRuleLimitFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"计费模式"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.billingMode?a("span",[t._v(t._s(t.billingModeOptions[1].label))]):t._e(),t._v(" "),2===e.row.billingMode?a("span",[t._v(t._s(t.billingModeOptions[2].label))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.amendSBtn?a("el-button",{staticClass:"radiusBtn amendColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.editBillingRule(e.row)}}},[t._v("编辑")]):t._e(),t._v(" "),t.delSBtn?a("el-button",{staticClass:"radiusBtn delColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteBillingRule(e.row)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),this.tableList.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),this.tableList.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),t._v(" "),a("el-dialog",{attrs:{title:"创建规则",visible:t.createBillingRule,size:"tiny"},on:{"update:visible":function(e){t.createBillingRule=e},close:t.closeDialog}},[a("el-form",{ref:"createForm",staticClass:"demo-ruleForm",attrs:{model:t.createForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"计费类型：","label-width":t.formLabelWidth,prop:"billingType"}},[a("el-select",{staticClass:"w9000",attrs:{placeholder:"请选择计费类型"},model:{value:t.createForm.billingType,callback:function(e){t.$set(t.createForm,"billingType",e)},expression:"createForm.billingType"}},[a("el-option",{key:1,attrs:{label:"按时计费",value:1}}),t._v(" "),a("el-option",{key:2,attrs:{label:"按条计费",value:2}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"计费周期：","label-width":t.formLabelWidth,prop:"billingCycle"}},[a("el-select",{staticClass:"w9000",attrs:{placeholder:"请选择周期单位",disabled:2==t.createForm.billingType},model:{value:t.createForm.billingCycle,callback:function(e){t.$set(t.createForm,"billingCycle",e)},expression:"createForm.billingCycle"}},[a("el-option",{key:1,attrs:{label:"年",value:1}}),t._v(" "),a("el-option",{key:2,attrs:{label:"季度",value:2}}),t._v(" "),a("el-option",{key:3,attrs:{label:"月",value:3}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"周期额度：","label-width":t.formLabelWidth,prop:"billingCycleLimit"}},[a("el-input",{staticClass:"w9000",attrs:{disabled:2==t.createForm.billingType},model:{value:t.createForm.billingCycleLimit,callback:function(e){t.$set(t.createForm,"billingCycleLimit",e)},expression:"createForm.billingCycleLimit"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"计费模式：","label-width":t.formLabelWidth,prop:"billingMode"}},[a("el-select",{staticClass:"w9000",attrs:{placeholder:"请选择模式"},model:{value:t.createForm.billingMode,callback:function(e){t.$set(t.createForm,"billingMode",e)},expression:"createForm.billingMode"}},[a("el-option",{key:1,attrs:{label:"查询计费",value:1}}),t._v(" "),a("el-option",{key:2,attrs:{label:"查得计费",value:2}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.createBillingRule=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addBillingRule("createForm")}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改规则",visible:t.editBillingRuleFlag,size:"tiny"},on:{"update:visible":function(e){t.editBillingRuleFlag=e},close:t.closeDialog}},[a("el-form",{ref:"updateForm",staticClass:"demo-ruleForm",attrs:{model:t.createForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"规则名称：","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{staticClass:"w9000",attrs:{disabled:!0},model:{value:t.createForm.name,callback:function(e){t.$set(t.createForm,"name",e)},expression:"createForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"计费类型：","label-width":t.formLabelWidth,prop:"billingType"}},[a("el-select",{staticClass:"w9000",attrs:{placeholder:"请选择计费类型"},model:{value:t.createForm.billingType,callback:function(e){t.$set(t.createForm,"billingType",e)},expression:"createForm.billingType"}},[a("el-option",{key:1,attrs:{label:"按时计费",value:1}}),t._v(" "),a("el-option",{key:2,attrs:{label:"按条计费",value:2}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"计费周期：","label-width":t.formLabelWidth,prop:"billingCycle"}},[a("el-select",{staticClass:"w9000",attrs:{placeholder:"请选择周期单位",disabled:2==t.createForm.billingType},model:{value:t.createForm.billingCycle,callback:function(e){t.$set(t.createForm,"billingCycle",e)},expression:"createForm.billingCycle"}},[a("el-option",{key:1,attrs:{label:"年",value:1}}),t._v(" "),a("el-option",{key:2,attrs:{label:"季度",value:2}}),t._v(" "),a("el-option",{key:3,attrs:{label:"月",value:3}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"周期额度：","label-width":t.formLabelWidth,prop:"billingCycleLimit"}},[a("el-input",{staticClass:"w9000",attrs:{disabled:2==t.createForm.billingType},model:{value:t.createForm.billingCycleLimit,callback:function(e){t.$set(t.createForm,"billingCycleLimit",e)},expression:"createForm.billingCycleLimit"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"计费模式：","label-width":t.formLabelWidth,prop:"billingMode"}},[a("el-select",{staticClass:"w9000",attrs:{placeholder:"请选择模式"},model:{value:t.createForm.billingMode,callback:function(e){t.$set(t.createForm,"billingMode",e)},expression:"createForm.billingMode"}},[a("el-option",{key:1,attrs:{label:"查询计费",value:1}}),t._v(" "),a("el-option",{key:2,attrs:{label:"查得计费",value:2}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.editBillingRuleFlag=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.editBillingRuleCommit("updateForm")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"bgm_div"},[i("div",{on:{mouseup:function(e){t.subm=!1},click:function(e){t.subm=!0}}},[i("el-menu",{staticClass:"menu_1",attrs:{"default-active":t.activeIndex1,mode:"vertical",theme:"dark"},on:{select:t.changeMenu1}},t._l(t.menuList,function(e,s){return i("div",[i("router-link",{attrs:{to:t.menuList[s].subMenu[0].path}},[i("el-menu-item",{attrs:{index:""+s}},[i("img",{staticClass:"menuImg imgNHover",staticStyle:{width:"20px",height:"20px"},attrs:{src:a(461)}}),t._v(" "),i("img",{staticClass:"menuImg din imgHover",staticStyle:{width:"20px",height:"20px"},attrs:{src:a(461)}}),t._v(" "),i("p",{staticClass:"navTextP navTextDefault"},[t._v(t._s(t.menuList[s].groupName))]),t._v(" "),i("p",{staticClass:"navTextP din navTextHover"},[t._v(t._s(t.menuList[s].groupName))])])],1)],1)}),0)],1)]),t._v(" "),t.subm?i("div",[i("el-menu",{staticClass:"menu_2",attrs:{"default-active":t.activeIndex2,mode:"vertical",theme:"light"},on:{select:t.changeMenu2}},t._l(t.menuListAct,function(e,a){return i("div",{staticStyle:{position:"relative"}},[i("router-link",{attrs:{to:e.path}},[i("el-menu-item",{attrs:{index:t.activeIndex1+"-"+a}},[t._v(t._s(e.name))])],1)],1)}),0)],1):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.addApiData.requestParamsList.length>0?a("el-form",[1==t.addApiData.requestParamsList[t.dataStrs].paramsType?a("el-form-item",{attrs:{label:"最大长度","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w2000",attrs:{type:"number"},on:{change:function(e){return t.maxLine(t.addApiData.requestParamsList[t.dataStrs].maxLength)}},model:{value:t.addApiData.requestParamsList[t.dataStrs].maxLength,callback:function(e){t.$set(t.addApiData.requestParamsList[t.dataStrs],"maxLength",e)},expression:"addApiData.requestParamsList[dataStrs].maxLength"}}),t._v(" "),t.isMinGreater?a("p",{staticStyle:{color:"red"}},[t._v("最大长度不能小于等于最小长度")]):t._e()],1):t._e(),t._v(" "),1==t.addApiData.requestParamsList[t.dataStrs].paramsType?a("el-form-item",{attrs:{label:"最小长度","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w2000",attrs:{type:"number"},model:{value:t.addApiData.requestParamsList[t.dataStrs].minLength,callback:function(e){t.$set(t.addApiData.requestParamsList[t.dataStrs],"minLength",e)},expression:"addApiData.requestParamsList[dataStrs].minLength"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"参数验证","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w350",attrs:{type:"textarea",rows:4},model:{value:t.addApiData.requestParamsList[t.dataStrs].regularExpress,callback:function(e){t.$set(t.addApiData.requestParamsList[t.dataStrs],"regularExpress",e)},expression:"addApiData.requestParamsList[dataStrs].regularExpress"}})],1)],1):t._e(),t._v(" "),a("div",{staticClass:"dialog-footer fr",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){return t.$emit("cancleAmendApi","")}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.lineValue}},[t._v("确 定")]),t._v(" "),a("p",{staticStyle:{clear:"both"}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"accreditMes"},[a("div",{staticClass:"w1660fr"},[a("div",{staticClass:"detailBtn"},[a("span",{staticClass:"detailNav"},[t._v("发布历史")]),t._v(" "),a("router-link",{attrs:{to:"/portManage"}},[a("el-button",{attrs:{size:"mini"}},[t._v("返回API列表")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.historyData,border:"","row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"versionId",label:"版本"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pubDescription",label:"发布备注"}}),t._v(" "),a("el-table-column",{attrs:{prop:"env",label:"运行环境","filter-placement":"bottom-end","filter-multiple":!1,"column-key":"runTimeEnv"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{"close-transition":""}},[t._v(t._s(1==e.row.env?"线上":"预发"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"发布时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"radiusBtn",attrs:{type:"text",size:"small"},on:{click:function(a){return t.lookData(e.row)}}},[t._v("查看")]),t._v(" "),1!=e.row.currentVersion&&t.vsionBtn?a("el-button",{staticClass:"radiusBtn",attrs:{type:"text",size:"small"},on:{click:function(a){return t.switchoverData(e.row)}}},[t._v("切换至此版本")]):t._e()]}}])})],1),t._v(" "),a("el-dialog",{staticStyle:{height:"800px",overflow:"auto"},attrs:{title:"API定义详情",visible:t.look},on:{"update:visible":function(e){t.look=e}}},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("名称及描述")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered"},[a("tbody",{staticStyle:{"margin-bottom":"10px",position:"relative"},model:{value:t.apiInfoVersion,callback:function(e){t.apiInfoVersion=e},expression:"apiInfoVersion"}},[a("p",{staticStyle:{position:"absolute",top:"20px",left:"115px"}},[a("b",[t._v("（版本："+t._s(t.apiInfoVersion.versionId))]),t._v("）")]),t._v(" "),a("tr",[a("td",[t._v("分组：\n                  "),a("span",[t._v(t._s(t.apiInfoVersion.groupName))])]),t._v(" "),a("td",[t._v("名称：\n                  "),a("span",[t._v(t._s(t.apiInfoVersion.apiName))])])]),t._v(" "),a("tr",[a("td",[t._v("是否存储：\n                  "),a("span",[t._v(t._s(1==t.apiInfoVersion.saveMongoDB?"是":"否"))])]),t._v(" "),a("td",[t._v("是否发送MQ：\n                  "),a("span",[t._v(t._s(1==t.apiInfoVersion.saveMQ?"是":"否"))])])]),t._v(" "),a("tr",[a("td",[t._v("Mongodb地址：\n                  "),a("span",[t._v(t._s(t.apiInfoVersion.mongodbURI))])]),t._v(" "),a("td",[t._v("Mongodb库名:\n                  "),a("span",[t._v(t._s(t.apiInfoVersion.mongodbDBName))])])]),t._v(" "),a("tr",[a("td",[t._v("Mongodb表名\n                  "),a("span",[t._v(t._s(t.apiInfoVersion.mongodbCollectionName))])]),t._v(" "),a("td",[t._v("描述：\n                  "),a("span",[t._v(t._s(t.apiInfoVersion.apiDescription))])])]),t._v(" "),a("tr",[a("td",[t._v("MQ类型：\n                  "),a("span",[t._v(t._s(1==t.apiInfoVersion.mqType?"rabbbitmq":"kafka"))])]),t._v(" "),a("td",[t._v("MQ地址：\n                  "),a("span",[t._v(t._s(t.apiInfoVersion.mqAddress))])])]),t._v(" "),a("tr",[a("td",[t._v("用户名：\n                  "),a("span",[t._v(t._s(t.apiInfoVersion.mqUserName))])]),t._v(" "),a("td",[t._v("密码：\n                  "),a("span",[t._v(t._s(t.apiInfoVersion.mqPasswd))])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("队列名称：\n                  "),a("span",[t._v(t._s(t.apiInfoVersion.mqTopicName))])])])])])])]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("后端服务信息")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered",model:{value:t.apiInfoVersion,callback:function(e){t.apiInfoVersion=e},expression:"apiInfoVersion"}},[a("tbody",[a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("A中心地址：\n                  "),a("span",[t._v(t._s(t.apiInfoVersion.backEndAddress))])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("B中心地址：\n                    "),a("span",[t._v(t._s(t.apiInfoVersion.backEndAddressB))])])]),t._v(" "),a("tr",[a("td",[t._v("Mock：\n                  "),a("span",[t._v(t._s(1==t.apiInfoVersion.isMock?"使用mock":"不使用mock"))])]),t._v(" "),a("td",[t._v("后端超时：\n                  "),a("span",[t._v(t._s(t.apiInfoVersion.backEndTimeout))]),t._v(" ms")])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("Mock返回结果：\n                  "),a("span",[t._v(t._s(t.apiInfoVersion.mockData))])])])])])])]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("请求基础定义")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered",model:{value:t.apiInfoVersion,callback:function(e){t.apiInfoVersion=e},expression:"apiInfoVersion"}},[a("tbody",[a("tr",[a("td",[t._v("Path：\n                  "),a("span",[t._v(t._s(t.apiInfoVersion.httpPath))])]),t._v(" "),a("td",[t._v("协议：\n                  "),a("span")])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("HTTP Method：\n                  "),a("span",[t._v(t._s(1==t.apiInfoVersion.httpMethod?"GET":"POST"))])])])])])])]),t._v(" "),a("div",{staticClass:"panel panel-default",staticStyle:{position:"relative"}},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("请求入参信息")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered"},[a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("默认值")]),t._v(" "),a("th",[t._v("示例")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("后端参数名称")]),t._v(" "),a("th",[t._v("操作")])])]),t._v(" "),t.requestParamsVersionsList.length<=0?a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"8"}},[a("span",[t._v("暂无数据")])])])]):t._e(),t._v(" "),t.requestParamsVersionsList.length>0?a("tbody",t._l(t.requestParamsVersionsList,function(e,i){return a("tr",[a("td",[t._v(t._s(e.paramName))]),t._v(" "),a("td",[1==e.paramsType?a("span",[t._v("String")]):2==e.paramsType?a("span",[t._v("Integer")]):3==e.paramsType?a("span",[t._v("Long")]):4==e.paramsType?a("span",[t._v("Float")]):5==e.paramsType?a("span",[t._v("Double")]):6==e.paramsType?a("span",[t._v("Boolean")]):t._e()]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.paramsMust?"是":"否"))])]),t._v(" "),a("td",[t._v(t._s(e.paramsDefaultValue))]),t._v(" "),a("td",[t._v(t._s(e.paramsExample))]),t._v(" "),a("td",[t._v(t._s(e.paramsDescription))]),t._v(" "),a("td",[t._v(t._s(e.paramName))]),t._v(" "),a("td",[a("a",{staticClass:"radiusBtn",staticStyle:{padding:"0 8px",color:"#1C72EE"},attrs:{href:"javascript:void(0)"},on:{mouseover:function(e){return t.moreStart(i)},mouseleave:function(e){return t.moreEnd(i)}}},[t._v("更多")]),t._v(" "),a("el-form",{staticClass:"moreMes din",staticStyle:{width:"400px"}},[a("el-form-item",{attrs:{label:"最大长度","label-width":t.formLabelWidth}},[a("span",[t._v(t._s(t.requestParamsVersionsList[t.amendApiIndex].maxLength))])]),t._v(" "),a("el-form-item",{attrs:{label:"最小长度","label-width":t.formLabelWidth}},[a("span",[t._v(t._s(t.requestParamsVersionsList[t.amendApiIndex].minLength))])]),t._v(" "),a("el-form-item",{attrs:{label:"参数验证","label-width":t.formLabelWidth}},[a("span",[t._v(t._s(t.requestParamsVersionsList[t.amendApiIndex].regularExpress))])])],1)],1)])}),0):t._e()])])]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("后端服务参数")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered"},[a("thead",[a("tr",[a("th",[t._v("后端参数名称")]),t._v(" "),a("th",[t._v("后端参数位置")]),t._v(" "),a("th",[t._v("对应入参名称")]),t._v(" "),a("th",[t._v("对应入参位置")]),t._v(" "),a("th",[t._v("对应入参类型")])])]),t._v(" "),t.backendParamsList.length<=0?a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"5"}},[a("span",[t._v("暂无数据")])])])]):t._e(),t._v(" "),t.backendParamsList.length>0?a("tbody",t._l(t.backendParamsList,function(e,i){return a("tr",[a("td",[t._v(t._s(e.paramName))]),t._v(" "),a("td",[1==e.paramsLocation?a("span",[t._v("header")]):2==e.paramsLocation?a("span",[t._v("query")]):3==e.paramsLocation?a("span",[t._v("body")]):t._e()]),t._v(" "),a("td",[a("span",[t._v(t._s(t.requestParamsVersionsList[i].paramName))])]),t._v(" "),a("td",[1==t.requestParamsVersionsList[i].paramsLocation?a("span",[t._v("header")]):2==t.requestParamsVersionsList[i].paramsLocation?a("span",[t._v("query")]):3==t.requestParamsVersionsList[i].paramsLocation?a("span",[t._v("body")]):t._e()]),t._v(" "),a("td",[1==t.requestParamsVersionsList[i].paramsType?a("span",[t._v("String")]):2==t.requestParamsVersionsList[i].paramsType?a("span",[t._v("Integer")]):3==t.requestParamsVersionsList[i].paramsType?a("span",[t._v("Long")]):4==t.requestParamsVersionsList[i].paramsType?a("span",[t._v("Float")]):5==t.requestParamsVersionsList[i].paramsType?a("span",[t._v("Double")]):6==t.requestParamsVersionsList[i].paramsType?a("span",[t._v("Boolean")]):t._e()])])}),0):t._e()])])]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("常量参数")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.constParamsList}},[a("el-table-column",{attrs:{prop:"paramName",label:"后端参数名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"paramValue",label:"参数值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"paramsLocation",label:"参数位置",formatter:t.paramLocationFomatter}}),t._v(" "),a("el-table-column",{attrs:{prop:"paramDescription",label:"描述"}})],1)],1)]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("返回结果")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered",model:{value:t.apiInfoVersion,callback:function(e){t.apiInfoVersion=e},expression:"apiInfoVersion"}},[a("tbody",[a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("返回类型：\n                "),a("span",[t._v(t._s(1==t.apiInfoVersion.callBackType?"JSON":""))])])]),t._v(" "),a("tr",[a("td",{staticStyle:{float:"left",width:"50%",height:"200px"}},[t._v("返回结果示例：\n                "),a("span",{staticClass:"writePlaces",staticStyle:{width:"310px",display:"block",height:"160px",overflow:"auto"}},[t._v(t._s(t.apiInfoVersion.callBackSuccessExample))])]),t._v(" "),a("td",{staticStyle:{float:"right",width:"50%",height:"200px"}},[t._v("失败返回结果示例：\n                "),a("span",{staticClass:"errorWritePlaces",staticStyle:{width:"320px",display:"block",height:"160px",overflow:"auto"}},[t._v(t._s(t.apiInfoVersion.callBackFailExample))])])])])])])]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.look=!1}}},[t._v("关 闭")])],1)]),t._v(" "),a("div",{staticClass:"page"},[a("div",{staticStyle:{"margin-top":"20px","text-align":"right"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":this.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)])],1),t._v(" "),a("el-dialog",{attrs:{model:t.slideDatas,title:"API版本切换",visible:t.switchover,size:"tiny"},on:{"update:visible":function(e){t.switchover=e}}},[a("p",[t._v("您将在\n      "),a("span",{staticClass:"textRed"},[t._v(t._s(1==t.slideDatas.env?"线上":"预发"))]),t._v("环境，切换API：\n      "),a("span",{staticClass:"textRed"},[t._v(t._s(t.slideDatas.apiName))]),t._v("的版本，版本切换后将直接生效，请您确认。")]),t._v(" "),a("p",[t._v("当前版本：\n      "),a("span",[t._v(t._s(t.slideDatas.productEnvVersion))])]),t._v(" "),a("p",[t._v("切换到版本：\n      "),a("span",[t._v(t._s(t.slideDatas.versionId))])]),t._v(" "),a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"填写备注："}},[a("el-input",{staticClass:"w350",staticStyle:{width:"100%"},attrs:{type:"textarea",rows:4},model:{value:t.slideDatas.pubDescription,callback:function(e){t.$set(t.slideDatas,"pubDescription",e)},expression:"slideDatas.pubDescription"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.switchover=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.switchDetail}},[t._v("切 换")])],1)],1)],1)},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"authorityMsg",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w350 apiIdClass",attrs:{placeholder:"请输入APIID进行查询"},on:{change:function(e){return t.apiIdChange()}},model:{value:t.apiIdSearch,callback:function(e){t.apiIdSearch=e},expression:"apiIdSearch"}})],1),t._v(" "),a("el-form-item",[a("el-input",{staticClass:"w250",attrs:{placeholder:"请输入接口名称进行查询"},model:{value:t.port,callback:function(e){t.port=e},expression:"port"}})],1),t._v(" "),a("el-form-item",[t.searchBtn?a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:t.setDefaultSearch}},[t._v("搜 索")]):t._e()],1)],1),t._v(" "),a("el-table",{attrs:{data:t.tablegroup,"row-class-name":t.tableRowClassName},on:{"filter-change":t.tableChange}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiName",label:"API名称",width:"250px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.apiName,placement:"right"}},[a("router-link",{attrs:{to:{path:"combinationApi/combinationIdList",query:{combinationId:e.row.id}}}},[t._v(t._s(e.row.apiName))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"groupName",label:"分组"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiDescription",label:"描述"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.apiDescription,placement:"right"}},[a("span",[t._v(t._s(e.row.apiDescription))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"最后修改",formatter:t.dateFormat,width:"170px"}}),t._v(" "),a("el-table-column",{staticClass:"upEnv",attrs:{prop:"productEnvVersion",label:"运行环境","column-key":"runTimeEnv"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("env",{attrs:{rowData:e.row},on:{envLookData:t.lookData}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:{path:"combinationApi/combinationIdList",query:{combinationId:e.row.id}}}},[t.amendBtn?a("el-button",{staticClass:"radiusBtn mr10 pubColor",attrs:{type:"text",size:"small"}},[t._v("查看")]):t._e()],1)]}}])})],1),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),this.tablegroup.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{id:"pageOne","current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":this.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{staticStyle:{overflow:"auto",top:"-5%"},attrs:{title:"API定义详情",visible:t.look},on:{"update:visible":function(e){t.look=e}}},[a("queryApiDetail",{attrs:{apiDefineDetail:t.apiDefineDetail,requestParamsVersionsList:t.requestParamsVersionsList,backEndParam2:t.backEndParam2,resultSettingsVersionsList:t.resultSettingsVersionsList,detialVersionFlag:t.detialVersionFlag,numData2:t.numData2,groupHerfId:t.groupHerfId},on:{closeLook:function(e){t.look=!1}}})],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("div",{staticStyle:{display:"flex","padding-right":"15px"}},[a("el-form",{staticClass:"search_form",staticStyle:{flex:"1","vertical-align":"top"},attrs:{inline:!0}},[a("el-form-item",[a("el-form-item",{attrs:{label:"数据源",prop:"apiName"}},[a("el-select",{staticClass:"w9000",attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.searchParams.sourceName,callback:function(e){t.$set(t.searchParams,"sourceName",e)},expression:"searchParams.sourceName"}},t._l(t.groupAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.groupName,value:t.groupName}})}),1)],1),t._v(" "),a("el-date-picker",{staticClass:"w200",attrs:{rangeSeparator:"/",type:"datetimerange",placeholder:"选择时间范围"},on:{change:t.dateChange},model:{value:t.rangeDate,callback:function(e){t.rangeDate=e},expression:"rangeDate"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.dataSearch()}}},[t._v("搜 索")])],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"fr",attrs:{type:"primary addOne"},on:{click:function(e){return t.exportBill()}}},[t._v("下载")])],1)],1)],1),t._v(" "),a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("div",{staticStyle:{position:"relative"}},["table"===t.showType?[a("el-table",{staticStyle:{width:"100%",border:"1px solid #e6e6e6","border-top":"1px solid #e6e6e6"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName}},[t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"",type:"index",label:"序号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"groupName",label:"数据源名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"called",label:"调用量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"消费额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"日期",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.searchDetailInt(e.row)}}},[t._v("查看详情")])]}}],null,!1,1085680497)})],1),t._v(" "),this.tableData.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.searchParams.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchParams.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.pageNumChange}})],1):t._e(),t._v(" "),this.tableData.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e()]:t._e(),t._v(" "),a("el-dialog",{attrs:{title:"详情信息",visible:t.dialogTableVisible,size:"large"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listDetailLoading,expression:"listDetailLoading"}],staticStyle:{width:"100%",border:"1px solid #e6e6e6"},attrs:{data:t.detailsTable,"max-height":600,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"groupName",sortable:"",label:"数据源名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiId",label:"接口ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"count",label:"调用量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"消费额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"strategyName",label:"计费规则"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"日期",formatter:t.dateFormat}})],1),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"10px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"10px"},attrs:{"current-page":t.searchDetails.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchDetails.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalDetails},on:{"size-change":t.detailHandleSizeChange,"current-change":t.DetailHandleCurrentChange}})],1)],1)],2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flowDistribution",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w350",attrs:{placeholder:"请输入接口名称进行查询"},model:{value:t.searchFlowName,callback:function(e){t.searchFlowName=e},expression:"searchFlowName"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:t.apiFlowData}},[t._v("搜 索")])],1)],1),t._v(" "),a("el-table",{staticClass:"flowBorder",staticStyle:{"border-top":"8px solid #e6e6e6","border-bottom":"1px solid #e6e6e6"},attrs:{data:t.apiFlow,border:""}},[a("el-table-column",{attrs:{prop:"apiName",label:"接口名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiGroupName",label:"分组"}}),t._v(" "),a("el-table-column",{attrs:{label:"后端服务名称",width:"500"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("portName",{attrs:{rowFlowData:e.row,subApis:t.apiFlow,subApisData:e.row.subApis,apiFlowData:t.apiFlowData,parentMsg:t.parentMsg}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"weight",label:"权重",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("weight",{staticStyle:{border:"none"},attrs:{subApis:t.apiFlow,subApisData:e.row.subApis}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"province",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.addwetBtn?a("router-link",{attrs:{to:{path:"portManage",query:{num:2,id:e.row.id,groupId:e.row.groupId}}}},[a("el-button",{staticClass:"radiusBtn addWcolor",attrs:{type:"text",size:"small"}},[t._v("添加")])],1):t._e(),t._v(" "),t.wetBtn?a("el-button",{staticClass:"radiusBtn onBindColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.weightBtn(e.row.subApis)}}},[t._v("权重配置")]):t._e()]}}])})],1),t._v(" "),this.apiFlow.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("el-dialog",{attrs:{title:"权重配置",visible:t.weightFormVisible,size:"tiny"},on:{"update:visible":function(e){t.weightFormVisible=e}}},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("table",{staticClass:"table table-hover table-bordered"},[a("thead",[a("tr",[a("th",[t._v("后端服务名称")]),t._v(" "),a("th",[t._v("权重")])])]),t._v(" "),a("tbody",t._l(t.amendWeight,function(e){return a("tr",[a("td",[a("span",[t._v(t._s(e.interfaceName))])]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.weights,expression:"item.weights"}],staticClass:"form-control weightVal",domProps:{value:e.weights},on:{input:function(a){a.target.composing||t.$set(e,"weights",a.target.value)}}}),t._v(" "),a("p",{staticClass:"textRed din weightNum"},[t._v("权重只能是0-10之间的整数！")])])])}),0)])])]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.weightFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.amendWeightData}},[t._v("确 定")])],1)]),t._v(" "),this.apiFlow.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum,"page-sizes":[10,20,30,40],"page-size":this.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"topNav"},[i("div",{staticClass:"rule_engine_nav"},[t._m(0),t._v(" "),i("div",{staticClass:"header-item"},[[i("el-menu",{staticClass:"menu-header",attrs:{"default-active":t.activeName,mode:"horizontal"},on:{select:t.handleSelect}},t._l(t.columnItems,function(e){return i("el-menu-item",{key:e.id,attrs:{index:e.id+""}},[e.iconCode?i("i",{class:e.iconCode}):t._e(),t._v("\n            "+t._s(e.name)+"\n          ")])}),1)]],2),t._v(" "),i("div",{staticClass:"nav_box"},[i("ul",[i("li",{staticClass:"loginImg",on:{mouseover:function(e){t.loginTextState=!0},mouseout:function(e){t.loginTextState=!1}}},[t._v("你好，"),i("span",[t._v(t._s(t.logoName))]),t._v(" \n        "),t._v(" "),i("div",{staticClass:"userMag dinb",staticStyle:{width:"80px",color:"#fff",height:"60px"},on:{click:t.loginOut}},[i("img",{attrs:{src:a(1095),alt:""}}),t._v(" "),i("span",[t._v("退出")])])])])])]),t._v(" "),i("el-dialog",{attrs:{title:"修改密码",size:"tiny",visible:t.amendPassword},on:{"update:visible":function(e){t.amendPassword=e},close:t.closeDia}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"原始密码","label-width":t.formLabelWidth,prop:"oldPassword"}},[i("el-input",{staticClass:"w9000",attrs:{type:"password"},model:{value:t.ruleForm.oldPassword,callback:function(e){t.$set(t.ruleForm,"oldPassword",e)},expression:"ruleForm.oldPassword"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"新密码","label-width":t.formLabelWidth,prop:"newPassword"}},[i("el-input",{staticClass:"w9000",attrs:{type:"password"},model:{value:t.ruleForm.newPassword,callback:function(e){t.$set(t.ruleForm,"newPassword",e)},expression:"ruleForm.newPassword"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"确认新密码","label-width":t.formLabelWidth,prop:"confirmNewPassword"}},[i("el-input",{staticClass:"w9000",attrs:{type:"password"},model:{value:t.ruleForm.confirmNewPassword,callback:function(e){t.$set(t.ruleForm,"confirmNewPassword",e)},expression:"ruleForm.confirmNewPassword"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.amendPassword=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.modifyPassword("ruleForm")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lemon_logo_box"},[a("div",{staticClass:"lemon_logo"})])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ipList",staticStyle:{background:"#ffffff",height:"100%"}},[a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w350",attrs:{placeholder:"请输入IP进行查询"},model:{value:t.searchParams.ipAddress,callback:function(e){t.$set(t.searchParams,"ipAddress",e)},expression:"searchParams.ipAddress"}})],1),t._v(" "),a("el-form-item",[a("el-select",{staticClass:"w350",attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.searchParams.appKeyId,callback:function(e){t.$set(t.searchParams,"appKeyId",e)},expression:"searchParams.appKeyId"}},t._l(t.appKeyAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.appKey,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.handleCurrentChange(1)}}},[t._v("搜 索")]),t._v(" "),a("el-button",{staticClass:"searchOne",attrs:{type:"primary addOne"},on:{click:function(e){return t.openDialog()}}},[t._v("新 建")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.tablegroup,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"",type:"index",label:"序号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"appKey",label:"appKey"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ipAddress",label:"IP"}}),t._v(" "),a("el-table-column",{attrs:{prop:"description",label:"说明"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"exportBtn",attrs:{href:"javascript:void(0)"}},[a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.amendIp(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.delIp(e.row)}}},[t._v("删除")])],1)]}}])})],1),t._v(" "),this.tablegroup.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.searchParams.currPage,"page-sizes":[10,20,30,40],"page-size":t.searchParams.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:t.titleText,visible:t.creatIp,size:"tiny"},on:{"update:visible":function(e){t.creatIp=e},close:t.closeDialog}},[a("el-form",{ref:"addGroupDataRef",staticClass:"demo-ruleForm",attrs:{model:t.addGroupData}},[a("el-form-item",{attrs:{label:"IP地址：",prop:"ipAddress","label-width":t.formLabelWidth,rules:[{required:!0,message:"IP地址不能为空"}]}},[a("el-input",{staticClass:"w9000",model:{value:t.addGroupData.ipAddress,callback:function(e){t.$set(t.addGroupData,"ipAddress",e)},expression:"addGroupData.ipAddress"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"appKey：",prop:"appKeyId","label-width":t.formLabelWidth,rules:[{required:!0,message:"appKey不能为空"}]}},[a("el-select",{staticClass:"w9000",attrs:{filterable:"",clearable:"",placeholder:"请选择"},on:{change:t.appKeyChange},model:{value:t.appKeyId,callback:function(e){t.appKeyId=e},expression:"appKeyId"}},t._l(t.appKeyAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.appKey,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"说明：",prop:"description","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w9000",model:{value:t.addGroupData.description,callback:function(e){t.$set(t.addGroupData,"description",e)},expression:"addGroupData.description"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:t.closeDialog}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addIp("addGroupDataRef")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jsonData"},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.jsonTable},model:{value:t.activeNameJSon,callback:function(e){t.activeNameJSon=e},expression:"activeNameJSon"}},[a("el-tab-pane",{attrs:{label:"JSON导入",name:"first"}},["/portManage"==this.$route.path?a("el-input",{attrs:{type:"textarea",rows:10,cols:10,placeholder:"请输入内容"},model:{value:t.addApiData.apiInfo.responseConfigJson,callback:function(e){t.$set(t.addApiData.apiInfo,"responseConfigJson",e)},expression:"addApiData.apiInfo.responseConfigJson"}}):t._e(),t._v(" "),"/portManage/portApiManage"==this.$route.path?a("el-input",{attrs:{type:"textarea",rows:10,cols:10,placeholder:"请输入内容"},model:{value:t.apiList.responseConfigJson,callback:function(e){t.$set(t.apiList,"responseConfigJson",e)},expression:"apiList.responseConfigJson"}}):t._e(),t._v(" "),a("el-button",{staticClass:"mt20 addOne",attrs:{type:"primary"},on:{click:t.leadJson}},[t._v("导入")])],1),t._v(" "),a("el-tab-pane",{attrs:{label:"编辑导入",name:"second"}},[a("el-button",{staticClass:"radiusBtn fr pubColor",staticStyle:{position:"absolute",right:"5%","z-index":"999",top:"27px"},attrs:{type:"text",size:"small"},on:{click:t.addJson}},[t._v("添加")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.jsonArr,stripe:""}},[a("el-table-column",{attrs:{prop:"deep",label:"层级",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"key名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{on:{change:t.removeFous},model:{value:e.row.key,callback:function(a){t.$set(e.row,"key",a)},expression:"scope.row.key"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{on:{change:t.removeFous},model:{value:e.row.type,callback:function(a){t.$set(e.row,"type",a)},expression:"scope.row.type"}},t._l(t.typeOptions,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.label}})}),1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"transKey",label:"key转换"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{"visible-change":function(e){return t.keyData()},change:t.removeFous},model:{value:e.row.transKey,callback:function(a){t.$set(e.row,"transKey",a)},expression:"scope.row.transKey"}},t._l(t.keyOptions,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.label}})}),1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"是否抽取"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.removeFous},model:{value:e.row.isData,callback:function(a){t.$set(e.row,"isData",a)},expression:"scope.row.isData"}},t._l(t.isDataOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.codeMapFunc(e.$index,e.row)}}},[t._v("码值映射")]),t._v(" "),a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.delBtnFunc(e.$index)}}},[t._v("删除")]),t._v(" "),a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.addBtnFunc(e.$index,e.row)}}},[t._v("添加")])]}}])})],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"码值映射",modal:!1,visible:t.codeMap},on:{"update:visible":function(e){t.codeMap=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"选择转换的key","label-width":t.formLabelWidth}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:t.slideListVal},model:{value:t.valueKey,callback:function(e){t.valueKey=e},expression:"valueKey"}},t._l(t.optionsCode,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.optionMap}},[a("el-table-column",{attrs:{label:"value"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.row.orign,callback:function(a){t.$set(e.row,"orign",a)},expression:"scope.row.orign"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"value映射"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticClass:"targetDin",attrs:{filterable:"",placeholder:"请选择"},on:{"visible-change":t.slideListVal},model:{value:e.row.target,callback:function(a){t.$set(e.row,"target",a)},expression:"scope.row.target"}},t._l(t.optionsKey,function(e){return a("el-option",{key:e.label,attrs:{label:e.label+","+e.value,value:e.label+","+e.value}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.value))])])}),1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"radiusBtn",attrs:{type:"text",size:"small"},on:{click:function(a){return t.delCodeMap(e.$index)}}},[t._v("移除")])]}}])})],1),t._v(" "),a("el-button",{staticClass:"mt20",staticStyle:{"margin-top":"10px",padding:"10px 15px"},attrs:{type:"primary",size:"mini"},on:{click:t.addCodeMap}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"5px"}}),t._v("增加一条")]),t._v(" "),a("el-button",{staticClass:"mt20",staticStyle:{"margin-top":"10px",padding:"10px 15px"},attrs:{type:"primary",size:"mini"},on:{click:t.CodeMapDel}},[t._v("全部清空")]),t._v(" "),a("div",{staticClass:"dialog-footer fr mb20",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.codeMap=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addCodeMes()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.size?"el-button--"+t.size:"",{"is-disabled":t.disabled,"is-loading":t.loading,"is-plain":t.plain}],attrs:{disabled:t.disabled,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?a("i",{staticClass:"el-icon-loading",on:{click:t.handleInnerClick}}):t._e(),t._v(" "),t.icon&&!t.loading?a("i",{class:"el-icon-"+t.icon,on:{click:t.handleInnerClick}}):t._e(),t._v(" "),t.$slots.default?a("span",{on:{click:t.handleInnerClick}},[t._t("default")],2):t._e()])},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"codeMap",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w350",attrs:{placeholder:"请输入API名称进行查询"},model:{value:t.searchStrategy,callback:function(e){t.searchStrategy=e},expression:"searchStrategy"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:t.initData}},[t._v("搜 索")])],1)],1),t._v(" "),a("table",{staticClass:"tableBox",staticStyle:{"border-top":"8px solid #e6e6e6"},attrs:{data:t.codeData}},[t._m(0),t._v(" "),t._l(t.codeData,function(e){return a("tr",{staticStyle:{width:"100%"}},[a("td",{staticClass:"apiNameList"},[t._v(t._s(e.apiName))]),t._v(" "),a("td",{staticClass:"interfaceNameBox",attrs:{colspan:"5"}},[a("table",{staticStyle:{width:"100%"}},t._l(e.subApis,function(e){return a("tr",{},[a("td",{staticClass:"interfaceNameList"},[t._v("\n              "+t._s(e.interfaceName)+"\n            ")]),t._v(" "),a("td",{staticClass:"mappingBox"},[a("table",{staticStyle:{width:"100%"}},[t._l(e.mapping&&e.mapping.length>0?e.mapping:1,function(e){return a("tr",[a("td",{staticClass:"mappingList"},[a("div",{staticStyle:{display:"inline-block",width:"100%"}},[a("span",[t._v(t._s(e.key?e.key:"（无）"))])])]),t._v(" "),a("td",{staticClass:"mappingList"},[a("div",{staticStyle:{display:"inline-block",width:"100%"}},[a("span",[t._v(t._s(e.transKey?e.transKey:"（无）"))])])]),t._v(" "),a("td",{staticClass:"optionBox"},[a("table",{staticStyle:{width:"100%"}},t._l(e.option?e.option:1,function(e){return a("tr",[a("td",{staticClass:"optionList"},[a("div",{staticStyle:{width:"100%",height:"50px","line-height":"50px","padding-left":"20px","border-top":"1px solid #dfe6ec","border-left":"1px solid #dfe6ec"}},[a("span",{},[t._v(t._s(e.orign?e.orign:"（无）"))])])]),t._v(" "),a("td",{staticClass:"optionList"},[a("div",{staticStyle:{width:"100%",height:"50px","line-height":"50px","padding-left":"20px","border-top":"1px solid #dfe6ec","border-left":"1px solid #dfe6ec"}},[a("span",{},[t._v(t._s(e.target?e.target:"（无）"))])])])])}),0)])])}),t._v(" "),a("tr")],2)])])}),0)]),t._v(" "),a("td",{staticStyle:{width:"10%","border-top":"1px solid #dfe6ec","border-left":"1px solid #dfe6ec","padding-left":"20px"}},[a("span",{staticClass:"lookBtn bindColor",on:{click:function(a){return t.lookEvent(e)}}},[t._v("查看")]),t._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/247/excelUpload","show-file-list":!1,"http-request":t.filterFile}},[t.exportBtn?a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.codeLeadTwoBtn(e)}}},[t._v("导入")]):t._e()],1)],1)])})],2),t._v(" "),this.codeData.length<1?a("div",{staticClass:"teCen mt60"},[t._m(1),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"查看",visible:t.lookData,size:"tiny"},on:{"update:visible":function(e){t.lookData=e}}},[a("pre",[a("span",{staticClass:"writePlaces"},[t._v(t._s(t.callBack))])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.lookData=!1}}},[t._v("关闭")])],1)]),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum,"page-sizes":[10,20,30,40],"page-size":this.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"tableHead"},[a("td",{staticClass:"tabTitle"},[t._v("API名称")]),t._v(" "),a("td",{staticClass:"tabTitle"},[t._v("后端服务名称")]),t._v(" "),a("td",{staticClass:"tabTitle"},[t._v("抽取值Key")]),t._v(" "),a("td",{staticClass:"tabTitle"},[t._v("key映射")]),t._v(" "),a("td",{staticClass:"tabTitle"},[t._v("抽取value")]),t._v(" "),a("td",{staticClass:"tabTitle"},[t._v("value映射")]),t._v(" "),a("td",{staticClass:"actionTitle"},[t._v("操作")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-dialog",{attrs:{title:t.title,visible:t.value,"before-close":t.beforeClose,modal:t.modal}},[t.visible?t._t("default",null,{close:t.beforeClose,params:t.params}):t._e()],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"portApiManage",staticStyle:{background:"white"}},[a("div",{staticClass:"detailBtn",staticStyle:{padding:"8px 10px 0 0"}},[a("div",{staticClass:"fl"},[a("span",{staticClass:"detailNav"},[t._v("发现API")]),t._v(" "),a("router-link",{attrs:{to:"/findApi"}},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.amendGroupDetail=!0}}},[t._v("返回发现API")])],1)],1),t._v(" "),a("p",{staticStyle:{clear:"both"}})]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("名称及描述")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered"},[a("tbody",[a("tr",[a("td",[t._v("分组：\n              "),a("span",{domProps:{textContent:t._s(t.apiInfoVersion.groupName)}},[t._v("bbb222")])]),t._v(" "),a("td",[t._v("名称：\n              "),a("span",{domProps:{textContent:t._s(t.apiInfoVersion.apiName)}},[t._v("阿里云APP")])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("环境：\n              "),1==t.apiInfoVersion.env?a("span",[t._v("线上")]):2==t.apiInfoVersion.env?a("span",[t._v("预发")]):t._e()])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("描述：\n              "),a("span",{domProps:{textContent:t._s(t.apiInfoVersion.apiDescription)}},[t._v("hhh")])])])])])])]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("服务信息")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered"},[a("tbody",[a("tr",[t._m(0),t._v(" "),a("td",[t._v("Method：\n              "),1==t.apiInfoVersion.httpMethod?a("span",[t._v("GET")]):2==t.apiInfoVersion.httpMethod?a("span",[t._v("POST")]):t._e()])]),t._v(" "),a("tr",[a("td",[t._v("超时时间：\n              "),a("span",{domProps:{textContent:t._s(t.apiInfoVersion.backEndTimeout)}},[t._v("8000")]),t._v(" ms")]),t._v(" "),a("td",[t._v("Path：\n              "),a("span",{domProps:{textContent:t._s(t.apiInfoVersion.httpPath)}},[t._v("/verifybankcard3/query")])])])])])])]),t._v(" "),a("div",{staticClass:"panel panel-default",staticStyle:{position:"relative"}},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("请求入参")]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.requestParamsVersionsList,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"paramName",label:"参数名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"paramsLocation",label:"参数位置",formatter:t.paramLocationFomatter}}),t._v(" "),a("el-table-column",{attrs:{prop:"paramsType",label:"类型",formatter:t.paramTypeFomatter}}),t._v(" "),a("el-table-column",{attrs:{prop:"paramsMust",label:"是否必填",formatter:t.paramMustFomatter}}),t._v(" "),a("el-table-column",{attrs:{prop:"paramsDefaultValue",label:"默认值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"paramsExample",label:"示例"}}),t._v(" "),a("el-table-column",{attrs:{prop:"paramsDescription",label:"描述"}})],1)],1),t._v(" "),a("el-form",{staticClass:"moreMes",staticStyle:{width:"400px"}},[a("el-form-item",{attrs:{label:"最大长度","label-width":t.formLabelWidth}},[a("span",[t._v("14")])]),t._v(" "),a("el-form-item",{attrs:{label:"枚举","label-width":t.formLabelWidth}},[a("span",[t._v("无")])]),t._v(" "),a("el-form-item",{attrs:{label:"文档可见","label-width":t.formLabelWidth}},[a("span",[t._v("是")])]),t._v(" "),a("el-form-item",{attrs:{label:"文档中顺序","label-width":t.formLabelWidth}},[a("span",[t._v("默认")])]),t._v(" "),a("el-form-item",{attrs:{label:"参数验证","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w250",attrs:{type:"textarea",rows:3}})],1),t._v(" "),a("el-form-item",{attrs:{label:"JSON验证","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w250",attrs:{type:"textarea",rows:3}})],1)],1)],1),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("返回结果")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered"},[a("tbody",[t._m(1),t._v(" "),a("tr",[a("td",[t._v("返回结果示例：\n              "),a("span",{staticClass:"successWritePlaceDialog"},[t._v(t._s(t.apiInfoVersion.callBackSuccessExample))])]),t._v(" "),a("td",[t._v("失败返回结果示例：\n              "),a("span",{staticClass:"errorWritePlaceDialog"},[t._v(t._s(t.apiInfoVersion.callBackFailExample))])])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t._v("服务类型：\n              "),a("span",[t._v("HTTP")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("返回类型：\n              "),a("span",[t._v("JSON")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"apiText",staticStyle:{background:"#fff",padding:"8px"}},[null!==this.$route.query.productEnvVersion?a("div",{staticClass:"w1660fr"},[a("form",{attrs:{model:t.apiListData}},[a("div",{staticClass:"apiTextNav"},[a("span",{staticClass:"f20"},[t._v("URL")]),t._v(" "),a("p",[t._v(t._s(t.apiListData.url))])]),t._v(" "),a("div",{staticClass:"apiTextNav"},[a("span",{staticClass:"f20"},[t._v("HTTP请求方式")]),t._v(" "),a("p",[t._v(t._s(1==t.apiListData.httpMethod?"GET":"POST"))])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"apiTextNav"},[a("span",{staticClass:"f20"},[t._v("请求参数")]),t._v(" "),a("div",{staticClass:"panel panel-default",staticStyle:{position:"relative"}},[a("div",{staticClass:"console-panel-header"},[a("table",{staticClass:"table table-hover table-bordered"},[t._m(1),t._v(" "),a("tbody",t._l(t.requestParamsList,function(e){return a("tr",[a("td",[a("span",[t._v(t._s(e.paramName))])]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.paramsMust?"是":"否"))])]),t._v(" "),a("td",[1==e.paramsType?a("span",[t._v("String")]):2==e.paramsType?a("span",[t._v("Integer")]):3==e.paramsType?a("span",[t._v("Long")]):4==e.paramsType?a("span",[t._v("Float")]):5==e.paramsType?a("span",[t._v("Double")]):6==e.paramsType?a("span",[t._v("Boolean")]):t._e()]),t._v(" "),a("td",[a("span",[t._v(t._s(e.paramsDescription))])])])}),0)])])])]),t._v(" "),a("div",{staticClass:"apiTextNav"},[a("span",{staticClass:"f20"},[t._v("结果返回示例")]),t._v(" "),a("p",{staticClass:"successWritePlaceDialog"},[t._v(t._s(t.apiListData.callBackSuccessExample))])])])]):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"apiTextNav"},[a("span",{staticClass:"f20"},[t._v("支持格式")]),t._v(" "),a("p",[t._v("JSON")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("说明")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("el-tabs",{staticStyle:{background:"#ffffff",height:"100%"},attrs:{type:"card"},on:{"tab-click":t.handleTabClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"日账单",name:"day"}},[a("datasource-bill-day")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"月账单",name:"month"}},[a("datasource-bill-month")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"年账单",name:"year"}},[a("datasource-bill-year")],1)],1)],1)},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"findApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w350",attrs:{placeholder:"请以'535 535-590'格式输入apiId进行查询"},model:{value:t.searchApiId,callback:function(e){t.searchApiId=e},expression:"searchApiId"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.initData()}}},[t._v("搜 索")])],1),t._v(" "),t.outOfflineBtn?a("el-button",{staticClass:"fr",staticStyle:{"margin-right":"40px"},attrs:{type:"primary addOne"},on:{click:function(e){return t.outOffBtn()}}},[t._v("一键下线")]):t._e(),t._v(" "),t.outBtn?a("el-button",{staticClass:"fr",staticStyle:{"margin-right":"10px"},attrs:{type:"primary addOne"},on:{click:function(e){return t.publishBtn()}}},[t._v("一键发布")]):t._e(),t._v(" "),t.contractBtn?a("el-button",{staticClass:"fr",attrs:{type:"primary addOne"},on:{click:function(e){return t.contractBtnhandle()}}},[t._v("一键合约")]):t._e(),t._v(" "),t.exportBtn?a("el-button",{staticClass:"fr",attrs:{type:"primary addOne"},on:{click:function(e){return t.exportBtnClick()}}},[t._v("一键导出")]):t._e()],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.tablegroup,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"id",label:"apiId",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiName",label:"API名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.apiName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"groupName",label:"分组"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiDescription",label:"描述",width:"350"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"最后修改",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{staticClass:"upEnv",attrs:{prop:"productEnvVersion",label:"运行环境","column-key":"runTimeEnv"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("env",{attrs:{rowData:e.row},on:{envLookData:t.lookData}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"exportBtn",attrs:{href:"javascript:void(0)"}},[t.exlBtn?a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.removeIdList.includes(e.row.id),expression:"removeIdList.includes(scope.row.id)"}],staticClass:"radiusBtn pubColor",attrs:{type:"info",size:"small",disabled:""},on:{click:function(a){return t.delApi(e.$index,e.row)}}},[t._v("取消")]):t._e(),t._v(" "),t.exlBtn?a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.removeIdList.includes(e.row.id),expression:"!removeIdList.includes(scope.row.id)"}],staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.delApi(e.$index,e.row)}}},[t._v("取消")]):t._e()],1)]}}])})],1),t._v(" "),this.tablegroup.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum,"page-sizes":[10,20,30,40],"page-size":this.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:t.titleTab,visible:t.issue,size:"tiny"},on:{"update:visible":function(e){t.issue=e}}},[a("div",[a("el-form",{ref:"outObj",staticClass:"demo-ruleForm",attrs:{model:t.outObj}},[a("p",{staticStyle:{"font-weight":"700"}},[t._v("请选择要"),a("span",[t._v(t._s(t.offText))]),t._v("的环境：")]),t._v(" "),"发布API："==t.titleTab?a("el-form-item",{attrs:{prop:"pubDescription",label:"请填写变更备注：",rules:[{required:!0,message:"备注不能为空"},{min:1,max:180,message:"长度在 1 到 180 个字符",trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"必填，不超过180个字符","auto-complete":"off"},model:{value:t.outObj.pubDescription,callback:function(e){t.$set(t.outObj,"pubDescription",e)},expression:"outObj.pubDescription"}})],1):t._e(),t._v(" "),a("p",{staticClass:"textRed"},[t._v("如果您设置了使用Mock，实际请求则不会调用到后端服务， 请仔细确认")]),t._v(" "),a("p",[t._v("该操作将导致线上环境的该API被覆盖，请仔细确认")])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.issue=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.outApi("outObj")}}},[t._v(t._s(t.offText))])],1)],1)]),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"创建",visible:t.contractDialog,size:"tiny"},on:{"update:visible":function(e){t.contractDialog=e}}},[a("el-form",{ref:"addPortForm",staticClass:"demo-ruleForm",attrs:{model:t.addPortForm,rules:t.addPortFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"appKey：","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{staticClass:"w9000",model:{value:t.addPortForm.appKey,callback:function(e){t.$set(t.addPortForm,"appKey",e)},expression:"addPortForm.appKey"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){return t.callOf("addPortForm")}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addaut("addPortForm")}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{staticStyle:{overflow:"auto",top:"-5%"},attrs:{title:"API定义详情",visible:t.look},on:{"update:visible":function(e){t.look=e}}},[a("queryApiDetail",{attrs:{apiDefineDetail:t.apiDefineDetail,requestParamsVersionsList:t.requestParamsVersionsList,backEndParam2:t.backEndParam2,resultSettingsVersionsList:t.resultSettingsVersionsList,detialVersionFlag:t.detialVersionFlag,numData2:t.numData2,groupHerfId:t.groupHerfId},on:{closeLook:function(e){t.look=!1}}})],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("el-tabs",{staticStyle:{background:"#ffffff",height:"100%"},attrs:{type:"card"},on:{"tab-click":t.handleTabClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"日账单",name:"day"}},[a("customer-bill-day")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"月账单",name:"month"}},[a("customer-bill-month")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"年账单",name:"year"}},[a("customer-bill-year")],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flowControl",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入名字进行查询"},model:{value:t.searchParams.name,callback:function(e){t.$set(t.searchParams,"name",e)},expression:"searchParams.name"}})],1),t._v(" "),a("el-form-item",[a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入请求路径进行查询"},model:{value:t.searchParams.path,callback:function(e){t.$set(t.searchParams,"path",e)},expression:"searchParams.path"}})],1),t._v(" "),a("el-form-item",[a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入服务ID进行查询"},model:{value:t.searchParams.serviceId,callback:function(e){t.$set(t.searchParams,"serviceId",e)},expression:"searchParams.serviceId"}})],1),t._v(" "),a("el-form-item",[a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入URL进行查询"},model:{value:t.searchParams.url,callback:function(e){t.$set(t.searchParams,"url",e)},expression:"searchParams.url"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.searchInit()}}},[t._v("搜 索")])],1),t._v(" "),t.createBtN?a("el-button",{staticClass:"createApi_btn",staticStyle:{top:"0"},attrs:{type:"primary addOne"},on:{click:t.addHandle}},[t._v("新增")]):t._e()],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.flowData,"tooltip-effect":"dark","row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"name",label:"名字"}}),t._v(" "),a("el-table-column",{attrs:{prop:"path",label:"请求路径"}}),t._v(" "),a("el-table-column",{attrs:{prop:"serviceId",label:"服务ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"url",label:"URL"}}),t._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stripPrefix",label:"stripPrefix",formatter:t.boolFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"retryable",label:"retryable",formatter:t.boolFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"enabled",label:"enabled",formatter:t.boolFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.updateBtn?a("el-button",{staticClass:"radiusBtn onBindColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.updateHandle(e.row)}}},[t._v("编辑")]):t._e(),t._v(" "),t.deleteBtn?a("el-button",{staticClass:"radiusBtn amendColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.delApiBtn(e.$index,e.row)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),t.flowData.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.current,"page-sizes":[10,20,30,40],"page-size":t.searchParams.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),t._v(" "),a("el-dialog",{attrs:{title:t.titleTab,visible:t.creataut,size:"tiny"},on:{"update:visible":function(e){t.creataut=e},close:function(t){}}},[a("el-form",{ref:"addPortForm",staticClass:"demo-ruleForm",attrs:{model:t.addPortForm,rules:t.addPortFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称：","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{staticClass:"w9000",model:{value:t.addPortForm.name,callback:function(e){t.$set(t.addPortForm,"name",e)},expression:"addPortForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"请求路径：","label-width":t.formLabelWidth,prop:"path"}},[a("el-input",{staticClass:"w9000",model:{value:t.addPortForm.path,callback:function(e){t.$set(t.addPortForm,"path",e)},expression:"addPortForm.path"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"服务ID：","label-width":t.formLabelWidth,prop:"serviceId"}},[a("el-input",{staticClass:"w9000",model:{value:t.addPortForm.serviceId,callback:function(e){t.$set(t.addPortForm,"serviceId",e)},expression:"addPortForm.serviceId"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"URL：","label-width":t.formLabelWidth,prop:"url"}},[a("el-input",{staticClass:"w9000",model:{value:t.addPortForm.url,callback:function(e){t.$set(t.addPortForm,"url",e)},expression:"addPortForm.url"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"stripPrefix：","label-width":t.formLabelWidth,prop:"stripPrefix"}},[a("el-select",{staticClass:"w9000",attrs:{placeholder:"请选择stripPrefix"},model:{value:t.addPortForm.stripPrefix,callback:function(e){t.$set(t.addPortForm,"stripPrefix",t._n(e))},expression:"addPortForm.stripPrefix"}},t._l(t.boolAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"retryable：","label-width":t.formLabelWidth,prop:"retryable"}},[a("el-select",{staticClass:"w9000",attrs:{placeholder:"请选择retryable"},model:{value:t.addPortForm.retryable,callback:function(e){t.$set(t.addPortForm,"retryable",t._n(e))},expression:"addPortForm.retryable"}},t._l(t.boolAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"enabled：","label-width":t.formLabelWidth,prop:"enabled"}},[a("el-select",{staticClass:"w9000",attrs:{placeholder:"请选择enabled"},model:{value:t.addPortForm.enabled,callback:function(e){t.$set(t.addPortForm,"enabled",t._n(e))},expression:"addPortForm.enabled"}},t._l(t.boolAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：","label-width":t.formLabelWidth,prop:"description"}},[a("el-input",{staticClass:"w9000",model:{value:t.addPortForm.description,callback:function(e){t.$set(t.addPortForm,"description",t._n(e))},expression:"addPortForm.description"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){return t.callOf("addPortForm")}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addaut("addPortForm")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("apiListNav",{attrs:{activeIndex:3}}),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("el-form",{ref:"addApiData3",staticClass:"demo-ruleForm",attrs:{model:t.addApiData}},[a("el-form-item",{attrs:{label:"后端服务名称",prop:"apiInfo.interfaceName","label-width":t.formLabelWidth,rules:[{required:!0,validator:t.interfaceNameVal,trigger:"blur"}]}},[a("el-input",{staticClass:"w350",attrs:{type:"interfaceName","auto-complete":"off"},model:{value:t.addApiData.apiInfo.interfaceName,callback:function(e){t.$set(t.addApiData.apiInfo,"interfaceName",e)},expression:"addApiData.apiInfo.interfaceName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"后端服务类型","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w350",on:{"visible-change":function(e){return t.slideList(t.addApiData.apiInfo.backendProtocolType)}},model:{value:t.addApiData.apiInfo.backendProtocolType,callback:function(e){t.$set(t.addApiData.apiInfo,"backendProtocolType",e)},expression:"addApiData.apiInfo.backendProtocolType"}},t._l(t.backendProtocolTypeOptions,function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})}),1)],1),t._v(" "),1==t.addApiData.apiInfo.backendProtocolType||2==t.addApiData.apiInfo.backendProtocolType?a("el-form-item",{attrs:{label:"A中心地址",prop:"apiInfo.backEndAddress","label-width":t.formLabelWidth,rules:[{required:!0,validator:t.checkBackAddress,trigger:"blur"}]}},[a("el-input",{staticClass:"w350",attrs:{type:"backEndAddress","auto-complete":"off"},model:{value:t.addApiData.apiInfo.backEndAddress,callback:function(e){t.$set(t.addApiData.apiInfo,"backEndAddress",e)},expression:"addApiData.apiInfo.backEndAddress"}})],1):t._e(),t._v(" "),3==t.addApiData.apiInfo.backendProtocolType?a("el-form-item",{attrs:{label:"A中心地址",prop:"apiInfo.backEndAddress","label-width":t.formLabelWidth,rules:[{required:!0,validator:t.checkBackAddress2,trigger:"blur"}]}},[a("el-input",{staticClass:"w350",attrs:{type:"backEndAddress","auto-complete":"off"},model:{value:t.addApiData.apiInfo.backEndAddress,callback:function(e){t.$set(t.addApiData.apiInfo,"backEndAddress",e)},expression:"addApiData.apiInfo.backEndAddress"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"B中心地址",prop:"apiInfo.backEndAddressB","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w350",attrs:{type:"backEndAddressB","auto-complete":"off"},model:{value:t.addApiData.apiInfo.backEndAddressB,callback:function(e){t.$set(t.addApiData.apiInfo,"backEndAddressB",e)},expression:"addApiData.apiInfo.backEndAddressB"}})],1),t._v(" "),3!==t.addApiData.apiInfo.backendProtocolType?a("el-form-item",{attrs:{label:"后端请求Path",prop:"apiInfo.backEndPath","label-width":t.formLabelWidth,rules:[{validator:t.checkReqPathBackend,required:!0,trigger:"blur"}]}},[a("el-input",{staticClass:"w350",attrs:{type:"backEndPath","auto-complete":"off"},model:{value:t.addApiData.apiInfo.backEndPath,callback:function(e){t.$set(t.addApiData.apiInfo,"backEndPath",e)},expression:"addApiData.apiInfo.backEndPath"}})],1):t._e(),t._v(" "),3!==t.addApiData.apiInfo.backendProtocolType?a("el-form-item",{attrs:{label:"HTTP Method","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w350",on:{change:t.changeHTTP},model:{value:t.addApiData.apiInfo.backEndHttpMethod,callback:function(e){t.$set(t.addApiData.apiInfo,"backEndHttpMethod",e)},expression:"addApiData.apiInfo.backEndHttpMethod"}},t._l(t.httpMethodOptions,function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})}),1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"后端超时",prop:"apiInfo.backEndTimeout","label-width":t.formLabelWidth,rules:[{validator:t.backTimeCheckUnEmpty,required:!0,trigger:"blur"}]}},[a("el-input",{staticClass:"w350",attrs:{"auto-complete":"off"},model:{value:t.addApiData.apiInfo.backEndTimeout,callback:function(e){t.$set(t.addApiData.apiInfo,"backEndTimeout",t._n(e))},expression:"addApiData.apiInfo.backEndTimeout"}}),t._v("　ms\n    ")],1),t._v(" "),a("el-form-item",{attrs:{label:"权重",prop:"apiInfo.weight","label-width":t.formLabelWidth,rules:[{validator:t.weightCheckUnEmpty,required:!0,trigger:"blur"}]}},[a("el-input",{staticClass:"w350",model:{value:t.addApiData.apiInfo.weight,callback:function(e){t.$set(t.addApiData.apiInfo,"weight",t._n(e))},expression:"addApiData.apiInfo.weight"}})],1),t._v(" "),1!==this.$route.query.num?a("el-form-item",{attrs:{label:"是否计费","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w350",model:{value:t.addApiData.apiInfo.charge,callback:function(e){t.$set(t.addApiData.apiInfo,"charge",e)},expression:"addApiData.apiInfo.charge"}},t._l(t.chargeOptions,function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})}),1)],1):t._e(),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":function(t){}},model:{value:t.activeBack,callback:function(e){t.activeBack=e},expression:"activeBack"}},[a("el-tab-pane",{attrs:{label:"后端服务参数配置",name:"backValTab"}},[a("table",{staticClass:"table table-hover table-bordered"},[a("thead",[a("tr",[a("th",[t._v("后端参数名称")]),t._v(" "),a("th",[t._v("后端参数位置")]),t._v(" "),a("th",[t._v("对应入参名称")]),t._v(" "),a("th",[t._v("对应入参位置")]),t._v(" "),a("th",[t._v("对应入参类型")])])]),t._v(" "),a("tbody",t._l(t.backEndParam,function(e,i){return a("tr",[a("td",[a("el-input",{staticClass:"inputValidate2",on:{change:function(a){return t.paraNameVal2(e.paramName,i)}},model:{value:e.paramName,callback:function(a){t.$set(e,"paramName",a)},expression:"item.paramName"}}),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate2"},[t._v("请输入正确格式的参数，不能为空！")]),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate8"},[t._v("长度在1到200个字符")])],1),t._v(" "),a("td",[a("el-select",{model:{value:e.paramsLocation,callback:function(a){t.$set(e,"paramsLocation",a)},expression:"item.paramsLocation"}},t._l(t.paramsLocationOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("td",[a("el-input",{attrs:{type:"text",disabled:""},model:{value:t.addApiData.requestParamsList[i].paramName,callback:function(e){t.$set(t.addApiData.requestParamsList[i],"paramName",e)},expression:"addApiData.requestParamsList[index].paramName"}})],1),t._v(" "),a("td",[a("el-select",{attrs:{disabled:""},model:{value:t.addApiData.requestParamsList[i].paramsLocation,callback:function(e){t.$set(t.addApiData.requestParamsList[i],"paramsLocation",e)},expression:"addApiData.requestParamsList[index].paramsLocation"}},t._l(t.paramsLocationOptions,function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})}),1)],1),t._v(" "),a("td",[a("el-select",{attrs:{disabled:""},model:{value:t.addApiData.requestParamsList[i].paramsType,callback:function(e){t.$set(t.addApiData.requestParamsList[i],"paramsType",e)},expression:"addApiData.requestParamsList[index].paramsType"}},t._l(t.paramsTypeOptions,function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})}),1)],1)])}),0)])]),t._v(" "),a("el-tab-pane",{attrs:{label:"jsonConfig",name:"jsonConfigTab"}},[a("el-input",{staticStyle:{width:"800px"},attrs:{type:"textarea",rows:6},on:{blur:t.configFous},model:{value:t.addApiData.apiInfo.jsonConfig,callback:function(e){t.$set(t.addApiData.apiInfo,"jsonConfig",e)},expression:"addApiData.apiInfo.jsonConfig"}})],1)],1)],1)]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick}},[3!==t.addApiData.apiInfo.backendProtocolType?a("el-tab-pane",{attrs:{label:"常量参数"}},[a("table",{staticClass:"table table-hover table-bordered"},[a("thead",[a("tr",[a("th",[t._v("后端参数名称")]),t._v(" "),a("th",[t._v("参数值")]),t._v(" "),a("th",[t._v("参数位置")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("操作")])])]),t._v(" "),a("tbody",t._l(t.numData,function(e,i){return a("tr",[a("td",[a("el-input",{staticClass:"inputValidate4",on:{change:function(a){return t.paraNameVal4(e.paramName,i)}},model:{value:e.paramName,callback:function(a){t.$set(e,"paramName",a)},expression:"item.paramName"}}),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate4"},[t._v("请输入正确格式的参数，不能为空！")]),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate7"},[t._v("长度在1到200个字符")])],1),t._v(" "),a("td",[a("el-input",{staticClass:"inputValidate5",on:{change:function(a){return t.paraNameVal5(e.paramValue,i)}},model:{value:e.paramValue,callback:function(a){t.$set(e,"paramValue",a)},expression:"item.paramValue"}}),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate5"},[t._v("请输入正确格式的参数值，不能为空！")]),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate6"},[t._v("长度在1到200个字符")])],1),t._v(" "),a("td",[a("el-select",{model:{value:e.paramsLocation,callback:function(a){t.$set(e,"paramsLocation",a)},expression:"item.paramsLocation"}},t._l(t.paramsLocationOptions,function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})}),1)],1),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.paramDescription,expression:"item.paramDescription"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.paramDescription},on:{input:function(a){a.target.composing||t.$set(e,"paramDescription",a.target.value)}}})]),t._v(" "),a("td",[a("el-button",{staticClass:"radiusBtn",attrs:{type:"text",size:"small"},on:{click:function(e){return t.delTable2(i)}}},[t._v("移除")])],1)])}),0)]),t._v(" "),a("el-button",{staticStyle:{"margin-top":"10px",padding:"10px 15px",width:"97px"},attrs:{type:"primary",size:"mini"},on:{click:t.addTable2}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"5px"}}),t._v("增加一条")])],1):t._e(),t._v(" "),3!==t.addApiData.apiInfo.backendProtocolType?a("el-tab-pane",{attrs:{label:"JSON"}},t._l(t.numDataJson,function(e,i){return a("tr",[a("el-input",{staticStyle:{width:"800px"},attrs:{type:"textarea",rows:6},model:{value:e.paramValue,callback:function(a){t.$set(e,"paramValue",a)},expression:"item.paramValue"}})],1)}),0):t._e(),t._v(" "),a("el-tab-pane",{attrs:{label:"XML"}},t._l(t.numDataXml,function(e,i){return a("tr",[a("el-input",{staticStyle:{width:"800px"},attrs:{type:"textarea",rows:6},model:{value:e.paramValue,callback:function(a){t.$set(e,"paramValue",a)},expression:"item.paramValue"}})],1)}),0)],1)],1)]),t._v(" "),a("div",{staticClass:"dialog-footer teCen"},[1==this.$route.query.num||2==this.$route.query.num?a("el-button",{staticClass:"searchOne",attrs:{type:"info",disabled:!0}},[t._v("上 一 步")]):t._e(),t._v(" "),null==this.$route.query.num?a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:t.preStep}},[t._v("上 一 步")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.nextStep}},[t._v("下 一 步")])],1)],1)],1)},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flowMonitoring",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[i("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"键值管理",name:"first"}},[i("el-form",{staticClass:"search_form",attrs:{inline:!0}},[i("el-form-item",[i("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.dictType,callback:function(e){t.dictType=e},expression:"dictType"}},t._l(t.typeNameOptions,function(t){return i("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1),t._v(" "),i("el-input",{staticClass:"w350",attrs:{placeholder:"请输入键值进行查询"},model:{value:t.dictCodes,callback:function(e){t.dictCodes=e},expression:"dictCodes"}})],1),t._v(" "),i("el-form-item",[i("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.initData()}}},[t._v("搜 索")])],1)],1),t._v(" "),t.addJBtn?i("el-button",{attrs:{type:"primary addOne ml20"},on:{click:t.addCode}},[t._v("添加键值")]):t._e(),t._v(" "),t.typeBtn?i("el-button",{attrs:{type:"primary addOne"},on:{click:function(e){t.addTypeData(),t.typeData()}}},[t._v("类别管理")]):t._e(),t._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.codeData,"tooltip-effect":"dark","row-class-name":t.tableRowClassName}},[i("el-table-column",{attrs:{prop:"dictValue",label:"键值"}}),t._v(" "),i("el-table-column",{attrs:{prop:"typeName",label:"类别"}}),t._v(" "),i("el-table-column",{attrs:{prop:"dictName",label:"名称"}}),t._v(" "),i("el-table-column",{attrs:{prop:"",label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.delBtnO?i("el-button",{staticClass:"radiusBtn delColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.delCode(e.row)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),this.codeData.length<1?i("div",{staticClass:"teCen mt60"},[i("p",[i("img",{attrs:{src:a(8)}})]),t._v(" "),i("span",[t._v("暂无数据")])]):t._e(),t._v(" "),this.codeData.length>0?i("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[i("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum,"page-sizes":[10,20,30,40],"page-size":this.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1),t._v(" "),i("el-tab-pane",{attrs:{label:"码值管理",name:"second"}},[i("el-form",{staticClass:"search_form",attrs:{inline:!0}},[i("el-form-item",[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},on:{"visible-change":t.slideList},model:{value:t.valueKey,callback:function(e){t.valueKey=e},expression:"valueKey"}},t._l(t.optionsKey,function(t){return i("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1),t._v(" "),i("el-input",{staticClass:"w350",attrs:{placeholder:"请输入码值进行查询"},model:{value:t.dictCode,callback:function(e){t.dictCode=e},expression:"dictCode"}})],1),t._v(" "),i("el-form-item",[i("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.codeValMapTwo()}}},[t._v("搜 索")])],1)],1),t._v(" "),t.addMBtn?i("el-button",{attrs:{type:"primary addOne ml20"},on:{click:function(e){t.codeValMsg=!0}}},[t._v("添加码值")]):t._e(),t._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.codeValMap,"tooltip-effect":"dark","row-class-name":t.tableRowClassName2}},[i("el-table-column",{attrs:{prop:"dictValue",label:"key"}}),t._v(" "),i("el-table-column",{attrs:{prop:"dictItemValue",label:"码值"}}),t._v(" "),i("el-table-column",{attrs:{prop:"dictItemName",label:"码值描述"}}),t._v(" "),i("el-table-column",{attrs:{prop:"",label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.delBtnT?i("el-button",{staticClass:"radiusBtn delColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.delCodeMap(e.row)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),this.codeValMap.length<1?i("div",{staticClass:"teCen mt60"},[i("p",[i("img",{attrs:{src:a(8)}})]),t._v(" "),i("span",[t._v("暂无数据")])]):t._e(),t._v(" "),this.codeValMap.length>0?i("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[i("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum2,"page-sizes":[10,20,30,40],"page-size":this.pageSize2,layout:" sizes, prev, pager, next, jumper",total:t.total2},on:{"size-change":t.handleSizeChange2,"current-change":t.handleCurrentChange2}})],1):t._e()],1)],1),t._v(" "),i("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"添加键值",visible:t.codeVal,size:"tiny"},on:{"update:visible":function(e){t.codeVal=e}}},[i("el-form",{ref:"addCodeMes",staticClass:"demo-ruleForm",attrs:{model:t.addCodeMes}},[i("el-form-item",{attrs:{label:"键值",prop:"dictValueOne","label-width":t.formLabelWidth,rules:[{required:!0,message:"键值不能为空"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}]}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addCodeMes.dictValueOne,callback:function(e){t.$set(t.addCodeMes,"dictValueOne",e)},expression:"addCodeMes.dictValueOne"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"类别","label-width":t.formLabelWidth,rules:[{required:!0,message:"类别不能为空"}]}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.typeNameOptions2Res,callback:function(e){t.typeNameOptions2Res=e},expression:"typeNameOptions2Res"}},t._l(t.typeNameOptions2,function(t){return i("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1),t._v(" "),i("el-button",{staticClass:"ml35 addWcolor",staticStyle:{color:"#FEBD49"},attrs:{type:"text"},on:{click:function(e){return t.addtypeBtn()}}},[t._v("新建分类")])],1),t._v(" "),i("el-form-item",{attrs:{label:"名称",prop:"dictNamesDic","label-width":t.formLabelWidth,rules:[{required:!0,message:"名称不能为空"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}]}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addCodeMes.dictNamesDic,callback:function(e){t.$set(t.addCodeMes,"dictNamesDic",e)},expression:"addCodeMes.dictNamesDic"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"cancelBtn",on:{click:function(e){return t.callOfCode("addCodeMes")}}},[t._v("取 消")]),t._v(" "),i("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addCodeVal("addCodeMes")}}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"类别管理",visible:t.otherVal,size:"tiny"},on:{"update:visible":function(e){t.otherVal=e}}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"添加类别"},on:{change:t.validateT},model:{value:t.addType,callback:function(e){t.addType=e},expression:"addType"}}),t._v(" "),i("el-table",{staticStyle:{width:"100%",height:"250px",overflow:"auto"},attrs:{data:t.typeDia,border:""}},[i("el-table-column",{attrs:{prop:"name",label:"类别",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticClass:"radiusBtn amendColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.amendCode(e.row)}}},[t._v("编辑")]),t._v(" "),i("el-button",{staticClass:"radiusBtn delColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.delType(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.otherVal=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addTypeBtn()}}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"编辑类别",visible:t.amendType,size:"tiny"},on:{"update:visible":function(e){t.amendType=e}}},[i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.typeName,callback:function(e){t.typeName=e},expression:"typeName"}}),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.amendType=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.amendTypeBtn()}}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"添加码值",visible:t.codeValMsg,size:"tiny"},on:{"update:visible":function(e){t.codeValMsg=e}}},[i("el-form",{ref:"codeMapMes",staticClass:"demo-ruleForm",attrs:{model:t.codeMapMes}},[i("el-form-item",{attrs:{label:"key","label-width":t.formLabelWidth,rules:[{required:!0,message:"key不能为空"}]}},[i("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.valueKey2,callback:function(e){t.valueKey2=e},expression:"valueKey2"}},t._l(t.keyOptions,function(t){return i("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"码值",prop:"dictValueTwo","label-width":t.formLabelWidth,rules:[{required:!0,message:"码值不能为空"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}]}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.codeMapMes.dictValueTwo,callback:function(e){t.$set(t.codeMapMes,"dictValueTwo",e)},expression:"codeMapMes.dictValueTwo"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"码值描述","label-width":t.formLabelWidth,prop:"dictItemNameTwo",rules:[{required:!0,message:"码值描述不能为空"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}]}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.codeMapMes.dictItemNameTwo,callback:function(e){t.$set(t.codeMapMes,"dictItemNameTwo",e)},expression:"codeMapMes.dictItemNameTwo"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"cancelBtn",on:{click:function(e){return t.callOf("codeMapMes")}}},[t._v("取 消")]),t._v(" "),i("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.codeValMsgRes("codeMapMes")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("canvas",{attrs:{id:t.id,width:t.width,height:t.height}})},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("div",{staticStyle:{display:"flex","padding-right":"15px"}},[a("el-form",{staticClass:"search_form",staticStyle:{flex:"1","vertical-align":"top"},attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入appKey进行查询"},model:{value:t.searchParams.appKey,callback:function(e){t.$set(t.searchParams,"appKey",e)},expression:"searchParams.appKey"}}),t._v(" "),a("el-date-picker",{staticClass:"w200",attrs:{rangeSeparator:"/",type:"datetimerange",placeholder:"选择时间范围"},on:{change:t.dateChange},model:{value:t.rangeDate,callback:function(e){t.rangeDate=e},expression:"rangeDate"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.dataSearch()}}},[t._v("搜 索")])],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"fr",attrs:{type:"primary addOne"},on:{click:function(e){return t.exportBill()}}},[t._v("下载")])],1)],1)],1),t._v(" "),a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("div",{staticStyle:{position:"relative"}},["table"===t.showType?[a("el-table",{staticStyle:{width:"100%",border:"1px solid #e6e6e6"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"",type:"index",label:"序号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"appKey",label:"客户名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"called",label:"调用量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"剩余量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"消费额",formatter:t.dataFixed}}),t._v(" "),a("el-table-column",{attrs:{prop:"balance",label:"余额",formatter:t.dataFixed}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"日期",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.searchDetailInt(e.row)}}},[t._v("查看详情")])]}}],null,!1,1085680497)})],1),t._v(" "),this.tableData.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.searchParams.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchParams.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.pageNumChange}})],1):t._e(),t._v(" "),this.tableData.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e()]:t._e(),t._v(" "),a("el-dialog",{attrs:{title:"详情信息",visible:t.dialogTableVisible,size:"large"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listDetailLoading,expression:"listDetailLoading"}],staticStyle:{width:"100%",border:"1px solid #e6e6e6"},attrs:{data:t.detailsTable,"max-height":600,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"appKey",sortable:"",label:"客户名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiId",label:"接口ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"count",label:"调用量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"消费额",formatter:t.dataFixed}}),t._v(" "),a("el-table-column",{attrs:{prop:"strategyName",label:"计费规则"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"日期",formatter:t.dateFormat}})],1),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"10px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"10px"},attrs:{"current-page":t.searchDetails.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchDetails.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalDetails},on:{"size-change":t.detailHandleSizeChange,"current-change":t.detailHandleCurrentChange}})],1)],1)],2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{fontFamily:"PingFangSC-Regular",height:"100%",overflow:"hidden",position:"relative"}},[a("nav",{staticStyle:{height:"60px"}},[a("topNav")],1),t._v(" "),a("aside",{style:{float:"left",width:t.isCollapse?"65px":"180px"}},[a("Menu")],1),t._v(" "),a("content",{staticClass:"main_con",style:{width:t.bodyWidth+"px",position:"absolute"}},[a("bredcrumb"),t._v(" "),a("div",{style:{height:t.bodyHeight-41+"px",overflow:"auto"}},[a("router-view")],1)],1)])},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.tableList,border:"","row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"uid",label:"流水号","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"sourceResponseCode","show-overflow-tooltip":"",width:"100px",label:"码值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sourceSpendTime","show-overflow-tooltip":"",width:"100px",label:"耗时/ms"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sourceCreateTime","show-overflow-tooltip":"",label:"时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"sourceResult",label:"结果",minWidth:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"flex_right_result"},[t._v(t._s(e.row.sourceResult)+" ")]),t._v(" "),a("a",{staticClass:"flex_right_a",on:{click:function(a){return t.showResult(e.row.sourceResult)}}},[t._v("查看更多")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"详情日志详情",width:"230px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.showDetail(e.row,"zuul")}}},[t._v("zuul")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.showDetail(e.row,"client")}}},[t._v("client")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.showDetail(e.row,"exit")}}},[t._v("exit")])],1)]}}])})],1),t._v(" "),this.tableList.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.searchData.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchData.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),t._v(" "),this.tableList.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("el-dialog",{attrs:{title:"详情",visible:t.dialogResultVisible},on:{"update:visible":function(e){t.dialogResultVisible=e}}},[a("div",[a("json-viewer",{attrs:{value:t.setJson(t.sourceResult)}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:t.dialogDetail.title,visible:t.dialogDetail.show,size:"large"},on:{"update:visible":function(e){return t.$set(t.dialogDetail,"show",e)},close:t.detailClose}},[a("div",{style:{lineHeight:"24px",wordBreak:"break-all"}},t._l(t.dialogDetailText,function(e){return a("p",[t._v(t._s(e))])}),0)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("apiListNav",{attrs:{activeIndex:1}}),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),t._m(0),t._v(" "),a("el-form",{ref:"addApiData1",staticClass:"ml100 demo-ruleForm",attrs:{model:t.data,rules:t.rulesGroup}},[a("el-form-item",{attrs:{label:"分组：","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w550",model:{value:t.data.apiGroupId,callback:function(e){t.$set(t.data,"apiGroupId",e)},expression:"data.apiGroupId"}},t._l(t.groupOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"API名称：",prop:"apiName","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w550",attrs:{"auto-complete":"off"},model:{value:t.data.apiName,callback:function(e){t.$set(t.data,"apiName",e)},expression:"data.apiName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"apiDescription","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w550",attrs:{type:"textarea",rows:4,"auto-complete":"off"},model:{value:t.data.apiDescription,callback:function(e){t.$set(t.data,"apiDescription",e)},expression:"data.apiDescription"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否存储：",prop:"saveMongoDB","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w550",model:{value:t.data.saveMongoDB,callback:function(e){t.$set(t.data,"saveMongoDB",e)},expression:"data.saveMongoDB"}},[a("el-option",{attrs:{label:"否",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"是",value:"1"}})],1)],1),t._v(" "),"1"==t.data.saveMongoDB?a("div",[a("el-form-item",{attrs:{label:"MongodbURL",prop:"mongodbURI","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w480",attrs:{placeholder:"mongodb://admin:admin@172.16.16.70"},model:{value:t.data.mongodbURI,callback:function(e){t.$set(t.data,"mongodbURI",e)},expression:"data.mongodbURI"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mongodb库名",prop:"mongodbDBName","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w480",model:{value:t.data.mongodbDBName,callback:function(e){t.$set(t.data,"mongodbDBName",e)},expression:"data.mongodbDBName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mongodb表名",prop:"mongodbCollectionName","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w480",model:{value:t.data.mongodbCollectionName,callback:function(e){t.$set(t.data,"mongodbCollectionName",e)},expression:"data.mongodbCollectionName"}})],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"发送MQ：",prop:"saveMQ","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w550",model:{value:t.data.saveMQ,callback:function(e){t.$set(t.data,"saveMQ",e)},expression:"data.saveMQ"}},[a("el-option",{attrs:{label:"否",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"是",value:"1"}})],1)],1),t._v(" "),"1"==t.data.saveMQ?a("div",[a("el-form-item",{attrs:{label:"MQ类型：",prop:"mqType","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w480",model:{value:t.data.mqType,callback:function(e){t.$set(t.data,"mqType",e)},expression:"data.mqType"}},[a("el-option",{attrs:{value:"1",label:"rabbbitmq"}}),t._v(" "),a("el-option",{attrs:{value:"2",label:"kafka"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"MQ地址",prop:"mqAddress","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w480",attrs:{placeholder:"172.16.16.72:5672"},model:{value:t.data.mqAddress,callback:function(e){t.$set(t.data,"mqAddress",e)},expression:"data.mqAddress"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"用户名",prop:"mqUserName","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w480",model:{value:t.data.mqUserName,callback:function(e){t.$set(t.data,"mqUserName",e)},expression:"data.mqUserName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"mqPasswd","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w480",attrs:{type:"password"},model:{value:t.data.mqPasswd,callback:function(e){t.$set(t.data,"mqPasswd",e)},expression:"data.mqPasswd"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"队列名称",prop:"mqTopicName","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w480",model:{value:t.data.mqTopicName,callback:function(e){t.$set(t.data,"mqTopicName",e)},expression:"data.mqTopicName"}})],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"是否缓存：","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w550",on:{change:t.selectCache},model:{value:t.cacheInput[0].value,callback:function(e){t.$set(t.cacheInput[0],"value",e)},expression:"cacheInput[0].value"}},t._l(t.cacheInputOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),1==t.cacheInput[0].value?a("div",[a("el-form-item",{attrs:{label:"缓存时间：",prop:"cacheNo","label-width":t.formLabelWidth,rules:[{required:!0,message:"缓存时间不能为空"},{type:"number",message:"缓存必须为数字值"}]}},["1"==t.data.cacheUnit||"2"==t.data.cacheUnit||null==t.data.cacheUnit||""==t.data.cacheUnit?a("el-input",{staticClass:"w350",model:{value:t.data.cacheNo,callback:function(e){t.$set(t.data,"cacheNo",t._n(e))},expression:"data.cacheNo"}}):t._e(),t._v(" "),3==t.data.cacheUnit?a("el-input",{staticClass:"w350",attrs:{disabled:!0},model:{value:t.data.cacheNo,callback:function(e){t.$set(t.data,"cacheNo",t._n(e))},expression:"data.cacheNo"}}):t._e(),t._v(" "),a("el-radio-group",{on:{change:function(e){return t.moreTime()}},model:{value:t.data.cacheUnit,callback:function(e){t.$set(t.data,"cacheUnit",e)},expression:"data.cacheUnit"}},[a("el-radio",{staticClass:"radio",staticStyle:{display:"inline-block","margin-left":"10px"},attrs:{label:"1"},model:{value:t.data.cacheUnit,callback:function(e){t.$set(t.data,"cacheUnit",e)},expression:"data.cacheUnit"}},[t._v("小时")]),t._v(" "),a("el-radio",{staticClass:"radio",staticStyle:{display:"inline-block"},attrs:{label:"2"},model:{value:t.data.cacheUnit,callback:function(e){t.$set(t.data,"cacheUnit",e)},expression:"data.cacheUnit"}},[t._v("天")]),t._v(" "),a("el-radio",{staticClass:"radio",staticStyle:{display:"inline-block"},attrs:{label:"3"},model:{value:t.data.cacheUnit,callback:function(e){t.$set(t.data,"cacheUnit",e)},expression:"data.cacheUnit"}},[t._v("不限")])],1),t._v(" "),a("div",{staticClass:"chacheTimeInput din"})],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"Mock","label-width":t.formLabelWidth}},[a("el-select",{staticStyle:{width:"550px"},on:{change:t.selectMock},model:{value:t.data.isMock,callback:function(e){t.$set(t.data,"isMock",e)},expression:"data.isMock"}},t._l(t.isMockOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),"1"==t.data.isMock?a("div",[a("el-form-item",{attrs:{label:"Mock返回结果",prop:"mockData","label-width":t.formLabelWidth,rules:[{required:!0,message:"不能为空",trigger:"blur"},{validator:t.mockEmpty,trigger:"blur"}]}},[a("el-input",{staticStyle:{width:"550px"},attrs:{type:"textarea"},model:{value:t.data.mockData,callback:function(e){t.$set(t.data,"mockData",e)},expression:"data.mockData"}})],1)],1):t._e(),t._v(" "),a("div",{staticClass:"dialog-footer teCen"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){return t.cancle("addApiData1")}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.nextStep}},[t._v("下 一 步")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("名称及描述")])])])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("div",{staticClass:"card_statistical"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"text"},[a("p",[t._v("总调用量")]),t._v(" "),a("p",[t._v(t._s(t.totalCount))])]),t._v(" "),a("div",{staticClass:"canvasBoxTotal"},[a("div",{staticStyle:{width:"100%",height:"70px"},attrs:{id:"totalCountId"}})])])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("div",{staticClass:"text"},[a("p",[t._v("成功")]),t._v(" "),a("p",[t._v(t._s(t.totalSuccess))])]),t._v(" "),a("div",{staticClass:"canvasBox"},[a("canvas-bar",{ref:"canvasRef",attrs:{width:50,height:50,id:"successBar",totle:t.totalCount,value:t.totalSuccess,color:"green"}})],1)])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"text"},[a("p",[t._v("失败量")]),t._v(" "),a("p",[t._v(t._s(t.totalFail))])]),t._v(" "),a("div",{staticClass:"canvasBox"},[a("canvas-bar",{ref:"canvasFailRef",attrs:{width:50,height:50,id:"failBar",totle:t.totalCount,value:t.totalFail,color:"red"}})],1)])])],1)],1),t._v(" "),a("div",{staticStyle:{display:"flex","padding-right":"15px"}},[a("el-form",{staticClass:"search_form",staticStyle:{flex:"1","vertical-align":"top"},attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入appKey进行查询"},model:{value:t.searchParams.appKey,callback:function(e){t.$set(t.searchParams,"appKey",e)},expression:"searchParams.appKey"}}),t._v(" "),a("el-date-picker",{staticClass:"w200",attrs:{rangeSeparator:"/",type:"datetimerange",placeholder:"选择时间范围"},on:{change:t.dateChange},model:{value:t.rangeDate,callback:function(e){t.rangeDate=e},expression:"rangeDate"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.defouteSearch()}}},[t._v("搜 索")])],1)],1)],1),t._v(" "),a("div",{staticStyle:{position:"relative"}},["table"===t.showType?[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%",border:"1px solid #e6e6e6","border-top":"1px solid #e6e6e6"},attrs:{data:t.tablegroup,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"appKey",label:"appKey"}}),t._v(" "),a("el-table-column",{attrs:{prop:"count",label:"总量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"countSuccess",label:"成功"}}),t._v(" "),a("el-table-column",{attrs:{prop:"countFail",label:"\t失败"}}),t._v(" "),a("el-table-column",{attrs:{label:"成功率"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:0===t.row.count?0:Math.round(t.row.countSuccess/t.row.count*100),status:0===t.row.count?"exception":t.row.countSuccess/t.row.count==1?"success":"exception"}})]}}],null,!1,2717263514)}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.searchDetailInt(e.row.appKey)}}},[t._v("查看详情")])]}}],null,!1,2211436969)})],1),t._v(" "),this.tablegroup.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.searchParams.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchParams.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),t._v(" "),this.tablegroup.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e()]:t._e(),t._v(" "),a("el-dialog",{attrs:{title:"详情信息",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listDetailLoading,expression:"listDetailLoading"}],staticStyle:{width:"100%",border:"1px solid #e6e6e6"},attrs:{data:t.detailsTable,"max-height":400,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"apiId",sortable:"",label:"APIID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiName",label:"接口名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"avgSuccessSpendTime",sortable:"",label:"平均响应时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"count",sortable:"",label:"总调用量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"countFail",sortable:"",label:"失败"}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",label:"成功率"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:0===t.row.count?0:Math.round(t.row.countSuccess/t.row.count*100),status:0===t.row.count?"exception":t.row.countSuccess/t.row.count==1?"success":"exception"}})]}}])})],1),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.searchDetails.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchDetails.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalDetails},on:{"size-change":t.detailHandleSizeChange,"current-change":t.DetailHandleCurrentChange}})],1)],1)],2)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"port",staticStyle:{background:"#fff",position:"relative",height:"100%"}},[a("div",{staticStyle:{position:"relative"}},[a("div",{staticClass:"treeBox"},[a("span",{staticClass:"treeGroup"},[a("span",{staticClass:"ml10"},[t._v("组别")]),a("el-button",{staticClass:"mr20 fr",staticStyle:{color:"#FEBD49"},attrs:{type:"text",icon:"plus"},on:{click:function(e){return t.addNext(null)}}})],1),t._v(" "),a("el-tree",{attrs:{data:t.alertTextArr,"node-key":"id","default-expanded-keys":t.defaultExpanded,"highlight-current":!0,"expand-on-click-node":!1,props:t.defaultProps},on:{"node-click":t.handleNodeClick}})],1),t._v(" "),a("el-table",{staticStyle:{width:"85%",float:"right"},attrs:{data:t.tablegroup,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"groupName",label:"分组"}}),t._v(" "),a("el-table-column",{attrs:{prop:"groupDescription",label:"描述"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.addBtnP?a("el-button",{staticClass:"radiusBtn addWcolor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.addNext(e.row.parentId)}}},[t._v("添加同级")]):t._e(),t._v(" "),t.addBtnP?a("el-button",{staticClass:"radiusBtn addWcolor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.addNext(e.row.id)}}},[t._v("添加下级")]):t._e(),t._v(" "),t.amendBtn?a("el-button",{staticClass:"radiusBtn amendColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.amendGroup(e.row)}}},[t._v("编辑")]):t._e(),t._v(" "),t.delBtn?a("el-button",{staticClass:"radiusBtn delColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.showDeleteModel(e.$index,e.row)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),this.tablegroup.length<1?a("div",{staticClass:"teCen",staticStyle:{position:"absolute",left:"50%","margin-top":"60px"}},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e()],1),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),this.tablegroup.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":this.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"创建分组",visible:t.creatGroup,size:"tiny","before-close":t.closeDialog},on:{"update:visible":function(e){t.creatGroup=e}}},[a("el-form",{ref:"addGroupData",staticClass:"demo-ruleForm",attrs:{model:t.addGroupData}},[a("el-form-item",{attrs:{label:"名称：",prop:"groupName","label-width":t.formLabelWidth,rules:[{required:!0,message:"名称不能为空"},{validator:t.groupNamerule,trigger:"blur"},{min:2,max:15,message:"长度在 2 到 15 个字符",trigger:"blur"}]}},[a("el-input",{staticClass:"w9000",model:{value:t.addGroupData.groupName,callback:function(e){t.$set(t.addGroupData,"groupName",e)},expression:"addGroupData.groupName"}}),t._v(" "),a("p",{staticStyle:{"line-height":"20px"}},[t._v("分组名称必须唯一，不能为空，不能输入空格，长度2~15个字符")])],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"groupDescription","label-width":t.formLabelWidth,rules:[{required:!0,message:"描述不能为空",trigger:"blur"},{min:1,max:180,message:"长度在 1 到 180 个字符",trigger:"blur"},{validator:t.descriptionValidate,trigger:"blur"}]}},[a("el-input",{staticClass:"w9000",attrs:{type:"textarea",rows:4,placeholder:"不超过180个字符","auto-complete":"off"},model:{value:t.addGroupData.groupDescription,callback:function(e){t.$set(t.addGroupData,"groupDescription",e)},expression:"addGroupData.groupDescription"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){return t.callOf("addGroupData")}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addgroupList("addGroupData")}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"修改分组",visible:t.amendGroupDetail,size:"tiny"},on:{"update:visible":function(e){t.amendGroupDetail=e}}},[a("el-form",{ref:"amnedData",staticClass:"demo-ruleForm",attrs:{model:t.amnedData}},[a("el-form-item",{attrs:{label:"分组名称：",prop:"groupName","label-width":t.formLabelWidth,rules:[{required:!0,message:"名称不能为空"},{min:2,max:15,message:"长度在 2 到 15 个字符",trigger:"blur"},{validator:t.groupNames2,trigger:"blur"},{validator:t.groupNamerule,trigger:"blur"}]}},[a("el-input",{staticClass:"w9000",model:{value:t.amnedData.groupName,callback:function(e){t.$set(t.amnedData,"groupName",e)},expression:"amnedData.groupName"}}),t._v(" "),a("p",{staticStyle:{"line-height":"20px"}},[t._v("分组名称必须唯一，不能为空，不能输入空格，长度2~15个字符")])],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"groupDescription","label-width":t.formLabelWidth,rules:[{required:!0,message:"描述不能为空",trigger:"blur"},{min:1,max:180,message:"长度在 1 到 180 个字符",trigger:"blur"},{validator:t.descriptionValidate,trigger:"blur"}]}},[a("el-input",{staticClass:"w9000",attrs:{type:"textarea",rows:4,placeholder:"不超过180个字符"},model:{value:t.amnedData.groupDescription,callback:function(e){t.$set(t.amnedData,"groupDescription",e)},expression:"amnedData.groupDescription"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.amendGroupDetail=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.amendData("amnedData")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"panel panel-default"},[t.showPublishBtn?a("el-button",{staticStyle:{position:"absolute",right:"10px",top:"15px"},attrs:{type:"success",size:"mini"},on:{click:function(e){return t.publish()}}},[t._v("发布")]):t._e(),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"发布API：",visible:t.issue,size:"tiny"},on:{"update:visible":function(e){t.issue=e}}},[a("div",[a("el-form",{ref:"groupHerfId",staticClass:"demo-ruleForm",attrs:{model:t.groupHerfId}},[a("span",{staticStyle:{"font-weight":"700"}},[t._v("您将要发布以下API：")]),t._v(" "),a("div",{staticClass:"issueAPI"},[t._v(t._s(t.groupHerfId.apiName))]),t._v(" "),a("el-form-item",{attrs:{prop:"pubDescription",label:"请填写变更备注：",rules:[{required:!0,message:"备注不能为空"},{min:1,max:180,message:"长度在 1 到 180 个字符",trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"必填，不超过180个字符","auto-complete":"off"},model:{value:t.groupHerfId.pubDescription,callback:function(e){t.$set(t.groupHerfId,"pubDescription",e)},expression:"groupHerfId.pubDescription"}})],1),t._v(" "),a("p",{staticClass:"textRed"},[t._v("如果您设置了使用Mock，实际请求则不会调用到后端服务， 请仔细确认")]),t._v(" "),a("p",[t._v("该操作将导致线上环境的该API被覆盖，请仔细确认")])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.issue=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.publishApi("groupHerfId")}}},[t._v("发布")])],1)],1)]),t._v(" "),a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("名称及描述")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered",model:{value:t.apiList2,callback:function(e){t.apiList2=e},expression:"apiList2"}},[a("tbody",[a("tr",[a("td",[t._v("分组：\n              "),a("span",[t._v(t._s(null==t.apiList2.groupName?"（无）":t.apiList2.groupName))])]),t._v(" "),a("td",[t._v("名称：\n              "),a("span",[t._v(t._s(t.apiList2.apiName))])])]),t._v(" "),a("tr",[a("td",[t._v("是否存储：\n              "),a("span",[t._v(t._s(1==t.apiList2.saveMongoDB?"是":"否"))])]),t._v(" "),a("td",[t._v("是否发送MQ：\n              "),a("span",[t._v(t._s(1==t.apiList2.saveMQ?"是":"否"))])])]),t._v(" "),1==t.apiList2.saveMongoDB?a("tr",[a("td",[t._v("Mongodb地址：\n              "),a("span",[t._v(t._s(t.apiList2.mongodbURI))])]),t._v(" "),a("td",[t._v("Mongodb库名:\n              "),a("span",[t._v(t._s(t.apiList2.mongodbDBName))])])]):t._e(),t._v(" "),1==t.apiList2.saveMongoDB?a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("Mongodb表名：\n              "),a("span",[t._v(t._s(t.apiList2.mongodbCollectionName))])])]):t._e(),t._v(" "),1==t.apiList2.saveMQ?a("tr",[a("td",[t._v("MQ类型：\n              "),a("span",[t._v(t._s(1==t.apiList2.mqType?"rabbbitmq":"kafka"))])]),t._v(" "),a("td",[t._v("MQ地址：\n              "),a("span",[t._v(t._s(t.apiList2.mqAddress))])])]):t._e(),t._v(" "),1==t.apiList2.saveMQ?a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("队列名称：\n              "),a("span",[t._v(t._s(t.apiList2.mqTopicName))])])]):t._e(),t._v(" "),a("tr",[a("td",[t._v("是否缓存：\n              "),a("span",[t._v(t._s(null!==t.apiList2.cacheUnit?"是":"否"))])]),t._v(" "),a("td",[t._v("缓存时间：\n              "),a("span",[t._v(t._s(t.apiList2.cacheNo))]),t._v(" "),1==t.apiList2.cacheUnit?a("span",[t._v("小时")]):t._e(),t._v(" "),2==t.apiList2.cacheUnit?a("span",[t._v("天")]):t._e(),t._v(" "),3==t.apiList2.cacheUnit?a("span",[t._v("不限")]):t._e()])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("描述：\n              "),a("span",[t._v(t._s(t.apiList2.apiDescription))])])])])])])],1),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("请求基础定义")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered",model:{value:t.apiList2,callback:function(e){t.apiList2=e},expression:"apiList2"}},[a("tbody",[a("tr",[a("td",[t._v("Path：\n              "),a("span",[t._v(t._s(t.apiList2.httpPath))])]),t._v(" "),t._m(0)]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("HTTP Method：\n              "),a("span",[t._v(t._s(1==t.apiList2.httpMethod?"GET":"POST"))])])])])])])]),t._v(" "),a("div",{staticClass:"panel panel-default",staticStyle:{position:"relative"}},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("请求入参信息")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered"},[t._m(1),t._v(" "),t.requestParamsList2.length<=0?a("tbody",[t._m(2)]):t._e(),t._v(" "),t.requestParamsList2.length>0?a("tbody",t._l(t.requestParamsList2,function(e,i){return a("tr",[a("td",[a("span",[t._v(t._s(e.paramName))])]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.paramsLocation?"header":2==e.paramsLocation?"query":"body"))])]),t._v(" "),a("td",[1==e.paramsType?a("span",[t._v("String")]):2==e.paramsType?a("span",[t._v("Integer")]):3==e.paramsType?a("span",[t._v("Long")]):4==e.paramsType?a("span",[t._v("Float")]):5==e.paramsType?a("span",[t._v("Double")]):6==e.paramsType?a("span",[t._v("Boolean")]):t._e()]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.paramsMust?"是":"否"))])]),t._v(" "),a("td",{staticStyle:{width:"300px","word-wrap":"break-word","word-break":"break-all"}},[a("span",[t._v(t._s(e.paramsDefaultValue))])]),t._v(" "),a("td",{staticStyle:{width:"300px","word-wrap":"break-word","word-break":"break-all"}},[a("span",[t._v(t._s(e.paramsExample))])]),t._v(" "),a("td",{staticStyle:{width:"300px","word-wrap":"break-word","word-break":"break-all"}},[a("span",[t._v(t._s(e.paramsDescription))])]),t._v(" "),a("td",{staticStyle:{width:"100px"}},[a("a",{staticClass:"radiusBtn",staticStyle:{padding:"0 8px",color:"#1C72EE"},attrs:{href:"javascript:void(0)"},on:{mouseover:function(e){return t.moreStart(i)},mouseleave:function(e){return t.moreEnd(i)}}},[t._v("更多")]),t._v(" "),a("el-form",{staticClass:"moreMesTwo",staticStyle:{width:"400px"}},[null!==t.requestParamsList2[t.amendApiIndexEdit].maxLength?a("el-form-item",{attrs:{label:"最大长度","label-width":t.formLabelWidth}},[a("span",[t._v(t._s(t.requestParamsList2[t.amendApiIndexEdit].maxLength))])]):t._e(),t._v(" "),null!==t.requestParamsList2[t.amendApiIndexEdit].minLength?a("el-form-item",{attrs:{label:"最小长度","label-width":t.formLabelWidth}},[a("span",[t._v(t._s(t.requestParamsList2[t.amendApiIndexEdit].minLength))])]):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"参数验证","label-width":t.formLabelWidth}},[a("span",[t._v(t._s(t.requestParamsList2[t.amendApiIndexEdit].regularExpress))])])],1)],1)])}),0):t._e()])])]),t._v(" "),a("div",{attrs:{data:t.subApiList2}},[t._m(3),t._v(" "),a("ul",t._l(t.subApiList2,function(e,i){return a("li",[a("a",{staticClass:"backServiceName",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.checkItems(i,e)}}},[a("span",{staticStyle:{display:"inline-block",width:"50%","padding-left":"20px"}},[t._v(t._s(e.interfaceName))]),a("span",{staticStyle:{display:"inline-block",width:"50%","padding-left":"20px",color:"black"}},[t._v(t._s(e.weight))])]),t._v(" "),a("div",{staticClass:"faceMes mt20 backServiceBox",staticStyle:{"box-shadow":"0 0 15px #FEBD49",display:"none"}},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("后端服务信息")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered",model:{value:t.childApiInfo,callback:function(e){t.childApiInfo=e},expression:"childApiInfo"}},[a("tbody",[a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("HTTP Method：\n                    "),a("span",[t._v(t._s(1==t.childApiInfo.backEndHttpMethod?"GET":"POST"))])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"50%"}},[t._v("A中心地址：\n                        "),a("span",[t._v(t._s(t.childApiInfo.backEndAddress)+t._s(t.childApiInfo.backEndPath))])]),t._v(" "),a("td",{attrs:{width:"50%"}},[t._v("B中心地址：\n                      "),a("span",[t._v(t._s(t.childApiInfo.backEndAddressB)+t._s(t.childApiInfo.backEndPath))])])]),t._v(" "),a("tr",[a("td",[t._v("是否计费：\n                    "),a("span",[t._v(t._s(1==t.childApiInfo.charge?"是":"否"))])]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v("后端超时：\n                    "),a("span",[t._v(t._s(t.childApiInfo.backEndTimeout)+" ms")])])]),t._v(" "),a("tr",[a("td",[t._v("Mock：\n                    "),a("span",[t._v(t._s(1==t.childApiInfo.isMock?"是":"否"))])]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v("Mock返回结果：\n                    "),a("span",[t._v(t._s(t.childApiInfo.mockData))])])])])])])]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"}),t._v(" "),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":function(t){}},model:{value:t.activeBack,callback:function(e){t.activeBack=e},expression:"activeBack"}},[a("el-tab-pane",{attrs:{label:"后端服务参数",name:"backValTab"}},[a("table",{staticClass:"table table-hover table-bordered"},[a("thead",[a("tr",[a("th",[t._v("后端参数名称")]),t._v(" "),a("th",[t._v("后端参数位置")]),t._v(" "),a("th",[t._v("对应入参名称")]),t._v(" "),a("th",[t._v("对应入参位置")]),t._v(" "),a("th",[t._v("对应入参类型")])])]),t._v(" "),t.childRes1.length<=0?a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"5"}},[a("span",[t._v("暂无数据")])])])]):t._e(),t._v(" "),t.childRes1.length>0?a("tbody",t._l(t.childRes1,function(e,i){return a("tr",[a("td",[a("span",[t._v(t._s(e.paramName))])]),t._v(" "),a("td",[1==e.paramsLocation?a("span",[t._v("header")]):2==e.paramsLocation?a("span",[t._v("query")]):3==e.paramsLocation?a("span",[t._v("body")]):t._e()]),t._v(" "),a("td",[a("span",[t._v(t._s(t.requestParamsList2[i].paramName))])]),t._v(" "),a("td",[1==t.requestParamsList2[i].paramsLocation?a("span",[t._v("header")]):2==t.requestParamsList2[i].paramsLocation?a("span",[t._v("query")]):3==t.requestParamsList2[i].paramsLocation?a("span",[t._v("body")]):t._e()]),t._v(" "),a("td",[1==t.requestParamsList2[i].paramsType?a("span",[t._v("String")]):2==t.requestParamsList2[i].paramsType?a("span",[t._v("Integer")]):3==t.requestParamsList2[i].paramsType?a("span",[t._v("Long")]):4==t.requestParamsList2[i].paramsType?a("span",[t._v("Float")]):5==t.requestParamsList2[i].paramsType?a("span",[t._v("Double")]):6==t.requestParamsList2[i].paramsType?a("span",[t._v("Boolean")]):t._e()])])}),0):t._e()])]),t._v(" "),a("el-tab-pane",{attrs:{label:"jsonConfig",name:"jsonConfigTab"},model:{value:t.childApiInfo,callback:function(e){t.childApiInfo=e},expression:"childApiInfo"}},[a("span",[a("pre",[t._v(t._s(t.childApiInfo.jsonConfig))])])])],1)],1)]),t._v(" "),a("div",{staticClass:"panel panel-default",staticStyle:{border:"1px solid blue",position:"relative"}},[a("div",{staticClass:"console-panel-header"},[a("el-tabs",{attrs:{type:"border-card",value:t.activeName}},[a("el-tab-pane",{attrs:{label:"常量参数",name:"res",disabled:"disabled"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.childRes2}},[a("el-table-column",{attrs:{prop:"paramName",label:"后端参数名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"paramValue",label:"参数值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"paramsLocation",label:"参数位置",formatter:t.paramLocationFomatter}}),t._v(" "),a("el-table-column",{attrs:{prop:"paramDescription",label:"描述"}})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"JSON",name:"json",disabled:"disabled"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.childRes3}},[a("el-table-column",{attrs:{label:"JSON"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{display:"block",height:"200px",overflow:"auto"}},[a("pre",[t._v(t._s(e.row.paramValue))])])]}}],null,!0)})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"XML",name:"xml",disabled:"disabled"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.childRes4}},[a("el-table-column",{attrs:{label:"XML"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[a("pre",[t._v(t._s(e.row.paramValue))])])]}}],null,!0)})],1)],1)],1)],1)]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("返回结果")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered",model:{value:t.childApiInfo,callback:function(e){t.childApiInfo=e},expression:"childApiInfo"}},[a("tbody",[a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("返回类型：\n                    "),a("span",[t._v(t._s(1==t.childApiInfo.callBackType?"JSON":""))])])]),t._v(" "),a("tr",[a("td",{staticStyle:{float:"left",width:"50%"}},[t._v("返回结果示例：\n                    "),a("span",{staticClass:"writePlace",staticStyle:{width:"100%",display:"block"}},[t._v(t._s(t.childApiInfo.callBackSuccessExample))])]),t._v(" "),a("td",{staticStyle:{float:"right",width:"50%"}},[t._v("失败返回结果示例：\n                    "),a("span",{staticClass:"errorWritePlace",staticStyle:{width:"100%",display:"block"}},[t._v(t._s(t.childApiInfo.callBackFailExample))])])])])])])])])])}),0)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t._v("协议：\n              "),a("span",[t._v("HTTP")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("参数位置")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("默认值")]),t._v(" "),a("th",[t._v("示例")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("操作")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"8"}},[a("span",[t._v("暂无数据")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%",height:"40px","line-height":"40px","font-size":"14px",background:"#eef1f6",border:"1px solid #dfe6ec"}},[a("span",{staticStyle:{display:"inline-block",width:"50%","padding-left":"20px"}},[t._v("后端服务名称")]),t._v(" "),a("span",{staticStyle:{display:"inline-block",width:"49%","padding-left":"20px"}},[t._v("权重")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"accreditLine"}),t._v(" "),a("el-form",{model:{value:t.groupHerfId,callback:function(e){t.groupHerfId=e},expression:"groupHerfId"}},[a("span",{staticStyle:{"font-weight":"700"}},[t._v("您将对下列API进行授权操作：")]),t._v(" "),a("div",{staticClass:"issueAPI"},[t._v(t._s(t.groupHerfId.apiName))]),t._v(" "),a("span",{staticStyle:{"font-weight":"700"}},[t._v("选择要授权的环境：")]),t._v(" "),a("p"),t._v(" "),[a("el-radio-group",{model:{value:t.env,callback:function(e){t.env=e},expression:"env"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v("线上")]),t._v(" "),a("el-radio-button",{attrs:{label:"2"}},[t._v("预发")])],1)],t._v(" "),a("br"),t._v(" "),a("div",[a("span",{staticStyle:{"font-weight":"700"}},[t._v("选择要绑定的APP")]),t._v(" "),a("p"),t._v(" "),a("div",{staticClass:"fl flBox",staticStyle:{"margin-bottom":"20px",width:"100%"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w250",attrs:{placeholder:"请输入应用名称"},model:{value:t.searchimpowerName,callback:function(e){t.searchimpowerName=e},expression:"searchimpowerName"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.publicData()}}},[t._v("搜索")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",height:"380px",overflow:"auto"},attrs:{border:"","tooltip-effect":"dark",data:t.appKeyData},on:{"selection-change":t.handleSelectionChangeApi}},[a("el-table-column",{staticClass:"selection",attrs:{type:"selection",width:"55",prop:""},on:{"selection-change":t.handleSelectionChangeApi}}),t._v(" "),a("el-table-column",{attrs:{prop:"appName",label:"应用名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"appKey",label:"appKey"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}})],1)],1)])],2),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.$emit("cancle","")}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.NoAppDataDetailBtn}},[t._v("确 定")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("apiListNav",{attrs:{activeIndex:2}}),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),t._m(0),t._v(" "),a("el-form",{ref:"addApiData2",staticClass:"demo-ruleForm",attrs:{model:t.addApiData}},[a("el-form-item",{attrs:{label:"协议","label-width":t.formLabelWidth}},[a("span",[t._v("HTTP")])]),t._v(" "),a("el-form-item",{attrs:{label:"请求Path",prop:"apiInfo.httpPath","label-width":t.formLabelWidth,rules:[{validator:t.checkReqPath,required:!0,trigger:"blur"}]}},[a("el-input",{staticClass:"w350",attrs:{type:"httpPath","auto-complete":"off"},model:{value:t.addApiData.apiInfo.httpPath,callback:function(e){t.$set(t.addApiData.apiInfo,"httpPath",e)},expression:"addApiData.apiInfo.httpPath"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"HTTP Method","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w350",on:{change:t.checkHTTP},model:{value:t.addApiData.apiInfo.httpMethod,callback:function(e){t.$set(t.addApiData.apiInfo,"httpMethod",e)},expression:"addApiData.apiInfo.httpMethod"}},t._l(t.httpMethodOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("入参定义")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered",attrs:{id:"addtableData"}},[a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("参数位置")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("默认值")]),t._v(" "),a("th",[t._v("示例")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("操作")])])]),t._v(" "),a("tbody",t._l(t.addApiData.requestParamsList,function(e,i){return a("tr",[a("td",[a("el-form-item",{attrs:{label:"",prop:"requestParamsList."+i+".paramName",rules:[{validator:t.parasNamesValidate,required:!0,trigger:"blur"},{min:1,max:200,message:"长度在 1 到 200 个字符",trigger:"blur"}]}},[a("el-input",{model:{value:e.paramName,callback:function(a){t.$set(e,"paramName",a)},expression:"item.paramName"}})],1)],1),t._v(" "),a("td",[a("el-select",{model:{value:e.paramsLocation,callback:function(a){t.$set(e,"paramsLocation",a)},expression:"item.paramsLocation"}},t._l(t.paramsLocationOptions,function(t){return a("el-option",{key:t.value,class:3==t.value?"noBody":"hasBody",attrs:{label:t.label,value:t.value,disabled:t.disabled}})}),1)],1),t._v(" "),a("td",[a("el-select",{on:{change:function(a){return t.parTypeSix(e.paramsType)}},model:{value:e.paramsType,callback:function(a){t.$set(e,"paramsType",a)},expression:"item.paramsType"}},t._l(t.paramsTypeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("td",[a("el-checkbox",{attrs:{checked:1==e.paramsMust},on:{change:function(a){return t.paramsMusts(e.paramsMust,i)}}})],1),t._v(" "),a("td",[1==e.paramsType?a("el-input",{attrs:{disabled:1==e.paramsMust},model:{value:e.paramsDefaultValue,callback:function(a){t.$set(e,"paramsDefaultValue",a)},expression:"item.paramsDefaultValue"}}):t._e(),t._v(" "),2==e.paramsType||3==e.paramsType||4==e.paramsType||5==e.paramsType?a("el-input",{attrs:{disabled:1==e.paramsMust},on:{change:function(a){return t.IntegerNumVal(e.paramsDefaultValue,i)}},model:{value:e.paramsDefaultValue,callback:function(a){t.$set(e,"paramsDefaultValue",a)},expression:"item.paramsDefaultValue"}}):t._e(),t._v(" "),6==e.paramsType?a("el-select",{attrs:{placeholder:"请选择",disabled:1==e.paramsMust},model:{value:e.paramsDefaultValue,callback:function(a){t.$set(e,"paramsDefaultValue",a)},expression:"item.paramsDefaultValue"}},t._l(t.optionsBool,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.label}})}),1):t._e(),t._v(" "),a("p",{staticClass:"textRed din IntegerNum"},[t._v("请输入正确格式的参数！")])],1),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.paramsExample,expression:"item.paramsExample"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.paramsExample},on:{input:function(a){a.target.composing||t.$set(e,"paramsExample",a.target.value)}}})]),t._v(" "),a("td",[a("el-form-item",{attrs:{label:"",prop:"requestParamsList."+i+".paramsDescription",rules:{required:!0,message:"描述不能为空",trigger:"blur"}}},[a("el-input",{model:{value:e.paramsDescription,callback:function(a){t.$set(e,"paramsDescription",a)},expression:"item.paramsDescription"}})],1)],1),t._v(" "),a("td",[a("el-button",{staticClass:"radiusBtn",attrs:{type:"text",size:"small"},on:{click:function(e){return t.amendApiMore(i)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticClass:"radiusBtn",attrs:{type:"text",size:"small"},on:{click:function(e){return t.delTable(i)}}},[t._v("移除")])],1)])}),0)]),t._v(" "),a("div",{staticStyle:{margin:"20px 0"}},[t._v("请求中的所有参数，包括Path中的动态参数、Headers参数、Query参数、Body参数（通过Form表单传输的参数），参数名称保证唯一。")]),t._v(" "),a("el-button",{staticClass:"mt20",staticStyle:{padding:"10px 15px",width:"97px"},attrs:{type:"primary",size:"mini"},on:{click:t.addTable}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"5px"}}),t._v("增加一条")])],1)]),t._v(" "),a("div",{staticClass:"dialog-footer teCen"},[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:t.preStep}},[t._v("上 一 步")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.nextStep}},[t._v("下 一 步")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("请求基础定义")])])])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TestConfig",staticStyle:{background:"#ffffff",height:"100%"}},[a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入APIID进行查询"},model:{value:t.searchApiId,callback:function(e){t.searchApiId=t._n(e)},expression:"searchApiId"}}),t._v(" "),a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入groupId进行查询"},model:{value:t.searchGroupId,callback:function(e){t.searchGroupId=t._n(e)},expression:"searchGroupId"}}),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.autoTest,callback:function(e){t.autoTest=e},expression:"autoTest"}},t._l(t.autoTestOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.initData()}}},[t._v("搜 索")]),t._v(" "),t.testBtns?a("el-button",{staticClass:"fr",staticStyle:{"margin-right":"100px"},attrs:{type:"primary addOne"},on:{click:function(e){return t.testBtn()}}},[t._v("一键测试")]):t._e()],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.tablegroup,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"apiId",label:"apiId"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiName",label:"apiName"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiGroupId",label:"分组"}}),t._v(" "),a("el-table-column",{attrs:{prop:"autoTest",label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"exportBtn",attrs:{href:"javascript:void(0)"}},[t.configTestBtn?a("span",{staticClass:"lookBtn bindColor",on:{click:function(a){return t.configTest(e.row)}}},[t._v("配置测试")]):t._e(),t._v(" "),t.cancleTestBtn?a("span",{staticClass:"lookBtn bindColor",on:{click:function(a){return t.cancleTest(e.row)}}},[t._v("取消测试")]):t._e()])]}}])})],1),t._v(" "),this.tablegroup.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum,"page-sizes":[10,20,30,40],"page-size":this.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"查看：",visible:t.jsonDialog,size:"tiny"},on:{"update:visible":function(e){t.jsonDialog=e}}},[a("pre",[a("span",{staticClass:"writePlaces"},[t._v(t._s(t.callBack))])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.jsonDialog=!1}}},[t._v("关闭")])],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{model:{value:t.groupHerfId,callback:function(e){t.groupHerfId=e},expression:"groupHerfId"}},[a("span",{staticStyle:{"font-weight":"700"}},[t._v("您将要下线以下API：")]),t._v(" "),a("div",{staticClass:"issueAPI"},[t._v(t._s(t.groupHerfId.apiName))]),t._v(" "),a("p",{staticStyle:{"font-weight":"700"}},[t._v("请选输入下线说明：")]),t._v(" "),a("el-form-item",{attrs:{"label-width":120,rules:[{required:!0,message:"下线说明不能为空",trigger:"blur"},{min:1,max:180,message:"下线说明不能为空",trigger:"blur"},{validator:t.descriptionValidate,trigger:"blur"}]}},[a("el-input",{staticClass:"w350",attrs:{placeholder:"请输入下线说明"},model:{value:t.remarks,callback:function(e){t.remarks=e},expression:"remarks"}})],1),t._v(" "),a("p",{staticStyle:{color:"red"}},[t._v("该操作将导致此API在指定的环境无法被访问，可能会影响相当一部分应用和用户。请确保已经告知用户，或者确认需要强制下线")])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){return t.$emit("cancle","")}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:t.overLineApi}},[t._v("下线")])],1)],1)},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入APIID进行查询"},model:{value:t.searchApiId,callback:function(e){t.searchApiId=e},expression:"searchApiId"}}),t._v(" "),a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入API分组进行查询"},model:{value:t.searchGroup,callback:function(e){t.searchGroup=e},expression:"searchGroup"}}),t._v(" "),a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入开始时间进行查询"},model:{value:t.createTime,callback:function(e){t.createTime=e},expression:"createTime"}}),t._v(" "),a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入结束时间进行查询"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.initData()}}},[t._v("搜 索")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.tablegroup,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"apiId",label:"apiId"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiName",label:"apiName"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiGroupId",label:"分组"}}),t._v(" "),a("el-table-column",{attrs:{prop:"testDate",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"exportBtn",attrs:{href:"javascript:void(0)"}},[a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.lookJson(e.row)}}},[t._v("查看")])],1)]}}])})],1),t._v(" "),this.tablegroup.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum,"page-sizes":[10,20,30,40],"page-size":this.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"查看：",visible:t.jsonDialog,size:"tiny"},on:{"update:visible":function(e){t.jsonDialog=e}}},[a("pre",[a("span",{staticClass:"writePlaces",staticStyle:{"white-space":"pre-line"}},[t._v(t._s(t.callBack))])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.jsonDialog=!1}}},[t._v("关闭")])],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"portExcel",staticStyle:{background:"white"}},[a("div",{staticClass:"detailBtn",staticStyle:{padding:"8px 10px 0 0"}},[t._m(0),t._v(" "),a("el-button",{staticClass:"fr",attrs:{type:"primary addOne",size:"mini"},on:{click:function(e){return t.down()}}},[t._v("下载")]),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("名称及描述")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered",model:{value:t.detail,callback:function(e){t.detail=e},expression:"detail"}},[a("tbody",[a("tr",[a("td",[t._v("api名称：\n                      "),a("span",[t._v(t._s(t.detail.apiName))])]),t._v(" "),t._m(1),t._v(" "),t._m(2)]),t._v(" "),a("tr",{attrs:{colspan:"3"}},[a("td",[t._v("url路径：\n                      "),a("span",[t._v(t._s(t.detail.uri))])]),t._v(" "),a("td",[t._v("HTTP请求方式：\n                      "),a("span",[t._v(t._s(t.detail.method))])])])])])])])],1),t._v(" "),a("div",{staticClass:"panel panel-default",staticStyle:{position:"relative"}},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("请求参数")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.portList,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"paramName",label:"参数名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"paramMust",label:"是否必填"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"paramsLocation",label:"位置"}}),t._v(" "),a("el-table-column",{attrs:{prop:"paramsDescription",label:"描述"}})],1)],1),t._v(" "),a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("返回参数")]),t._v(" "),a("zk-table",{ref:"table",attrs:{"sum-text":"sum","index-text":"#",data:t.responseList,columns:t.columns,stripe:t.props.stripe,border:t.props.border,"show-header":t.props.showHeader,"show-summary":t.props.showSummary,"show-row-hover":t.props.showRowHover,"show-index":t.props.showIndex,"tree-type":t.props.treeType,"is-fold":t.props.isFold,"expand-type":t.props.expandType,"selection-type":t.props.selectionType},scopedSlots:t._u([{key:"handle",fn:function(e){return[a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.amend(e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.del(e.rowIndex,e.row)}}},[t._v("删除")]),t._v(" "),"String"===e.row.paramType?a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.addResultCode(e.rowIndex,e.row)}}},[t._v("编辑码值")]):t._e(),t._v(" "),"JSONObject"===e.row.paramType||"JSONArray"===e.row.paramType?a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.addNode(e.rowIndex,e.row)}}},[t._v("新增子节点")]):t._e(),t._v(" "),0===e.row.parentId?a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.addParentNode(e.rowIndex,e.row)}}},[t._v("新增顶级节点")]):t._e()]}}])}),t._v(" "),this.responseList.length<1?a("div",{staticClass:"teCen  mt60"},[t._m(3),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("div",{staticClass:"teCen mt20",staticStyle:{width:"100%",height:"50px"}},[this.responseList.length<1?a("el-button",{attrs:{type:"primary addOne"},on:{click:function(e){t.addNumDetail=!0}}},[t._v("添加")]):t._e(),t._v(" "),this.responseList.length>=1?a("el-button",{attrs:{type:"primary addOne"},on:{click:function(e){return t.moreDelBtn()}}},[t._v("全部删除")]):t._e()],1)],1),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"添加参数",visible:t.addNumDetail,size:"tiny"},on:{"update:visible":function(e){t.addNumDetail=e}}},[a("el-form",{ref:"amnedData",staticClass:"demo-ruleForm",attrs:{model:t.amnedData}},[a("el-form-item",{attrs:{label:"参数json：",prop:"remarkJson","label-width":t.formLabelWidth,rules:[{required:!0,message:"参数json不能为空",trigger:"blur"}]}},[a("el-input",{staticClass:"w9000",attrs:{type:"textarea",rows:4},model:{value:t.amnedData.remarkJson,callback:function(e){t.$set(t.amnedData,"remarkJson",e)},expression:"amnedData.remarkJson"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.addNumDetail=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addData("amnedData")}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"修改参数",visible:t.amendNumDetail,size:"tiny"},on:{"update:visible":function(e){t.amendNumDetail=e}}},[a("el-form",{ref:"amnedData",staticClass:"demo-ruleForm",attrs:{model:t.amnedData}},[a("el-form-item",{attrs:{label:"参数名称：",prop:"paramName","label-width":t.formLabelWidth,rules:[{min:1,max:15,message:"长度在 1 到 15 个字符",trigger:"blur"}]}},[a("el-input",{staticClass:"w9000",model:{value:t.amnedData.paramName,callback:function(e){t.$set(t.amnedData,"paramName",e)},expression:"amnedData.paramName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"中文名称：",prop:"description","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w9000",model:{value:t.amnedData.description,callback:function(e){t.$set(t.amnedData,"description",e)},expression:"amnedData.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"remark","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w9000",attrs:{type:"textarea",rows:4},model:{value:t.amnedData.remark,callback:function(e){t.$set(t.amnedData,"remark",e)},expression:"amnedData.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.amendNumDetail=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.amendData("amnedData")}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"修改参数",visible:t.addNodeFlag,size:"tiny"},on:{"update:visible":function(e){t.addNodeFlag=e}}},[a("el-form",{ref:"amnedData",staticClass:"demo-ruleForm",attrs:{model:t.addNodeData}},[a("el-form-item",{attrs:{label:"参数名称：",prop:"paramName","label-width":t.formLabelWidth,rules:[{min:1,max:15,message:"长度在 1 到 15 个字符",trigger:"blur"}]}},[a("el-input",{staticClass:"w9000",model:{value:t.addNodeData.paramName,callback:function(e){t.$set(t.addNodeData,"paramName",e)},expression:"addNodeData.paramName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"类型：","label-width":t.formLabelWidth}},[a("el-select",{model:{value:t.addNodeData.paramType,callback:function(e){t.$set(t.addNodeData,"paramType",e)},expression:"addNodeData.paramType"}},[a("el-option",{key:1,attrs:{label:"String",value:"String"}}),t._v(" "),a("el-option",{key:2,attrs:{label:"JSONObject",value:"JSONObject"}}),t._v(" "),a("el-option",{key:3,attrs:{label:"JSONArray",value:"JSONArray"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"中文名称：",prop:"description","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w9000",model:{value:t.addNodeData.description,callback:function(e){t.$set(t.addNodeData,"description",e)},expression:"addNodeData.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"remark","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w9000",attrs:{type:"textarea",rows:4},model:{value:t.addNodeData.remark,callback:function(e){t.$set(t.addNodeData,"remark",e)},expression:"addNodeData.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.addNodeFlag=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addNodeHandler("addNodeData")}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"绑定码值",visible:t.addResultCodeFlag,size:"tiny"},on:{"update:visible":function(e){t.addResultCodeFlag=e}}},[this.resultCodeList.length>0?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.resultCodeList,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"code",label:"码",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"value",label:"值",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.delApiResultCode(e.row)}}},[t._v("删除")])]}}],null,!1,1459562738)})],1):t._e(),t._v(" "),a("el-form",{attrs:{inline:!0,model:t.addResultCodeData}},[a("el-form-item",{attrs:{label:"码：",prop:"paramName",rules:[{min:1,max:15,message:"长度在 1 到 15 个字符",trigger:"blur"}]}},[a("el-input",{model:{value:t.addResultCodeData.code,callback:function(e){t.$set(t.addResultCodeData,"code",e)},expression:"addResultCodeData.code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"值：",prop:"remark"}},[a("el-input",{model:{value:t.addResultCodeData.value,callback:function(e){t.$set(t.addResultCodeData,"value",e)},expression:"addResultCodeData.value"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addResultCodeHandler("addNodeData")}}},[t._v("添 加")])],1)],1),t._v(" "),a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("errorCode对应表")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.errorCodeNum}},[a("el-table-column",{attrs:{prop:"num",label:"状态码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"des",label:"说明"}})],1)],1),t._v(" "),a("div",{staticClass:"apiTextNav",model:{value:t.detail,callback:function(e){t.detail=e},expression:"detail"}},[a("span",{staticClass:"f20"},[t._v("返回结果示例")]),t._v(" "),a("p",{staticClass:"writePlace"},[t._v(t._s(t.detail.example))])])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fl"},[a("span",{staticClass:"detailNav"},[t._v("接口文档")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t._v("正式环境：\n                      "),a("span",[t._v("http://inmgr.tfb.cn:5560")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t._v("测试环境：\n                      "),a("span",[t._v("http://172.32.3.175:5560")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("div",{staticStyle:{display:"flex","padding-right":"15px"}},[a("el-form",{staticClass:"search_form",staticStyle:{flex:"1","vertical-align":"top"},attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入appKey进行查询"},model:{value:t.searchParams.appKey,callback:function(e){t.$set(t.searchParams,"appKey",e)},expression:"searchParams.appKey"}}),t._v(" "),a("el-date-picker",{staticClass:"w200",attrs:{rangeSeparator:"/",type:"datetimerange",placeholder:"选择时间范围"},on:{change:t.dateChange},model:{value:t.rangeDate,callback:function(e){t.rangeDate=e},expression:"rangeDate"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.dataSearch()}}},[t._v("搜 索")])],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"fr",attrs:{type:"primary addOne"},on:{click:function(e){return t.exportBill()}}},[t._v("下载")])],1)],1)],1),t._v(" "),a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("div",{staticStyle:{position:"relative"}},["table"===t.showType?[a("el-table",{staticStyle:{width:"100%",border:"1px solid #e6e6e6","border-top":"1px solid #e6e6e6"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"",type:"index",label:"序号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"appKey",label:"客户名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"called",label:"调用量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"剩余量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"消费额",formatter:t.dataFixed}}),t._v(" "),a("el-table-column",{attrs:{prop:"balance",label:"余额",formatter:t.dataFixed}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"日期",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.searchDetailInt(e.row)}}},[t._v("查看详情")])]}}],null,!1,1085680497)})],1),t._v(" "),this.tableData.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.searchParams.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchParams.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.pageNumChange}})],1):t._e(),t._v(" "),this.tableData.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e()]:t._e(),t._v(" "),a("el-dialog",{attrs:{title:"详情信息",visible:t.dialogTableVisible,size:"large"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listDetailLoading,expression:"listDetailLoading"}],staticStyle:{width:"100%",border:"1px solid #e6e6e6"},attrs:{data:t.detailsTable,"max-height":600,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"appKey",sortable:"",label:"客户名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiId",label:"接口ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"count",label:"调用量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"消费额",formatter:t.dataFixed}}),t._v(" "),a("el-table-column",{attrs:{prop:"strategyName",label:"计费规则"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"日期",formatter:t.dateFormat}})],1),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"10px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"10px"},attrs:{"current-page":t.searchDetails.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchDetails.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalDetails},on:{"size-change":t.detailHandleSizeChange,"current-change":t.DetailHandleCurrentChange}})],1)],1)],2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"networkRelationship",staticStyle:{background:"#ffffff",height:"100%"}},[a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入名称进行查询"},model:{value:t.searcName,callback:function(e){t.searcName=e},expression:"searcName"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.initData()}}},[t._v("搜 索")])],1),t._v(" "),a("div",{staticClass:"fr",staticStyle:{"margin-right":"100px"}},[a("el-button",{attrs:{type:"primary addOne"},on:{click:function(e){return t.addName()}}},[t._v("添 加")]),t._v(" "),a("el-button",{attrs:{type:"primary addOne"},on:{click:function(e){return t.renovate()}}},[t._v("刷 新")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.tablegroup,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"path",label:"path"}}),t._v(" "),a("el-table-column",{attrs:{prop:"aUrl",label:"a中心地址"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bUrl",label:"b中心地址"}}),t._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"radiusBtn amendColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.amendNet(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticClass:"radiusBtn delColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.delNet(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),this.tablegroup.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum,"page-sizes":[10,20,30,40],"page-size":this.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:t.titleTab,visible:t.creatname,size:"tiny"},on:{"update:visible":function(e){t.creatname=e}}},[a("el-form",{ref:"addJson",staticClass:"demo-ruleForm",attrs:{model:t.addJson}},[a("el-form-item",{attrs:{label:"名称：",prop:"name","label-width":t.formLabelWidth,rules:[{required:!0,message:"名称不能为空"}]}},[a("el-input",{staticClass:"w9000",model:{value:t.addJson.name,callback:function(e){t.$set(t.addJson,"name",e)},expression:"addJson.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"path：",prop:"path","label-width":t.formLabelWidth,rules:[{required:!0,message:"path不能为空"}]}},[a("el-input",{staticClass:"w9000",model:{value:t.addJson.path,callback:function(e){t.$set(t.addJson,"path",e)},expression:"addJson.path"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"a中心地址：",prop:"aUrl","label-width":t.formLabelWidth,rules:[{required:!0,message:"a中心地址不能为空"}]}},[a("el-input",{staticClass:"w9000",model:{value:t.addJson.aUrl,callback:function(e){t.$set(t.addJson,"aUrl",e)},expression:"addJson.aUrl"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"b中心地址：",prop:"bUrl","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w9000",model:{value:t.addJson.bUrl,callback:function(e){t.$set(t.addJson,"bUrl",e)},expression:"addJson.bUrl"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"description","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w9000",attrs:{type:"textarea",rows:4,"auto-complete":"off"},model:{value:t.addJson.description,callback:function(e){t.$set(t.addJson,"description",e)},expression:"addJson.description"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.creatname=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addList("addJson")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"requestParamsList"},[a("div",{staticClass:"box"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("入参定义")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered"},[t._m(0),t._v(" "),t.requestParamsList.length<=0?a("tbody",[t._m(1)]):t._e(),t._v(" "),t.requestParamsList.length>0?a("tbody",t._l(t.requestParamsList,function(e,i){return a("tr",[a("td",[a("el-input",{staticClass:"inputValidate",on:{change:function(a){return t.paraNameVal(e,i)}},model:{value:e.paramName,callback:function(a){t.$set(e,"paramName",a)},expression:"item.paramName"}}),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate"},[t._v("请输入正确格式的参数,不能为空！")]),t._v(" "),a("p",{staticClass:"textRed din jqueryValidateSame"},[t._v("存在相同的参数名，请正确填写参数")])],1),t._v(" "),a("td",[a("el-select",{model:{value:e.paramsLocation,callback:function(a){t.$set(e,"paramsLocation",a)},expression:"item.paramsLocation"}},t._l(t.paramsLocationOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:t.disabled}})}),1)],1),t._v(" "),a("td",[a("el-select",{on:{change:function(a){return t.parTypeSix(e.paramsType)}},model:{value:e.paramsType,callback:function(a){t.$set(e,"paramsType",a)},expression:"item.paramsType"}},t._l(t.paramsTypeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("td",[a("el-checkbox",{on:{change:function(a){return t.paramsMusts(e.paramsMust,i)}},model:{value:1==e.paramsMust,callback:function(a){t.$set(e,"paramsMust == 1 ? true : false",a)},expression:"item.paramsMust == 1 ? true : false"}})],1),t._v(" "),a("td",[1==e.paramsType?a("el-input",{attrs:{disabled:1==e.paramsMust},model:{value:e.paramsDefaultValue,callback:function(a){t.$set(e,"paramsDefaultValue",a)},expression:"item.paramsDefaultValue"}}):t._e(),t._v(" "),2==e.paramsType||3==e.paramsType||4==e.paramsType||5==e.paramsType?a("el-input",{attrs:{disabled:1==e.paramsMust},on:{change:function(a){return t.IntegerNumVal(e.paramsDefaultValue,i)}},model:{value:e.paramsDefaultValue,callback:function(a){t.$set(e,"paramsDefaultValue",a)},expression:"item.paramsDefaultValue"}}):t._e(),t._v(" "),6==e.paramsType?a("el-select",{attrs:{placeholder:"请选择",disabled:1==e.paramsMust},model:{value:e.paramsDefaultValue,callback:function(a){t.$set(e,"paramsDefaultValue",a)},expression:"item.paramsDefaultValue"}},t._l(t.optionsBool,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.label}})}),1):t._e(),t._v(" "),a("p",{staticClass:"textRed din IntegerNum"},[t._v("请输入正确格式的参数！")])],1),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.paramsExample,expression:"item.paramsExample"}],staticClass:"form-control",attrs:{type:"text",maxlength:"255"},domProps:{value:e.paramsExample},on:{input:function(a){a.target.composing||t.$set(e,"paramsExample",a.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.paramsDescription,expression:"item.paramsDescription"}],staticClass:"form-control",attrs:{type:"text",maxlength:"255"},domProps:{value:e.paramsDescription},on:{input:function(a){a.target.composing||t.$set(e,"paramsDescription",a.target.value)}}})]),t._v(" "),a("td",[a("el-button",{staticClass:"radiusBtn",attrs:{type:"text",size:"small"},on:{click:function(e){return t.amendApiMore(i)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticClass:"radiusBtn",attrs:{type:"text",size:"small"},on:{click:function(e){return t.delTable(i)}}},[t._v("移除")])],1)])}),0):t._e()]),t._v(" "),a("el-button",{staticClass:"mt20",staticStyle:{"margin-top":"10px",padding:"10px 15px",width:"97px"},attrs:{type:"primary",size:"mini"},on:{click:t.addTable}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"5px"}}),t._v("增加一条")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"编辑更多",visible:t.amendApi,size:"small"},on:{"update:visible":function(e){t.amendApi=e}}},[t.requestParamsList.length>0?a("el-form",[1==t.requestParamsList[t.amendApiIndexEdit].paramsType?a("el-form-item",{attrs:{label:"最大长度","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w2000",attrs:{type:"number"},on:{change:function(e){return t.maxLine(t.requestParamsList[t.amendApiIndexEdit].maxLength)}},model:{value:t.requestParamsList[t.amendApiIndexEdit].maxLength,callback:function(e){t.$set(t.requestParamsList[t.amendApiIndexEdit],"maxLength",e)},expression:"requestParamsList[amendApiIndexEdit].maxLength"}}),t._v(" "),a("p",{staticClass:"textRed din maxDate"},[t._v("最大长度不能小于最小长度")])],1):t._e(),t._v(" "),1==t.requestParamsList[t.amendApiIndexEdit].paramsType?a("el-form-item",{attrs:{label:"最小长度","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w2000",attrs:{type:"number"},on:{change:function(e){return t.minLine(t.requestParamsList[t.amendApiIndexEdit].minLength)}},model:{value:t.requestParamsList[t.amendApiIndexEdit].minLength,callback:function(e){t.$set(t.requestParamsList[t.amendApiIndexEdit],"minLength",e)},expression:"requestParamsList[amendApiIndexEdit].minLength"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"参数验证","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w350",attrs:{type:"textarea",rows:4,placeholder:"输入正则表达式"},model:{value:t.requestParamsList[t.amendApiIndexEdit].regularExpress,callback:function(e){t.$set(t.requestParamsList[t.amendApiIndexEdit],"regularExpress",e)},expression:"requestParamsList[amendApiIndexEdit].regularExpress"}})],1)],1):t._e(),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.amendApi=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.lineValue}},[t._v("确 定")])],1)],1),t._v(" "),a("div",t._l(t.newBackParams,function(e,i){return a("div",[a("h4",[t._v(t._s(e.interfaceName))]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("后端服务参数")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered"},[t._m(2,!0),t._v(" "),e.backInParams.length<=0?a("tbody",[t._m(3,!0)]):t._e(),t._v(" "),e.backInParams.length>0?a("tbody",t._l(e.backInParams,function(i,s){return a("tr",[1==i.paramsType?a("td",[a("el-input",{on:{change:function(a){return t.paraNameVal2(i,s,e.backInParams)}},model:{value:i.paramName,callback:function(e){t.$set(i,"paramName",e)},expression:"paramData.paramName"}}),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate2"},[t._v("请输入正确格式的参数，不能为空！")])],1):t._e(),t._v(" "),1==i.paramsType?a("td",[a("el-select",{model:{value:i.paramsLocation,callback:function(e){t.$set(i,"paramsLocation",e)},expression:"paramData.paramsLocation"}},t._l(t.paramsLocationOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1):t._e(),t._v(" "),1==i.paramsType?a("td",[a("el-input",{attrs:{type:"text",disabled:""},model:{value:t.requestParamsList[s].paramName,callback:function(e){t.$set(t.requestParamsList[s],"paramName",e)},expression:"requestParamsList[index].paramName"}})],1):t._e(),t._v(" "),1==i.paramsType?a("td",[a("el-select",{attrs:{disabled:""},model:{value:t.requestParamsList[s].paramsLocation,callback:function(e){t.$set(t.requestParamsList[s],"paramsLocation",e)},expression:"requestParamsList[index].paramsLocation"}},t._l(t.paramsLocationOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1):t._e(),t._v(" "),1==i.paramsType?a("td",[a("el-select",{attrs:{disabled:""},model:{value:t.requestParamsList[s].paramsType,callback:function(e){t.$set(t.requestParamsList[s],"paramsType",e)},expression:"requestParamsList[index].paramsType"}},t._l(t.paramsTypeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1):t._e()])}),0):t._e()]),t._v(" "),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":function(e){return t.handleClick(i,e)}},model:{value:t.activeName[i],callback:function(e){t.$set(t.activeName,i,e)},expression:"activeName[index]"}},[a("el-tab-pane",{attrs:{label:"常量参数",name:"res"}},[a("table",{staticClass:"table table-hover table-bordered"},[a("thead",[a("tr",[a("th",[t._v("后端参数名称")]),t._v(" "),a("th",[t._v("参数值")]),t._v(" "),a("th",[t._v("参数位置")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("操作")])])]),t._v(" "),a("tbody",t._l(e.backValParams,function(e,s){return a("tr",[2==e.paramsType?a("td",[a("el-input",{staticClass:"inputValidate4",on:{change:function(a){return t.paraNameVal4(e,s)}},model:{value:e.paramName,callback:function(a){t.$set(e,"paramName",a)},expression:"paramDataRes.paramName"}}),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate4"},[t._v("请输入正确格式的参数，不能为空！")])],1):t._e(),t._v(" "),2==e.paramsType?a("td",[a("el-input",{staticClass:"inputValidate5",on:{change:function(a){return t.paraNameVal5(e,e.paramValue,s)}},model:{value:e.paramValue,callback:function(a){t.$set(e,"paramValue",a)},expression:"paramDataRes.paramValue"}}),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate5"},[t._v("请输入正确格式的参数值，不能为空！")])],1):t._e(),t._v(" "),2==e.paramsType?a("td",[a("el-select",{model:{value:e.paramsLocation,callback:function(a){t.$set(e,"paramsLocation",a)},expression:"paramDataRes.paramsLocation"}},t._l(t.paramsLocationOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1):t._e(),t._v(" "),2==e.paramsType?a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.paramDescription,expression:"paramDataRes.paramDescription"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.paramDescription},on:{input:function(a){a.target.composing||t.$set(e,"paramDescription",a.target.value)}}})]):t._e(),t._v(" "),2==e.paramsType?a("td",[a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.delNumData(i,s,e)}}},[t._v("移除")])],1):t._e()])}),0)]),t._v(" "),a("el-button",{staticStyle:{"margin-top":"10px",padding:"10px 15px",width:"97px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addNumData(i)}}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"5px"}}),t._v("增加一条")])],1),t._v(" "),a("el-tab-pane",{attrs:{label:"JSON",name:"json"}},[a("tr",[a("el-input",{staticStyle:{width:"800px"},attrs:{type:"textarea",rows:6},model:{value:e.backJson.paramValue,callback:function(a){t.$set(e.backJson,"paramValue",a)},expression:"item.backJson.paramValue"}}),t._v(" "),a("span",{staticClass:"jsonWritePlaceDialog jsonXmlCom",staticStyle:{top:"17px",left:"17px",width:"47%"},on:{click:function(e){return t.jsonClcik()}}},[t._v(t._s(e.backJson.paramValue))]),t._v(" "),a("el-button",{staticClass:"ml35",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){return t.formatVal(i)}}},[t._v("转换成JSON")])],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:"XML",name:"xml"}},[a("tr",[a("el-input",{staticStyle:{width:"800px"},attrs:{type:"textarea",rows:6},model:{value:e.backXml.paramValue,callback:function(a){t.$set(e.backXml,"paramValue",a)},expression:"item.backXml.paramValue"}})],1)])],1)],1)])])}),0)],1),t._v(" "),a("div",{staticClass:"dialog-footer teCen",attrs:{slot:"footer"},slot:"footer"},[a("router-link",{attrs:{to:{path:"/portManage/portApiManage",query:{id:this.apiId}}}},[a("el-button",{staticClass:"cancelBtn"},[t._v("取消")])],1),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.saveNewValue()}}},[t._v("保存")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("参数位置")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("默认值")]),t._v(" "),a("th",[t._v("示例")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v("操作")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"8"}},[a("span",[t._v("暂无数据")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("后端参数名称")]),t._v(" "),a("th",[t._v("后端参数位置")]),t._v(" "),a("th",[t._v("对应入参名称")]),t._v(" "),a("th",[t._v("对应入参位置")]),t._v(" "),a("th",[t._v("对应入参类型")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"5"}},[a("span",[t._v("暂无数据")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"accreditMes",staticStyle:{background:"#fff"}},[a("div",{staticClass:"detailBtn"},[a("span",{staticClass:"detailNav"},[t._v("授权信息")]),t._v(" "),a("router-link",{attrs:{to:"/portManage"}},[a("el-button",{attrs:{size:"small"}},[t._v("返回API列表")])],1)],1),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("基本信息")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered",model:{value:t.accreditMesDeatail,callback:function(e){t.accreditMesDeatail=e},expression:"accreditMesDeatail"}},[a("tbody",[a("tr",[a("td",[t._v("API名称：\n              "),a("span",[t._v(t._s(t.accreditMesDeatail.apiName))])]),t._v(" "),a("td",[t._v("ApiID：\n              "),a("span",[t._v(t._s(t.accreditMesDeatail.id))])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("描述：\n              "),a("span",[t._v(t._s(t.accreditMesDeatail.apiDescription))])])])])])]),t._v(" "),a("el-tabs",{staticStyle:{"margin-top":"20px"},attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"已授权的APP"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.appKeyData2,border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"appKey",label:"APP名称"}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"createTime",label:"授权时间",formatter:t.dateFormatRang}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"strategyName",label:"计费策略"}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"price",label:"单价"}})],1),t._v(" "),a("el-pagination",{staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{"current-page":t.pageNum,"page-size":this.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"授权",visible:t.accredit,size:"small",id:"accreditBox"},on:{"update:visible":function(e){t.accredit=e}}},[a("div",{staticClass:"accreditLine"}),t._v(" "),a("el-form",{model:{value:t.accreditMesDeatail,callback:function(e){t.accreditMesDeatail=e},expression:"accreditMesDeatail"}},[a("span",{staticStyle:{"font-weight":"700"}},[t._v("您将对下列API进行授权操作：")]),t._v(" "),a("div",{staticClass:"issueAPI"},[t._v(t._s(t.accreditMesDeatail.apiName))]),t._v(" "),a("span",{staticStyle:{"font-weight":"700"}},[t._v("选择要绑定的APP")]),t._v(" "),a("p"),t._v(" "),[a("el-radio-group",{on:{change:t.radioChange},model:{value:t.radioEnv,callback:function(e){t.radioEnv=e},expression:"radioEnv"}},[a("el-radio-button",{attrs:{label:"线上"}}),t._v(" "),a("el-radio-button",{attrs:{label:"预发"}})],1)],a("br"),t._v(" "),a("div",[a("p"),t._v(" "),a("div",{staticClass:"fl flBox",staticStyle:{"margin-bottom":"20px",width:"100%"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w250",attrs:{placeholder:"请输入应用名称"},model:{value:t.searchApp,callback:function(e){t.searchApp=e},expression:"searchApp"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.NoAppDataDetail()}}},[t._v("搜索")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",height:"380px",overflow:"auto"},attrs:{border:"","tooltip-effect":"dark",data:t.appKeyData},on:{"selection-change":t.handleSelectionChangeApi}},[a("el-table-column",{staticClass:"selection",attrs:{type:"selection",width:"55",prop:""},on:{"selection-change":t.handleSelectionChangeApi}}),t._v(" "),a("el-table-column",{attrs:{prop:"appName",label:"应用名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"appKey",label:"appKey"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}})],1)],1)])],2),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.accredit=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.NoAppDataDetailBtn}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"删除授权",size:"tiny",visible:t.relieveDialog},on:{"update:visible":function(e){t.relieveDialog=e}}},[a("el-form",{attrs:{model:t.delAccreditData}},[a("el-form-item",{attrs:{label:"授权名称：","label-width":t.formLabelWidth}},[a("span",[t._v(t._s(t.delAccreditData.appName))])])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.relieveDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.relieveBtn}},[t._v("确 定")])],1)],1)],1)])},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flowControl",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w350",attrs:{placeholder:"请输入APIID进行查询"},model:{value:t.searchStrategy,callback:function(e){t.searchStrategy=e},expression:"searchStrategy"}})],1),t._v(" "),a("el-form-item",[a("el-input",{staticClass:"w350",attrs:{placeholder:"请输入appKey进行查询"},model:{value:t.appKey,callback:function(e){t.appKey=e},expression:"appKey"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.handleCurrentChange(1)}}},[t._v("搜 索")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.flowData,"tooltip-effect":"dark","row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"appKey",label:"appKey"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiName",label:"API名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"strategyName",label:"绑定策略"}}),t._v(" "),a("el-table-column",{attrs:{prop:"total",label:"接口总量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[null==e.row.strategy&&t.bindBtn?a("el-button",{staticClass:"radiusBtn bindColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.bindFlow(e.row)}}},[t._v("绑定策略")]):t._e(),t._v(" "),null!==e.row.strategy&&t.ovBindBtn?a("el-button",{staticClass:"radiusBtn onBindColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.removeBindFlow(e.row)}}},[t._v("解绑")]):t._e(),t._v(" "),null!==e.row.strategy&&t.amendBtn?a("el-button",{staticClass:"radiusBtn amendColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.amendCon(e.row)}}},[t._v("　编辑")]):t._e()]}}])})],1),t._v(" "),t.flowData.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"绑定策略",visible:t.bindFlowDialog,size:"small",id:"accreditBox"},on:{"update:visible":function(e){t.bindFlowDialog=e}}},[a("div",{staticClass:"accreditLine"}),t._v(" "),a("el-form",[a("div",[a("span",[t._v("接口总量：\n           "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入接口总量"},model:{value:t.limitStrategyTotal,callback:function(e){t.limitStrategyTotal=e},expression:"limitStrategyTotal"}})],1),t._v(" "),a("p"),t._v(" "),a("div",{staticClass:"fl flBox",staticStyle:{"margin-bottom":"20px",width:"100%"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{id:"accreditInput"}},[a("el-input",{attrs:{placeholder:"请输入策略名称"},model:{value:t.oderr,callback:function(e){t.oderr=e},expression:"oderr"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"info searchOne"},on:{click:function(e){return t.getAppList()}}},[t._v("搜索")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",height:"380px",overflow:"auto"},attrs:{data:t.appList,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{label:"",width:"40"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{staticClass:"radio",attrs:{label:e.$index},nativeOn:{change:function(a){return t.getCurrentRow(e.row,e.$index)}},model:{value:t.radioVal,callback:function(e){t.radioVal=e},expression:"radioVal"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"策略名称",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"限流单位",formatter:t.unitFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"no",label:"限流次数"}})],1)],1)])]),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.bindFlowDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.setAuth()}}},[t._v("确 定")])],1)],1),t._v(" "),t.flowData.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum,"page-sizes":[10,20,30,40],"page-size":this.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flowMonitoringDetail",staticStyle:{background:"white"}},[a("div",{staticClass:"detailBtn",staticStyle:{padding:"8px 10px 0"}},[a("div",{staticClass:"fl"},[a("span",{staticClass:"detailNav"},[t._v("流量控制")]),t._v(" "),a("router-link",{attrs:{to:"/flowMonitoring"}},[a("el-button",{staticStyle:{width:"auto"},attrs:{size:"small"}},[t._v("返回流量控制列表")])],1)],1),t._v(" "),a("p",{staticStyle:{clear:"both"}})]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"绑定策略"}},[a("div",{staticClass:"panel panel-default",staticStyle:{position:"relative"}},[a("el-button",{staticClass:"fr",staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.bindApii()}}},[t._v("绑定APP")]),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.authedList,border:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{label:"分组",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"appName",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"appKey",label:"描述"}}),t._v(" "),a("el-table-column",{attrs:{prop:"appSecret",label:"运行环境"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"授权时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"radiusBtn",attrs:{type:"text",size:"small"},on:{click:function(a){return t.removeApp(e.row.id)}}},[t._v("解绑")])]}}])})],1)],1)])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"为策略绑定应用",visible:t.bindApi,size:"small",id:"accreditBox"},on:{"update:visible":function(e){t.bindApi=e},close:t.closeDialog}},[a("div",{staticClass:"accreditLine"}),t._v(" "),a("el-form",[a("div",[a("span",{staticStyle:{"font-weight":"700"}},[t._v("选择要绑定的应用")]),t._v(" "),a("p"),t._v(" "),a("div",{staticClass:"fl flBox",staticStyle:{"margin-bottom":"20px",width:"100%"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{id:"accreditInput"}},[a("el-input",{attrs:{placeholder:"请输入应用名称"},model:{value:t.oderr,callback:function(e){t.oderr=e},expression:"oderr"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getAppList()}}},[t._v("搜索")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",height:"380px",overflow:"auto"},attrs:{data:t.appList,border:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{staticClass:"selection",attrs:{type:"selection",width:"55",prop:"limitStrategyuuid",selectable:t.checkboxInit},on:{"selection-change":t.handleSelectionChange}}),t._v(" "),a("el-table-column",{attrs:{label:"应用名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.appName))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"appKey",label:"appKey"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",formatter:t.dateFormat}})],1)],1)])]),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.bindApi=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.setAuth()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改策略",visible:t.amendFluid,size:"tiny"},on:{"update:visible":function(e){t.amendFluid=e},close:t.closeModify}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称：","label-width":t.formLabelWidth,prop:"sName"}},[a("el-input",{staticClass:"w9000",model:{value:t.ruleForm.sName,callback:function(e){t.$set(t.ruleForm,"sName",e)},expression:"ruleForm.sName"}}),t._v(" "),a("p",[t._v("支持汉字、英文字母、数字、英文格式的下划线，必须以英文字母或汉字开头，4~15个字符")])],1),t._v(" "),a("el-form-item",{attrs:{label:"单位：","label-width":t.formLabelWidth,prop:"sUnit"}},[a("el-select",{staticClass:"w9000",attrs:{placeholder:"请选择单位"},model:{value:t.ruleForm.sUnit,callback:function(e){t.$set(t.ruleForm,"sUnit",e)},expression:"ruleForm.sUnit"}},[a("el-option",{key:1,attrs:{label:"分钟",value:1}}),t._v(" "),a("el-option",{key:2,attrs:{label:"小时",value:2}}),t._v(" "),a("el-option",{key:3,attrs:{label:"天",value:3}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"API流量限制：","label-width":t.formLabelWidth,prop:"sNo"}},[a("el-input",{staticClass:"w9000",model:{value:t.ruleForm.sNo,callback:function(e){t.$set(t.ruleForm,"sNo",e)},expression:"ruleForm.sNo"}}),t._v("\n        次 (不超过API流量限制值)\n      ")],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.amendFluid=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.modifyStrategy("ruleForm")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"apiTree"},[a("div",{staticClass:"treeBox"},[a("el-tree",{attrs:{"default-expand-all":"",accordion:"",props:t.defaultProps},on:{"node-click":t.handleNodeClick}})],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"portName"},[a("div",{staticClass:"addChild",attrs:{data:t.rowFlowData}},t._l(t.subApisData,function(e){return a("div",[a("b",{staticClass:"childSpan fl"},[t._v(t._s(e.interfaceName))]),t._v(" "),"admin"==t.parentMsg[0]?a("el-button",{class:null==e.id?"childDelBtn fr delColor mt15":"radiusBtn fr delColor mt15",attrs:{type:"text",size:"small"},on:{click:function(a){return t.delChildBtn(e)}}},[t._v("删除")]):t._e(),t._v(" "),a("router-link",{attrs:{to:{path:"portApiManage/portApiManage",query:{num:1,item2:e,rowFlowData:t.rowFlowData}}}},["admin"==t.parentMsg[0]?a("button",{directives:[{name:"show",rawName:"v-show",value:null!==e.id,expression:"item2.id !==null"}],staticClass:"radiusBtn fr amendColor mt15",attrs:{type:"text",size:"small"}},[t._v("编辑")]):t._e(),t._v(" "),"admin"==t.parentMsg[0]?a("button",{directives:[{name:"show",rawName:"v-show",value:null==e.id,expression:"item2.id ==null"}],staticClass:"radiusBtn fr amendColor mt15",attrs:{type:"text",size:"small"}},[t._v("编辑")]):t._e()])],1)}),0)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"codeMap",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[a("div",{staticClass:"w1660fr"},[t._m(0),t._v(" "),a("div",{staticClass:"dataTime",staticStyle:{height:"645px"}},[a("div",{staticClass:"monitoring-detail fl"},[a("div",{staticClass:"monitoringMes mr20 mb20 fl",staticStyle:{width:"49%"}},[a("span",[t._v("请求参数")]),t._v(" "),a("table",{staticClass:"table table-bordered"},[a("tbody",[a("tr",[a("td",{staticClass:"petitionWay"},[t._v("Http Method:\n                "),a("b",{staticClass:"petition"},[t._v(t._s(t.method))])]),t._v(" "),a("td",{staticClass:"petitionWay"},[t._v("Path:\n                "),a("b",{staticClass:"petition"},[t._v(t._s(t.uri))])])]),t._v(" "),a("tr",{attrs:{id:"headers"}},[a("td",{attrs:{colspan:"2"}},[a("b",[t._v("Header")]),t._v(" "),a("p"),t._v(" "),a("ul",t._l(t.headers,function(e,i){return a("li",{staticClass:"headers"},[1==e.paramMust?a("div",{staticStyle:{display:"inline-block"}},[a("b",{staticClass:"mustTip"},[t._v("*")])]):a("div",{staticStyle:{display:"inline-block"}},[t._v("　")]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.paramDescription,placement:"right"}},[a("label",{staticStyle:{width:"40%",color:"#1f2d3d"}},[t._v(t._s(e.paramName))])]),t._v(" "),a("i",{staticStyle:{margin:"0 20px"}},[t._v("=")]),t._v(" "),a("el-input",{staticStyle:{width:"40%"},model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"header.model"}})],1)}),0)])]),t._v(" "),a("tr",{attrs:{id:"querys"}},[a("td",{attrs:{colspan:"2"}},[a("b",[t._v("Query")]),t._v(" "),a("p"),t._v(" "),a("ul",t._l(t.querys,function(e,i){return a("li",{staticClass:"headers"},[1==e.paramMust?a("div",{staticStyle:{display:"inline-block"}},[a("b",{staticClass:"mustTip"},[t._v("*")])]):a("div",{staticStyle:{display:"inline-block"}},[t._v("　")]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.paramDescription,placement:"right"}},[a("label",{staticStyle:{width:"40%",color:"#1f2d3d"}},[t._v(t._s(e.paramName))])]),t._v(" "),a("i",{staticStyle:{margin:"0 20px"}},[t._v("=")]),t._v(" "),a("el-input",{staticStyle:{width:"40%"},model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"query.model"}})],1)}),0)])]),t._v(" "),a("tr",{attrs:{id:"bodys"}},[a("td",{attrs:{colspan:"2"}},[a("b",[t._v("Body")]),t._v(" "),a("p"),t._v(" "),a("ul",t._l(t.bodys,function(e,i){return a("li",{staticClass:"headers"},[1==e.paramMust?a("div",{staticStyle:{display:"inline-block"}},[a("b",{staticClass:"mustTip"},[t._v("*")])]):a("div",{staticStyle:{display:"inline-block"}},[t._v("　")]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.paramDescription,placement:"top"}},[a("label",{staticStyle:{width:"40%",color:"#1f2d3d"}},[t._v(t._s(e.paramName))])]),t._v(" "),a("i",{staticStyle:{margin:"0 20px"}},[t._v("=")]),t._v(" "),a("el-input",{staticStyle:{width:"40%"},model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"body.model"}})],1)}),0)])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[a("el-button",{staticClass:"sendBtn",staticStyle:{"text-align":"center"},attrs:{type:"primary"},on:{click:function(e){return t.sendPost()}}},[t._v("发送请求")]),t._v(" "),a("small",[a("router-link",{attrs:{to:{path:"errorText",query:{id:this.$route.query.id,apiGroupId:this.$route.query.apiGroupId,productEnvVersion:this.$route.query.productEnvVersion}}}},[t._v("错误码查询表")]),t._v(" （X-Ca-Error-Message字段为错误码字段）")],1)],1)])])])]),t._v(" "),a("div",{staticClass:"returnRes fr"},[a("span",[t._v("返回结果")]),t._v(" "),a("zk-table",{ref:"table",attrs:{"sum-text":"sum","index-text":"#",data:t.result.resultList,columns:t.columns,stripe:t.props.stripe,border:t.props.border,"show-header":t.props.showHeader,"show-summary":t.props.showSummary,"show-row-hover":t.props.showRowHover,"show-index":t.props.showIndex,"tree-type":t.props.treeType,"is-fold":t.props.isFold,"expand-type":t.props.expandType,"selection-type":t.props.selectionType}})],1)])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detailBtn"},[a("span",{staticClass:"detailNav"},[t._v("接口查询")])])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flowControl",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w350",attrs:{placeholder:"请输入API名称进行查询"},model:{value:t.searchStrategy,callback:function(e){t.searchStrategy=e},expression:"searchStrategy"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.handleCurrentChange(1)}}},[t._v("搜 索")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.flowData,"tooltip-effect":"dark","row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"apiName",label:"API名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"strategyName",label:"绑定策略"}}),t._v(" "),a("el-table-column",{attrs:{prop:"limitStrategyTotal",label:"接口总量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"操作时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[null==e.row.limitStrategyuuid&&t.bindBtn?a("el-button",{staticClass:"radiusBtn bindColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.bindFlow(e.row)}}},[t._v("绑定策略")]):t._e(),t._v(" "),null!==e.row.limitStrategyuuid&&t.ovBindBtn?a("el-button",{staticClass:"radiusBtn onBindColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.removeBindFlow(e.row)}}},[t._v("解绑")]):t._e(),t._v(" "),null!==e.row.limitStrategyuuid&&t.amendBtn?a("el-button",{staticClass:"radiusBtn amendColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.amendCon(e.row)}}},[t._v("　编辑")]):t._e()]}}])})],1),t._v(" "),t.flowData.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"绑定策略",visible:t.bindFlowDialog,size:"small",id:"accreditBox"},on:{"update:visible":function(e){t.bindFlowDialog=e}}},[a("div",{staticClass:"accreditLine"}),t._v(" "),a("el-form",[a("div",[a("span",[t._v("接口总量：\n           "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入接口总量"},model:{value:t.limitStrategyTotal,callback:function(e){t.limitStrategyTotal=e},expression:"limitStrategyTotal"}})],1),t._v(" "),a("p"),t._v(" "),a("div",{staticClass:"fl flBox",staticStyle:{"margin-bottom":"20px",width:"100%"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{id:"accreditInput"}},[a("el-input",{attrs:{placeholder:"请输入策略名称"},model:{value:t.oderr,callback:function(e){t.oderr=e},expression:"oderr"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"info searchOne"},on:{click:function(e){return t.getAppList()}}},[t._v("搜索")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",height:"380px",overflow:"auto"},attrs:{data:t.appList,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{label:"",width:"40"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{staticClass:"radio",attrs:{label:e.$index},nativeOn:{change:function(a){return t.getCurrentRow(e.row,e.$index)}},model:{value:t.radioVal,callback:function(e){t.radioVal=e},expression:"radioVal"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"策略名称",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"限流单位",formatter:t.unitFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"no",label:"限流次数"}})],1)],1)])]),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.bindFlowDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.setAuth()}}},[t._v("确 定")])],1)],1),t._v(" "),t.flowData.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum,"page-sizes":[10,20,30,40],"page-size":this.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("div",{staticStyle:{display:"flex","padding-right":"15px"}},[a("el-form",{staticClass:"search_form",staticStyle:{flex:"1","vertical-align":"top"},attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入appKey进行查询"},model:{value:t.searchParams.appKey,callback:function(e){t.$set(t.searchParams,"appKey",e)},expression:"searchParams.appKey"}}),t._v(" "),a("el-date-picker",{staticClass:"w200",attrs:{rangeSeparator:"/",type:"datetimerange",placeholder:"选择时间范围"},on:{change:t.dateChange},model:{value:t.rangeDate,callback:function(e){t.rangeDate=e},expression:"rangeDate"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.dataSearch()}}},[t._v("搜 索")])],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"fr",attrs:{type:"primary addOne"},on:{click:function(e){return t.exportBill()}}},[t._v("下载")])],1)],1)],1),t._v(" "),a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("div",{staticStyle:{position:"relative"}},["table"===t.showType?[a("el-table",{staticStyle:{width:"100%",border:"1px solid #e6e6e6","border-top":"1px solid #e6e6e6"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"",type:"index",label:"序号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"appKey",label:"客户名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"called",label:"调用量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"剩余量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"消费额",formatter:t.dataFixed}}),t._v(" "),a("el-table-column",{attrs:{prop:"balance",label:"余额",formatter:t.dataFixed}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"日期",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.searchDetailInt(e.row)}}},[t._v("查看详情")])]}}],null,!1,1085680497)})],1),t._v(" "),this.tableData.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.searchParams.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchParams.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.pageNumChange}})],1):t._e(),t._v(" "),this.tableData.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e()]:t._e(),t._v(" "),a("el-dialog",{attrs:{title:"详情信息",visible:t.dialogTableVisible,size:"large"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listDetailLoading,expression:"listDetailLoading"}],staticStyle:{width:"100%",border:"1px solid #e6e6e6"},attrs:{data:t.detailsTable,"max-height":600,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"appKey",sortable:"",label:"客户名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiId",label:"接口ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"count",label:"调用量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"消费额",formatter:t.dataFixed}}),t._v(" "),a("el-table-column",{attrs:{prop:"strategyName",label:"计费规则"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"日期",formatter:t.dateFormat}})],1),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"10px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"10px"},attrs:{"current-page":t.searchDetails.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchDetails.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalDetails},on:{"size-change":t.detailHandleSizeChange,"current-change":t.DetailHandleCurrentChange}})],1)],1)],2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ipList",staticStyle:{background:"#ffffff",height:"100%"}},[a("div",{staticClass:"box"},[a("ul",[a("li",[a("h3",[t._v(t._s(t.freqLabel))]),a("p",[t._v("频率(笔/"),a("span",[t._v(t._s(t.uniTime))]),t._v(")")])]),t._v(" "),a("li",{staticStyle:{"background-image":"linear-gradient(90deg,#44b89f,#7ae0f9)","background-color":"#44b89f"}},[a("h3",[t._v(t._s(t.countLabel))]),a("p",[t._v("总量")])])])]),t._v(" "),a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"datetime",placeholder:"请选择日期时间"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),t._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"datetime",placeholder:"请选择日期时间"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}}),t._v(" "),a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入apiId进行查询"},model:{value:t.apiId,callback:function(e){t.apiId=e},expression:"apiId"}}),t._v(" "),a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入appKey进行查询"},model:{value:t.appKey,callback:function(e){t.appKey=e},expression:"appKey"}}),t._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"是否缓存"},model:{value:t.cached,callback:function(e){t.cached=e},expression:"cached"}},t._l(t.cachedOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-select",{staticClass:"w200",attrs:{clearable:"",placeholder:"是否成功"},model:{value:t.resultStatus,callback:function(e){t.resultStatus=e},expression:"resultStatus"}},t._l(t.resultStatusOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-select",{staticClass:"w200",attrs:{clearable:"",placeholder:"频率单位"},model:{value:t.timeUnit,callback:function(e){t.timeUnit=e},expression:"timeUnit"}},t._l(t.timeUnitOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.initData()}}},[t._v("搜 索")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.tablegroup,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"apiId",label:"APIID",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiName",label:"API名称",width:"280"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"平均响应时间",formatter:t.dateFormat},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.responseTime)+" ms")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"totalCount",label:"总量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"successData",label:"成功量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalFail",label:"失败量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cachedData",label:"缓存量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalException",label:"异常量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"成功率"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:0===t.row.totalCount?0:Math.round(t.row.successData/t.row.totalCount*100),status:0===t.row.totalCount?"exception":t.row.successData/t.row.totalCount==1?"success":"exception"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"频率"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.frequency)+" 笔/"+t._s(t.uniTime))])]}}])})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"newValue",staticStyle:{background:"#ffffff",height:"100%"}},[a("requestParamsList",{attrs:{apiId:t.apiId}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"groupHerfId",staticClass:"demo-ruleForm",attrs:{model:t.groupHerfId}},[a("span",{staticStyle:{"font-weight":"700"}},[t._v("您将要发布以下API：")]),t._v(" "),a("div",{staticClass:"issueAPI"},[t._v(t._s(t.groupHerfId.apiName))]),t._v(" "),a("el-form-item",{attrs:{prop:"pubDescription",label:"请填写变更备注：",rules:[{required:!0,message:"备注不能为空"},{validator:t.issueEmpty,trigger:"blur"},{min:1,max:180,message:"长度在 1 到 180 个字符",trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"必填，不超过180个字符","auto-complete":"off"},model:{value:t.groupHerfId.pubDescription,callback:function(e){t.$set(t.groupHerfId,"pubDescription",e)},expression:"groupHerfId.pubDescription"}})],1),t._v(" "),a("p",{staticClass:"textRed"},[t._v("如果您设置了使用Mock，实际请求则不会调用到后端服务， 请仔细确认")]),t._v(" "),a("p",[t._v("该操作将导致线上环境的该API被覆盖，请仔细确认")])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){return t.$emit("cancle","")}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.publishApi("groupHerfId")}}},[t._v("发布")])],1)],1)},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.tablegroup,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"instanceId",label:"instanceId"}}),t._v(" "),a("el-table-column",{attrs:{prop:"hostName",label:"hostName"}}),t._v(" "),a("el-table-column",{attrs:{prop:"appName",label:"appName"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"status",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("span",{staticClass:"status_span",style:{background:t.row.status}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"healthCheckUrl",label:"healthCheckUrl"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return["gray"===e.row.status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.joinHealth(e.row)}}},[t._v("加入")]):t._e(),t._v(" "),"gray"!==e.row.status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.outHealth(e.row)}}},[t._v("退出")]):t._e()]}}])})],1),t._v(" "),this.tablegroup.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ipList",staticStyle:{background:"#ffffff",height:"100%"}},[i("el-form",{staticClass:"search_form",attrs:{inline:!0}},[i("el-form-item",[i("el-input",{staticClass:"w350",attrs:{placeholder:"请输入appKey进行查询"},model:{value:t.searchForm.appKey,callback:function(e){t.$set(t.searchForm,"appKey",e)},expression:"searchForm.appKey"}})],1),t._v(" "),i("el-form-item",[i("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.searchData()}}},[t._v("搜 索")]),t._v(" "),i("el-button",{staticClass:"searchOne",attrs:{type:"primary addOne"},on:{click:function(e){t.createCustomer=!0,t.titleText="新建客户"}}},[t._v("新 建")])],1)],1),t._v(" "),i("el-table",{staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.tableList,"row-class-name":this.utils.tableRowClassName}},[i("el-table-column",{attrs:{prop:"",type:"index",label:"序号"}}),t._v(" "),i("el-table-column",{attrs:{prop:"appKey",label:"appKey"}}),t._v(" "),i("el-table-column",{attrs:{prop:"appName",label:"客户名称"}}),t._v(" "),i("el-table-column",{attrs:{prop:"createTime",label:"创建时间",formatter:t.dateFormat}}),t._v(" "),i("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",formatter:t.dateFormat}}),t._v(" "),i("el-table-column",{attrs:{prop:"balance",label:"余额",formatter:t.dataFixed}}),t._v(" "),t._e(),t._v(" "),i("el-table-column",{attrs:{prop:"strategyName",label:"计费规则"}}),t._v(" "),i("el-table-column",{attrs:{prop:"stock",label:"调用余量"}}),t._v(" "),i("el-table-column",{attrs:{prop:"price",label:"价格"}}),t._v(" "),t._e(),t._v(" "),i("el-table-column",{attrs:{label:"充值操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.recharge(e.row)}}},[t._v("充值")]),t._v(" "),i("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.initDataChargeRecord(e.row)}}},[t._v("记录")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.balanceCustomer(e.row)}}},[t._v("余额记录")]),t._v(" "),i("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.updateCustomer(e.row)}}},[t._v("编辑")]),t._v(" "),i("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteCustomer(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),this.tableList.length<1?i("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),i("span",[t._v("暂无数据")])]):t._e(),t._v(" "),this.tableList.length>0?i("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[i("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.searchForm.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchForm.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),t._v(" "),i("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:t.titleText,visible:t.createCustomer,size:"tiny"},on:{"update:visible":function(e){t.createCustomer=e},close:t.closeDialog}},[i("el-form",{ref:"addGroupData",staticClass:"demo-ruleForm",attrs:{model:t.addGroupData,rules:t.rules}},[i("el-form-item",{attrs:{label:"appKey：",prop:"appKey","label-width":t.formLabelWidth,rules:[{required:!0,message:"appKey不能为空"}]}},[i("el-input",{staticClass:"w9000",attrs:{disabled:"新建客户"!==this.titleText},model:{value:t.addGroupData.appKey,callback:function(e){t.$set(t.addGroupData,"appKey",e)},expression:"addGroupData.appKey"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"客户名称：",prop:"appName","label-width":t.formLabelWidth}},[i("el-input",{staticClass:"w9000",model:{value:t.addGroupData.appName,callback:function(e){t.$set(t.addGroupData,"appName",e)},expression:"addGroupData.appName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"描述：",prop:"description","label-width":t.formLabelWidth}},[i("el-input",{staticClass:"w9000",model:{value:t.addGroupData.description,callback:function(e){t.$set(t.addGroupData,"description",e)},expression:"addGroupData.description"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"余额：",prop:"balance","label-width":t.formLabelWidth}},[i("el-input",{staticClass:"w9000",model:{value:t.addGroupData.balance,callback:function(e){t.$set(t.addGroupData,"balance",e)},expression:"addGroupData.balance"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"计费规则：",prop:"strategyUuid","label-width":t.formLabelWidth}},[i("el-select",{staticClass:"w9000",attrs:{filterable:"",placeholder:"请选择计费规则"},model:{value:t.addGroupData.strategyUuid,callback:function(e){t.$set(t.addGroupData,"strategyUuid",e)},expression:"addGroupData.strategyUuid"}},[i("el-option",{key:"1",attrs:{label:"清除计费规则",value:""}}),t._v(" "),t._l(t.billingRules,function(t){return i("el-option",{key:t.uuid,attrs:{label:t.name,value:t.uuid}})})],2)],1),t._v(" "),i("el-form-item",{attrs:{label:"价格：",prop:"price","label-width":t.formLabelWidth}},[i("el-input",{staticClass:"w9000",model:{value:t.addGroupData.price,callback:function(e){t.$set(t.addGroupData,"price",e)},expression:"addGroupData.price"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.createCustomer=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.createCustomerCommit()}}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:t.titleText,visible:t.rechargeFlag,size:"tiny"},on:{"update:visible":function(e){t.rechargeFlag=e}}},[i("el-form",{ref:"rechargeData",staticClass:"demo-ruleForm",attrs:{model:t.rechargeData}},[i("el-form-item",{attrs:{label:"appKey：",prop:"appKey","label-width":t.formLabelWidth}},[i("el-input",{staticClass:"w9000",attrs:{disabled:!0},model:{value:t.rechargeData.appKey,callback:function(e){t.$set(t.rechargeData,"appKey",e)},expression:"rechargeData.appKey"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"金额：",prop:"amount","label-width":t.formLabelWidth}},[i("el-input",{staticClass:"w9000",model:{value:t.rechargeData.amount,callback:function(e){t.$set(t.rechargeData,"amount",e)},expression:"rechargeData.amount"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"备注：",prop:"remark","label-width":t.formLabelWidth}},[i("el-input",{staticClass:"w9000",model:{value:t.rechargeData.remark,callback:function(e){t.$set(t.rechargeData,"remark",e)},expression:"rechargeData.remark"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.rechargeFlag=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.rechargeCommit()}}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:t.chargeRecordTitleText,visible:t.chargeRecordFlag,size:"small"},on:{"update:visible":function(e){t.chargeRecordFlag=e},close:function(e){t.chargeRecordFlag=!1}}},[i("el-table",{staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.chargeRecordList,"row-class-name":this.utils.tableRowClassName}},[i("el-table-column",{attrs:{prop:"",type:"index",label:"序号"}}),t._v(" "),i("el-table-column",{attrs:{prop:"amount",label:"金额"}}),t._v(" "),i("el-table-column",{attrs:{prop:"createTime",label:"充值时间",formatter:t.dateFormat}}),t._v(" "),i("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1),t._v(" "),this.chargeRecordList.length<1?i("div",{staticClass:"teCen mt60"},[i("p",[i("img",{attrs:{src:a(8)}})]),t._v(" "),i("span",[t._v("暂无数据")])]):t._e(),t._v(" "),this.chargeRecordList.length>0?i("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[i("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum_charge,"page-sizes":[10,20,30,40],"page-size":t.pageSize_charge,layout:" sizes, prev, pager, next, jumper",total:t.totalCount_charge},on:{"size-change":t.handleSizeChangeCharge,"current-change":t.handleCurrentChangeCharge}})],1):t._e()],1),t._v(" "),i("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"详情",visible:t.showBalanceDialog,size:"large"},on:{"update:visible":function(e){t.showBalanceDialog=e},close:t.dialogBalanceClose}},[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%","border-bottom":"1px solid #e6e6e6","border-right":"1px solid #e6e6e6"},attrs:{data:t.tableBalanceData,"tooltip-effect":"dark","row-class-name":this.utils.tableRowClassName}},[i("el-table-column",{attrs:{prop:"id",label:"id"}}),t._v(" "),i("el-table-column",{attrs:{prop:"appKey",label:"客户"}}),t._v(" "),i("el-table-column",{attrs:{prop:"balance",label:"余额"}}),t._v(" "),i("el-table-column",{attrs:{prop:"stock",label:"余量"}}),t._v(" "),i("el-table-column",{attrs:{prop:"createTime",label:"日期",formatter:t.dateFormat}})],1),t._v(" "),this.tableBalanceData.length>0?i("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[i("el-pagination",{staticStyle:{"text-align":"right","margin-top":"30px"},attrs:{"current-page":this.balanceSearch.pageNum,"page-sizes":[10,20,30,40],"page-size":this.balanceSearch.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.tableBalanceTotal},on:{"size-change":t.handleSizeBalanceChange,"current-change":t.handleCurrentBalanceChange}})],1):t._e()],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("名称及描述")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered",model:{value:t.apiDefineDetail,callback:function(e){t.apiDefineDetail=e},expression:"apiDefineDetail"}},[a("tbody",{staticStyle:{"margin-bottom":"10px",position:"relative"}},[a("p",{staticStyle:{position:"absolute",top:"20px",left:"115px"}},[a("b",[t._v("（版本："+t._s(t.detialVersionFlag))]),t._v("）")]),t._v(" "),a("tr",[a("td",[t._v("分组：\n              "),a("span",[t._v(t._s(t.apiDefineDetail.groupName))])]),t._v(" "),a("td",[t._v("名称：\n              "),a("span",[t._v(t._s(t.apiDefineDetail.apiName))])])]),t._v(" "),a("tr",[a("td",[t._v("是否存储：\n              "),a("span",[t._v(t._s(1==t.apiDefineDetail.saveMongoDB?"是":"否"))])]),t._v(" "),a("td",[t._v("是否发送MQ：\n              "),a("span",[t._v(t._s(1==t.apiDefineDetail.saveMQ?"是":"否"))])])]),t._v(" "),a("tr",[a("td",[t._v("Mongodb地址：\n              "),a("span",[t._v(t._s(t.apiDefineDetail.mongodbURI))])]),t._v(" "),a("td",[t._v("Mongodb库名:\n              "),a("span",[t._v(t._s(t.apiDefineDetail.mongodbDBName))])])]),t._v(" "),a("tr",[a("td",[t._v("Mongodb表名：\n              "),a("span",[t._v(t._s(t.apiDefineDetail.mongodbCollectionName))])]),t._v(" "),a("td",[t._v("描述：\n              "),a("span",[t._v(t._s(t.apiDefineDetail.apiDescription))])])]),t._v(" "),a("tr",[a("td",[t._v("MQ类型：\n              "),a("span",[t._v(t._s(1==t.apiDefineDetail.mqType?"rabbbitmq":"kafka"))])]),t._v(" "),a("td",[t._v("MQ地址：\n              "),a("span",[t._v(t._s(t.apiDefineDetail.mqAddress))])])]),t._v(" "),a("tr",[a("td",[t._v("用户名：\n              "),a("span",[t._v(t._s(t.apiDefineDetail.mqUserName))])]),t._v(" "),a("td",[t._v("密码：\n              "),a("span",[t._v(t._s(t.apiDefineDetail.mqPasswd))])])]),t._v(" "),a("tr",[a("td",[t._v("队列名称：\n              "),a("span",[t._v(t._s(t.apiDefineDetail.mqTopicName))])]),t._v(" "),t._m(0)])])])])]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("后端服务信息")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered",model:{value:t.apiDefineDetail,callback:function(e){t.apiDefineDetail=e},expression:"apiDefineDetail"}},[a("tbody",[a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("A中心地址：\n              "),a("span",[t._v(t._s(t.apiDefineDetail.backEndAddress))])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("B中心地址：\n                "),a("span",[t._v(t._s(t.apiDefineDetail.backEndAddressB))])])]),t._v(" "),a("tr",[a("td",[t._v("Mock：\n              "),a("span",[t._v(t._s(1==t.apiDefineDetail.isMock?"是":"否"))])]),t._v(" "),a("td",[t._v("后端超时：\n              "),a("span",[t._v(t._s(t.apiDefineDetail.backEndTimeout))]),t._v(" ms\n            ")])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("Mock返回结果：\n              "),a("span",[t._v(t._s(t.apiDefineDetail.mockData))])])])])])])]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("请求基础定义")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered",model:{value:t.apiDefineDetail,callback:function(e){t.apiDefineDetail=e},expression:"apiDefineDetail"}},[a("tbody",[a("tr",[a("td",[t._v("Path：\n              "),a("span",[t._v(t._s(t.apiDefineDetail.httpPath))])]),t._v(" "),t._m(1)]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("HTTP Method：\n              "),a("span",[t._v(t._s(1==t.apiDefineDetail.httpMethod?"GET":"POST"))])])])])])])]),t._v(" "),a("div",{staticClass:"panel panel-default",staticStyle:{position:"relative"}},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("请求入参信息")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered"},[t._m(2),t._v(" "),t.requestParamsVersionsList.length<=0?a("tbody",[t._m(3)]):t._e(),t._v(" "),t.requestParamsVersionsList.length>0?a("tbody",t._l(t.requestParamsVersionsList,function(e,i){return a("tr",[a("td",[t._v(t._s(e.paramName))]),t._v(" "),a("td",[1==e.paramsType?a("span",[t._v("String")]):2==e.paramsType?a("span",[t._v("Integer")]):3==e.paramsType?a("span",[t._v("Long")]):4==e.paramsType?a("span",[t._v("Float")]):5==e.paramsType?a("span",[t._v("Double")]):6==e.paramsType?a("span",[t._v("Boolean")]):t._e()]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.paramsMust?"是":"否"))])]),t._v(" "),a("td",[t._v(t._s(e.paramsDefaultValue))]),t._v(" "),a("td",[t._v(t._s(e.paramsExample))]),t._v(" "),a("td",[t._v(t._s(e.paramsDescription))]),t._v(" "),a("td",[t._v(t._s(e.paramName))]),t._v(" "),a("td",[a("a",{staticClass:"radiusBtn",staticStyle:{padding:"0 8px",color:"#1C72EE"},attrs:{href:"javascript:void(0)"},on:{mouseover:function(e){return t.moreStart(i)},mouseleave:function(e){return t.moreEnd(i)}}},[t._v("更多")]),t._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:t.moreMes,expression:"moreMes"}],staticClass:"moreMesStyle",staticStyle:{width:"400px"}},[a("el-form-item",{attrs:{label:"最大长度","label-width":t.formLabelWidth}},[a("span",[t._v(t._s(t.requestParamsVersionsList[t.amendApiIndex2].maxLength))])]),t._v(" "),a("el-form-item",{attrs:{label:"最小长度","label-width":t.formLabelWidth}},[a("span",[t._v(t._s(t.requestParamsVersionsList[t.amendApiIndex2].minLength))])]),t._v(" "),a("el-form-item",{attrs:{label:"参数验证","label-width":t.formLabelWidth}},[a("span",[t._v(t._s(t.requestParamsVersionsList[t.amendApiIndex2].regularExpress))])])],1)],1)])}),0):t._e()])])]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("后端服务参数")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered"},[t._m(4),t._v(" "),t.backEndParam2.length<=0?a("tbody",[t._m(5)]):t._e(),t._v(" "),t.backEndParam2.length>0?a("tbody",t._l(t.backEndParam2,function(e,i){return a("tr",[a("td",[t._v(t._s(e.paramName))]),t._v(" "),a("td",[1==e.paramsType?a("span",[t._v("header")]):2==e.paramsType?a("span",[t._v("query")]):3==e.paramsType?a("span",[t._v("body")]):t._e()]),t._v(" "),a("td",[a("span",[t._v(t._s(t.requestParamsVersionsList[i].paramName))])]),t._v(" "),a("td",[1==t.requestParamsVersionsList[i].paramsLocation?a("span",[t._v("header")]):2==t.requestParamsVersionsList[i].paramsLocation?a("span",[t._v("query")]):3==t.requestParamsVersionsList[i].paramsLocation?a("span",[t._v("body")]):t._e()]),t._v(" "),a("td",[1==t.requestParamsVersionsList[i].paramsType?a("span",[t._v("String")]):2==t.requestParamsVersionsList[i].paramsType?a("span",[t._v("Integer")]):3==t.requestParamsVersionsList[i].paramsType?a("span",[t._v("Long")]):4==t.requestParamsVersionsList[i].paramsType?a("span",[t._v("Float")]):5==t.requestParamsVersionsList[i].paramsType?a("span",[t._v("Double")]):6==t.requestParamsVersionsList[i].paramsType?a("span",[t._v("Boolean")]):t._e()])])}),0):t._e()])])]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("常量参数")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered"},[t._m(6),t._v(" "),t.numData2.length<=0?a("tbody",[t._m(7)]):t._e(),t._v(" "),t.numData2.length>0?a("tbody",t._l(t.numData2,function(e){return a("tr",[a("td",[a("span",[t._v(t._s(e.paramName))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.paramValue))])]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.paramsLocation?"header":2==e.paramsLocation?"query":"body"))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.paramDescription))])])])}),0):t._e()])])]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("返回结果")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered",model:{value:t.groupHerfId,callback:function(e){t.groupHerfId=e},expression:"groupHerfId"}},[a("tbody",[a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("返回类型：\n            "),a("span",[t._v(t._s(1==t.groupHerfId.callBackType?"JSON":""))])])]),t._v(" "),a("tr",[a("td",{staticStyle:{float:"left",width:"50%",height:"200px"}},[t._v("返回结果示例：\n              "),a("span",{staticClass:"successWritePlaceDialog",staticStyle:{width:"313px",height:"160px",display:"block",overflow:"auto"}},[t._v(t._s(t.groupHerfId.callBackSuccessExample))])]),t._v(" "),a("td",{staticStyle:{float:"right",width:"50%",height:"200px"}},[t._v("失败返回结果示例：\n              "),a("span",{staticClass:"errorWritePlaceDialog",staticStyle:{width:"313px",height:"160px",display:"block",overflow:"auto"}},[t._v(t._s(t.groupHerfId.callBackFailExample))])])])])])])]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$emit("closeLook","")}}},[t._v("关 闭")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[t._v("协议：\n              "),a("span",[t._v("HTTP")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("默认值")]),t._v(" "),a("th",[t._v("示例")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("后端参数名称")]),t._v(" "),a("th",[t._v("操作")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"8"}},[a("span",[t._v("暂无数据")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("后端参数名称")]),t._v(" "),a("th",[t._v("后端参数位置")]),t._v(" "),a("th",[t._v("对应入参名称")]),t._v(" "),a("th",[t._v("对应入参位置")]),t._v(" "),a("th",[t._v("对应入参类型")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"5"}},[a("span",[t._v("暂无数据")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("后端参数名称")]),t._v(" "),a("th",[t._v("参数值")]),t._v(" "),a("th",[t._v("参数位置")]),t._v(" "),a("th",[t._v("描述")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"4"}},[a("span",[t._v("暂无数据")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"addGroupDataDialog",staticClass:"demo-ruleForm",attrs:{model:t.addGroupDataDialog,rules:t.rules}},[a("el-form-item",{attrs:{label:"名称：",prop:"groupApiName","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w9000",model:{value:t.addGroupDataDialog.groupApiName,callback:function(e){t.$set(t.addGroupDataDialog,"groupApiName",e)},expression:"addGroupDataDialog.groupApiName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"descriptionApi","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w9000",attrs:{type:"textarea",rows:4,placeholder:"不超过180个字符"},model:{value:t.addGroupDataDialog.descriptionApi,callback:function(e){t.$set(t.addGroupDataDialog,"descriptionApi",e)},expression:"addGroupDataDialog.descriptionApi"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancleCreate}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addGroup}},[t._v("确 定")])],1)],1)},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("div",{staticStyle:{display:"flex","padding-right":"15px"}},[a("el-form",{staticClass:"search_form",staticStyle:{flex:"1","vertical-align":"top"},attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"数据源",prop:"apiName"}},[a("el-select",{staticClass:"w9000",attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.searchParams.sourceName,callback:function(e){t.$set(t.searchParams,"sourceName",e)},expression:"searchParams.sourceName"}},t._l(t.groupAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.groupName,value:t.groupName}})}),1)],1),t._v(" "),a("el-form-item",[a("el-date-picker",{staticClass:"w200",attrs:{rangeSeparator:"/",type:"datetimerange",placeholder:"选择时间范围"},on:{change:t.dateChange},model:{value:t.rangeDate,callback:function(e){t.rangeDate=e},expression:"rangeDate"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.dataSearch()}}},[t._v("搜 索")])],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"fr",attrs:{type:"primary addOne"},on:{click:function(e){return t.exportBill()}}},[t._v("下载")])],1)],1)],1),t._v(" "),a("div",{staticClass:"TestApi",staticStyle:{background:"#ffffff",height:"100%"}},[a("div",{staticStyle:{position:"relative"}},["table"===t.showType?[a("el-table",{staticStyle:{width:"100%",border:"1px solid #e6e6e6"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName}},[t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"",type:"index",label:"序号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"groupName",label:"数据源名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"called",label:"调用量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"消费额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"日期",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.searchDetailInt(e.row)}}},[t._v("查看详情")])]}}],null,!1,1085680497)})],1),t._v(" "),this.tableData.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.searchParams.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchParams.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.pageNumChange}})],1):t._e(),t._v(" "),this.tableData.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e()]:t._e(),t._v(" "),a("el-dialog",{attrs:{title:"详情信息",visible:t.dialogTableVisible,size:"large"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listDetailLoading,expression:"listDetailLoading"}],staticStyle:{width:"100%",border:"1px solid #e6e6e6"},attrs:{data:t.detailsTable,"max-height":600,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"groupName",sortable:"",label:"数据源名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiId",label:"接口ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"count",label:"调用量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"消费额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"strategyName",label:"计费规则"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"日期",formatter:t.dateFormat}})],1),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"10px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"10px"},attrs:{"current-page":t.searchDetails.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchDetails.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalDetails},on:{"size-change":t.detailHandleSizeChange,"current-change":t.detailHandleCurrentChange}})],1)],1)],2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ipList",staticStyle:{background:"#ffffff",height:"100%"}},[a("page-header",[a("div",{attrs:{slot:"searchContent"},slot:"searchContent"},[a("el-button",{attrs:{type:"primary",icon:"search",size:"mini"},on:{click:function(e){return t.searchData()}}},[t._v("搜 索")]),t._v(" "),a("el-button",{attrs:{type:"success",icon:"plus",size:"mini"},on:{click:function(e){return t.openCreate("only")}}},[t._v("创 建")]),t._v(" "),a("el-button",{attrs:{type:"success",icon:"plus",size:"mini"},on:{click:function(e){return t.openCreate("more")}}},[t._v("批量创建")])],1),t._v(" "),a("div",{attrs:{slot:"searchBody"},slot:"searchBody"},[a("div",{staticClass:"search-body-item"},[a("label",[t._v("appKey:")]),t._v(" "),a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入appKey进行查询",size:"small"},model:{value:t.searchParams.appKey,callback:function(e){t.$set(t.searchParams,"appKey",e)},expression:"searchParams.appKey"}})],1),t._v(" "),a("div",{staticClass:"search-body-item"},[a("label",[t._v("apiId:")]),t._v(" "),a("el-input",{staticClass:"w200",attrs:{placeholder:"请输入apiId进行查询",size:"small"},model:{value:t.searchParams.apiId,callback:function(e){t.$set(t.searchParams,"apiId",e)},expression:"searchParams.apiId"}})],1)])]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.tableList,border:"","row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"",type:"index",label:"序号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"appKey",label:"appKey"}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"apiId",label:"接口id"}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"apiName",label:"接口名称"}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"startTime",label:"起始时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"endTime",label:"终止时间",formatter:t.dateFormat}}),t._v(" "),t._e(),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"strategyName",label:"计费规则"}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"stock",label:"调用余量"}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"price",label:"价格"}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"createTime",label:"创建时间",formatter:t.dateFormatTime}}),t._v(" "),a("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",prop:"updateTime",label:"更新时间",formatter:t.dateFormatTime}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"190px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"exportBtn",attrs:{href:"javascript:void(0)"}},[a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.stockHistory(e.row)}}},[t._v("余额历史")]),t._v(" "),a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.updateAuth(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.delIp(e.row)}}},[t._v("删除")])],1)]}}])})],1),t._v(" "),this.tableList.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.searchParams.pageNum,"page-sizes":[10,20,30,40],"page-size":t.searchParams.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:t.titleText,visible:t.createAuthFlag,size:"tiny","before-close":t.handleClose},on:{"update:visible":function(e){t.createAuthFlag=e}}},[t.createAuthFlag?a("el-form",{ref:"addGroupDataRef",staticClass:"demo-ruleForm",attrs:{model:t.addGroupData}},["创建"===t.titleText||"批量创建"===t.titleText?a("el-form-item",{attrs:{label:"分组：",prop:"apiName","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w9000",attrs:{filterable:"",placeholder:"请选择"},on:{change:t.getApiIdAry},model:{value:t.createGroupName,callback:function(e){t.createGroupName=e},expression:"createGroupName"}},t._l(t.apiNameAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.groupName,value:t.id}})}),1)],1):t._e(),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"批量创建"!==t.titleText,expression:"titleText !== '批量创建'"}],attrs:{label:"接口名称：",prop:"apiId","label-width":t.formLabelWidth,rules:[{required:!0,message:"apiId不能为空"}]}},["创建"!==t.titleText?a("el-input",{staticClass:"w9000",attrs:{disabled:"创建"!==t.titleText},model:{value:t.addGroupData.apiName,callback:function(e){t.$set(t.addGroupData,"apiName",e)},expression:"addGroupData.apiName"}}):t._e(),t._v(" "),"创建"===t.titleText?a("el-select",{staticClass:"w9000",attrs:{filterable:"",placeholder:"请选择"},on:{change:t.getAppName},model:{value:t.addGroupData.apiId,callback:function(e){t.$set(t.addGroupData,"apiId",e)},expression:"addGroupData.apiId"}},t._l(t.apiAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.apiName,value:t.id}})}),1):t._e()],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"批量创建"===t.titleText,expression:"titleText === '批量创建'"}],attrs:{label:"接口名称：",prop:"apiIds","label-width":t.formLabelWidth,rules:[{required:!0,message:"apiIds不能为空"}]}},[a("el-select",{staticClass:"w9000",attrs:{multiple:"",filterable:"",placeholder:"请选择"},model:{value:t.addGroupData.apiIds,callback:function(e){t.$set(t.addGroupData,"apiIds",e)},expression:"addGroupData.apiIds"}},t._l(t.apiAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.apiName,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"appKey：",prop:"appKey","label-width":t.formLabelWidth,rules:[{required:!0,message:"appKey不能为空"}]}},["创建"!==t.titleText&&"批量创建"!==t.titleText?a("el-input",{staticClass:"w9000",attrs:{disabled:"创建"!==t.titleText&&"批量创建"!==t.titleText},model:{value:t.addGroupData.appKey,callback:function(e){t.$set(t.addGroupData,"appKey",e)},expression:"addGroupData.appKey"}}):t._e(),t._v(" "),"创建"===t.titleText||"批量创建"===t.titleText?a("el-select",{staticClass:"w9000",attrs:{filterable:"",placeholder:"请选择"},on:{change:t.selectChange},model:{value:t.addGroupData.appKey,callback:function(e){t.$set(t.addGroupData,"appKey",e)},expression:"addGroupData.appKey"}},t._l(t.appKeyAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.appKey,value:t.appKey}})}),1):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"计费规则：",prop:"strategyUuid","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w9000",attrs:{filterable:"",placeholder:"请选择计费规则"},on:{change:t.selectChange},model:{value:t.addGroupData.strategyUuid,callback:function(e){t.$set(t.addGroupData,"strategyUuid",e)},expression:"addGroupData.strategyUuid"}},t._l(t.billingRules,function(t){return a("el-option",{key:t.uuid,attrs:{label:t.name,value:t.uuid}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"价格：",prop:"price","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w9000",model:{value:t.addGroupData.price,callback:function(e){t.$set(t.addGroupData,"price",e)},expression:"addGroupData.price"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"起始日期：",prop:"startTime","label-width":t.formLabelWidth,rules:[{required:!0,message:"起始日期不能为空"}]}},[a("el-date-picker",{staticStyle:{width:"90%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.addGroupData.startTime,callback:function(e){t.$set(t.addGroupData,"startTime",e)},expression:"addGroupData.startTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"终止时间：",prop:"endTime","label-width":t.formLabelWidth,rules:[{required:!0,message:"终止时间不能为空"}]}},[a("el-date-picker",{staticStyle:{width:"90%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.addGroupData.endTime,callback:function(e){t.$set(t.addGroupData,"endTime",e)},expression:"addGroupData.endTime"}})],1)],1):t._e(),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:t.closeDialog}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addAuth()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"详情",visible:t.showStockDialog,size:"large"},on:{"update:visible":function(e){t.showStockDialog=e},close:t.dialogStockClose}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","border-bottom":"1px solid #e6e6e6","border-right":"1px solid #e6e6e6"},attrs:{data:t.tableStockData,"tooltip-effect":"dark","row-class-name":this.utils.tableRowClassName}},[a("el-table-column",{attrs:{prop:"id",label:"id"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiId",label:"接口Id"}}),t._v(" "),a("el-table-column",{attrs:{prop:"appKey",label:"客户"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"余量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"日期",formatter:t.dateFormat}})],1),t._v(" "),this.tableStockData.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"30px"},attrs:{"current-page":this.stockSearch.pageNum,"page-sizes":[10,20,30,40],"page-size":this.stockSearch.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.tableStockTotal},on:{"size-change":t.handleSizeStockChange,"current-change":t.handleCurrentStockChange}})],1):t._e()],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flowMonitoring",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"分组：",prop:"apiGroupId","label-width":"60px"}},[a("el-select",{staticClass:"w9000",attrs:{clearable:"",filterable:"",placeholder:"请选择"},on:{change:t.getApiAry},model:{value:t.searchForm.apiGroupId,callback:function(e){t.$set(t.searchForm,"apiGroupId",e)},expression:"searchForm.apiGroupId"}},t._l(t.groupAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.groupName,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"接口名称：",prop:"apiId","label-width":"90px"}},[a("el-select",{staticClass:"w9000",attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.searchForm.apiId,callback:function(e){t.$set(t.searchForm,"apiId",e)},expression:"searchForm.apiId"}},t._l(t.apiAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.apiName,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"下线日期: "}},[a("el-date-picker",{staticClass:"w200",attrs:{rangeSeparator:"/",type:"datetimerange",placeholder:"选择时间范围"},on:{change:t.dateChange},model:{value:t.rangeDate,callback:function(e){t.rangeDate=e},expression:"rangeDate"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.initData()}}},[t._v("搜 索")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.tableList,"tooltip-effect":"dark","row-class-name":this.utils.tableRowClassName}},[t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"",type:"index",label:"序号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiGroupName",label:"数据源"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiName",label:"接口"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remarks",label:"备注"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"开始时间",formatter:t.dateFormat}})],1),t._v(" "),this.tableList.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),this.tableList.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":this.searchForm.pageNum,"page-sizes":[10,20,30,40],"page-size":this.searchForm.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("apiListNav",{attrs:{activeIndex:4}}),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),t._m(0),t._v(" "),a("el-form",{ref:"addApiData4",staticClass:"ml100 demo-ruleForm",attrs:{model:t.addApiData}},[a("el-form-item",{attrs:{label:"返回类型","label-width":t.formLabelWidth}},[a("select",{staticClass:"form-control w350"},t._l(t.callBackTypeOptions,function(e){return a("option",{key:e.value,attrs:{label:e.label},domProps:{value:e.value}},[t._v(t._s(1==t.addApiData.apiInfo.callBackType?"JSON":""))])}),0)]),t._v(" "),!0!==this.$route.query.num?a("el-form-item",{staticStyle:{position:"relative",float:"left",display:"inline-block",width:"40%"},attrs:{label:"返回结果示例",prop:"apiInfo.callBackSuccessExample","label-width":t.formLabelWidth,rules:[{required:!0,message:"返回结果示例不能为空"},{validator:t.successVal,trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea",rows:8,placeholder:"不超过2000个字符","auto-complete":"off"},model:{value:t.addApiData.apiInfo.callBackSuccessExample,callback:function(e){t.$set(t.addApiData.apiInfo,"callBackSuccessExample",e)},expression:"addApiData.apiInfo.callBackSuccessExample"}}),t._v(" "),a("span",{staticClass:"successWritePlaceDialog w550 commonVaL",on:{click:t.successClcik}},[t._v(t._s(t.addApiData.apiInfo.callBackSuccessExample))])],1):t._e(),t._v(" "),!0!==this.$route.query.num?a("el-form-item",{staticStyle:{float:"right",width:"40%","margin-right":"15%"},attrs:{label:"失败返回结果示例",prop:"apiInfo.callBackFailExample","label-width":t.formLabelWidth,rules:[{validator:t.errorVal,trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea",rows:8,placeholder:"不超过2000个字符","auto-complete":"off"},model:{value:t.addApiData.apiInfo.callBackFailExample,callback:function(e){t.$set(t.addApiData.apiInfo,"callBackFailExample",e)},expression:"addApiData.apiInfo.callBackFailExample"}}),t._v(" "),a("span",{staticClass:"errorWritePlaceDialog w550 commonVaL",on:{click:t.errorClcik}},[t._v(t._s(t.addApiData.apiInfo.callBackFailExample))])],1):t._e(),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("jsonData",{ref:"jsonDataRef",attrs:{addApiData:t.addApiData}}),t._v(" "),a("div",{staticClass:"dialog-footer teCen mt20"},[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:t.preStep}},[t._v("上一步")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary",id:"addBtnApi"},on:{click:t.addApiBtn}},[t._v("创建")]),t._v(" "),a("el-button",{staticClass:"addOne",staticStyle:{display:"none"},attrs:{type:"primary",id:"addBtnApiDip",disabled:""},on:{click:t.addApiBtn}},[t._v("创建")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("返回结果基础定义")])])])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flowMonitoring",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"分组：",prop:"sourceName","label-width":"55px"}},[a("el-select",{staticClass:"w9000",attrs:{filterable:"",clearable:"",placeholder:"请选择"},on:{change:t.getApiAry},model:{value:t.searchForm.sourceName,callback:function(e){t.$set(t.searchForm,"sourceName",e)},expression:"searchForm.sourceName"}},t._l(t.groupAry,function(t){return a("el-option",{key:t.id,attrs:{label:t.groupName,value:t.groupName}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间: ","label-width":"55px"}},[a("el-date-picker",{staticClass:"w200",attrs:{rangeSeparator:"/",type:"datetimerange",placeholder:"选择时间范围"},on:{change:t.dateChange},model:{value:t.rangeDate,callback:function(e){t.rangeDate=e},expression:"rangeDate"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.initData()}}},[t._v("搜 索")]),t._v(" "),a("el-button",{staticClass:"searchOne",attrs:{type:"primary addOne"},on:{click:function(e){return t.outExpress()}}},[t._v("下 载")])],1)],1),t._v(" "),a("div",{staticClass:"summary_box"},[a("span",[t._v("总条数：")]),a("span",{staticClass:"text"},[t._v(t._s(t.totalCount))]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("总收入：")]),t._v(" "),a("span",{staticClass:"text"},[t._v(t._s(t.totalIncome))]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("总支出：")]),t._v(" "),a("span",{staticClass:"text"},[t._v(t._s(t.totalCost))]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("总利润：")]),t._v(" "),a("span",{staticClass:"text"},[t._v(t._s(t.totalProfit))])]),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.tableList,"tooltip-effect":"dark","row-class-name":this.utils.tableRowClassName}},[a("el-table-column",{attrs:{prop:"groupName",label:"分组名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"income",label:"收入",formatter:t.dataFixed}}),t._v(" "),a("el-table-column",{attrs:{prop:"cost",label:"支出",formatter:t.dataFixed}}),t._v(" "),a("el-table-column",{attrs:{prop:"profit",label:"利润",formatter:t.dataFixed}}),t._v(" "),a("el-table-column",{attrs:{prop:"action",label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text"},on:{click:function(a){return t.showDetail(e.row)}}},[t._v("详情")])]}}])})],1),t._v(" "),this.tableList.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),this.tableList.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":this.searchForm.pageNum,"page-sizes":[10,20,30,40],"page-size":this.searchForm.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"详情",visible:t.showDetailDialog,size:"large"},on:{"update:visible":function(e){t.showDetailDialog=e},close:t.dialogClose}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","border-bottom":"1px solid #e6e6e6","border-right":"1px solid #e6e6e6"},attrs:{data:t.tableDetailData,"tooltip-effect":"dark","row-class-name":this.utils.tableRowClassName}},[a("el-table-column",{attrs:{prop:"apiId",label:"接口id"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiName",label:"接口名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"income",label:"收入",formatter:t.dataFixed}}),t._v(" "),a("el-table-column",{attrs:{prop:"cost",label:"支出",formatter:t.dataFixed}}),t._v(" "),a("el-table-column",{attrs:{prop:"profit",label:"利润",formatter:t.dataFixed}})],1),t._v(" "),this.tableDetailData.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"30px"},attrs:{"current-page":this.detailSearch.pageNum,"page-sizes":[10,20,30,40],"page-size":this.detailSearch.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.tableDetailTotal},on:{"size-change":t.handleSizeDetailChange,"current-change":t.handleCurrentDetailChange}})],1):t._e()],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"env",staticStyle:{"line-height":"24px"}},[a("span",[t._v("线上\n      "),a("a",{class:1==t.rowData.publishProductEnvStatus?"":"runEnvironment",staticStyle:{"margin-left":"5px",color:"#282828"},attrs:{href:"javascript:void(0)"},on:{click:t.runTimeEnvFnc}},[t._v("(运行中)")])])])},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flowControl",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w350",attrs:{placeholder:"请输入appKey进行查询"},model:{value:t.appKey,callback:function(e){t.appKey=e},expression:"appKey"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.handleCurrentChange(1)}}},[t._v("搜 索")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.flowData,"tooltip-effect":"dark","row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"appKey",label:"appKey"}}),t._v(" "),a("el-table-column",{attrs:{prop:"strategyName",label:"绑定策略"}}),t._v(" "),a("el-table-column",{attrs:{prop:"total",label:"总量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[null==e.row.strategy&&t.bindBtn?a("el-button",{staticClass:"radiusBtn bindColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.bindFlow(e.row)}}},[t._v("绑定策略")]):t._e(),t._v(" "),null!==e.row.strategy&&t.ovBindBtn?a("el-button",{staticClass:"radiusBtn onBindColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.removeBindFlow(e.row)}}},[t._v("解绑")]):t._e(),t._v(" "),null!==e.row.strategy&&t.amendBtn?a("el-button",{staticClass:"radiusBtn amendColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.amendCon(e.row)}}},[t._v("　编辑")]):t._e()]}}])})],1),t._v(" "),t.flowData.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"绑定策略",visible:t.bindFlowDialog,size:"small",id:"accreditBox"},on:{"update:visible":function(e){t.bindFlowDialog=e}}},[a("div",{staticClass:"accreditLine"}),t._v(" "),a("el-form",[a("div",[a("span",[t._v("总量：\n           "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入弹出窗口的总量"},model:{value:t.bindTotal,callback:function(e){t.bindTotal=e},expression:"bindTotal"}})],1),t._v(" "),a("p"),t._v(" "),a("div",{staticClass:"fl flBox",staticStyle:{"margin-bottom":"20px",width:"100%"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{id:"accreditInput"}},[a("el-input",{attrs:{placeholder:"请输入策略名称"},model:{value:t.oderr,callback:function(e){t.oderr=e},expression:"oderr"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"info searchOne"},on:{click:function(e){return t.getAppList()}}},[t._v("搜索")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",height:"380px",overflow:"auto"},attrs:{data:t.appList,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{label:"",width:"40"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{staticClass:"radio",attrs:{label:e.$index},nativeOn:{change:function(a){return t.getCurrentRow(e.row,e.$index)}},model:{value:t.radioVal,callback:function(e){t.radioVal=e},expression:"radioVal"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"策略名称",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"限流单位",formatter:t.unitFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"no",label:"限流次数"}})],1)],1)])]),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.bindFlowDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.setAuth()}}},[t._v("确 定")])],1)],1),t._v(" "),t.flowData.length>0?a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum,"page-sizes":[10,20,30,40],"page-size":this.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.changeDetailIndex},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},[a("el-tab-pane",{attrs:{label:"API定义",name:"1-1"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"授权信息",name:"1-2"}},[t._v("授权信息")]),t._v(" "),a("el-tab-pane",{attrs:{label:"发布历史",name:"1-3"}},[t._v("发布历史")]),t._v(" "),a("el-tab-pane",{attrs:{label:"调试API",name:"1-4"}},[t._v("调试API")]),t._v(" "),a("el-tab-pane",{attrs:{label:"接口查询",name:"1-5"}},[t._v("接口查询")]),t._v(" "),a("el-tab-pane",{attrs:{label:"接口文档",name:"1-6"}},[t._v("接口文档")])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"port",staticStyle:{background:"#ffffff",position:"relative"}},[a("el-button",{staticClass:"createApi_btn",attrs:{type:"primary"},on:{click:function(e){t.creatGroup=!0}}},[t._v("创建应用")]),t._v(" "),a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w350",attrs:{placeholder:"请输入应用名称进行查询"},model:{value:t.searchGroupName,callback:function(e){t.searchGroupName=e},expression:"searchGroupName"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.created()}}},[t._v("搜索")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.applyData,border:""}},[a("el-table-column",{attrs:{prop:"appName",label:"应用名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:{path:"appListDetail",query:{id:e.row.id}}}},[t._v(t._s(e.row.appName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"appKey",label:"appKey"}}),t._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.openModify(e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.removeApp(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum,"page-size":this.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"创建应用",visible:t.creatGroup,size:"tiny"},on:{"update:visible":function(e){t.creatGroup=e},close:t.closeCreate}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"应用名称：","label-width":t.formLabelWidth,prop:"appName"}},[a("el-input",{staticClass:"w9000",model:{value:t.ruleForm.appName,callback:function(e){t.$set(t.ruleForm,"appName",e)},expression:"ruleForm.appName"}}),t._v(" "),a("p",{staticStyle:{"line-height":"20px"}},[t._v("全局唯一，支持汉字、英文字母、数字、英文格式的下划线，且必须以字母或汉字开始，4~15个字符")])],1),t._v(" "),a("el-form-item",{attrs:{label:"APPkey：","label-width":t.formLabelWidth,prop:"description"}},[a("el-input",{staticClass:"w9000",attrs:{type:"textarea",rows:4},model:{value:t.ruleForm.description,callback:function(e){t.$set(t.ruleForm,"description",e)},expression:"ruleForm.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：","label-width":t.formLabelWidth,prop:"appKey"}},[a("el-input",{staticClass:"w9000",attrs:{type:"textarea",rows:4,placeholder:"不超过180个字符"},model:{value:t.ruleForm.appKey,callback:function(e){t.$set(t.ruleForm,"appKey",e)},expression:"ruleForm.appKey"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.creatGroup=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.creatApp("ruleForm")}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改应用",visible:t.amendApp,size:"tiny"},on:{"update:visible":function(e){t.amendApp=e},close:t.closeModify}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"应用名称：","label-width":t.formLabelWidth,prop:"modifyAppName"}},[a("el-input",{model:{value:t.ruleForm.modifyAppName,callback:function(e){t.$set(t.ruleForm,"modifyAppName",e)},expression:"ruleForm.modifyAppName"}}),t._v(" "),a("p",{staticStyle:{"line-height":"20px"}},[t._v("全局唯一，支持汉字、英文字母、数字、英文格式的下划线，且必须以字母或汉字开始，4~15个字符")])],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：","label-width":t.formLabelWidth,prop:"modifyDescription"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"不超过180个字符"},model:{value:t.ruleForm.modifyDescription,callback:function(e){t.$set(t.ruleForm,"modifyDescription",e)},expression:"ruleForm.modifyDescription"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.amendApp=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.modifyApp("ruleForm")}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"删除应用",visible:t.delApp,size:"tiny"},on:{"update:visible":function(e){t.delApp=e}}},[a("el-form",[a("p",[t._v("APP在阿里云是通用的，删除该APP可能会影响到云推送等系统，并且该APP可能已经被授权，删除后该APP将不能被恢复，请确认是否删除？")])]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.delApp=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.delApp=!0}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cy-fast-menu",style:{height:t.bodyHeight+"px",width:t.isCollapse?"65px":"180px"}},[a("el-menu",{staticClass:"menu-left",attrs:{"default-active":t.activeName,collapse:t.isCollapse,"default-openeds":t.openNames},on:{select:t.selectMenu}},[t._l(t.leftColumnItems,function(e){return[e.children&&e.children.length>0?a("el-submenu",{key:e.id,attrs:{index:e.id+""}},[a("template",{slot:"title"},[""!==e.iconCode?a("span",{class:e.iconCode,attrs:{"aria-hidden":"true"}}):t._e(),t._v(" "),a("span",[t._v(t._s(e.name))])]),t._v(" "),t._l(e.children,function(e){return[e.children&&e.children.length>0?a("el-submenu",{key:e.id,class:{"is-active":t.activeName===e.id+""},attrs:{index:e.id+""}},[a("template",{slot:"title"},[t._v(t._s(e.name))]),t._v(" "),t._l(e.children,function(i){return a("el-menu-item",{key:e.id,attrs:{id:e.id,path:e.urls,index:i.id+""}},[t._v(t._s(i.name))])})],2):a("el-menu-item",{attrs:{index:e.id+"",id:e.id,path:e.urls}},[a("span",[t._v(t._s(e.name))])])]})],2):a("el-menu-item",{class:{"is-active":t.activeName===e.id+""},attrs:{index:e.id+"",id:e.id,path:e.urls}},[""!==e.iconCode?a("span",{class:e.iconCode,attrs:{"aria-hidden":"true"}}):t._e(),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])])]})],2),t._v(" "),a("div",{staticStyle:{display:"none"}},[t._v(t._s(t.leftColumnItems.length+t.activeColumn.id))])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"breadcrumb-box"},[a("a",{staticClass:"toggleMenu_a",on:{click:t.changeCollapse}},[t.isCollapse?a("span",{staticClass:"glyphicon glyphicon-log-in",attrs:{"aria-hidden":"true"}}):t._e(),t._v(" "),t.isCollapse?t._e():a("span",{staticClass:"glyphicon glyphicon-log-out",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("el-breadcrumb",{staticClass:"inline",attrs:{"separator-class":"el-icon-arrow-right"}},t._l(t.breadcrumbData,function(e,i){return a("el-breadcrumb-item",{key:e.urls,attrs:{to:{path:e.urls&&i!==t.breadcrumbData.length-1?e.urls:""}}},[t._v(t._s(e.name))])}),1)],1)},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"portManage",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[a("page-header",[a("div",{attrs:{slot:"searchContent"},slot:"searchContent"},[a("el-button",{attrs:{type:"primary",icon:"search",size:"mini"},on:{click:t.searchByCond}},[t._v("搜索")]),t._v(" "),t.addMagBtn?a("el-button",{attrs:{type:"success",icon:"plus",size:"mini"},on:{click:t.addApi}},[t._v("创建API")]):t._e()],1),t._v(" "),a("div",{attrs:{slot:"searchBody"},slot:"searchBody"},[a("div",{staticClass:"search-body-item"},[a("label",[t._v("APIID:")]),t._v(" "),a("el-input",{staticClass:"w200",attrs:{size:"small",placeholder:"请输入APIID进行查询"},on:{change:function(e){return t.apiIdChange()}},model:{value:t.searchGroupId,callback:function(e){t.searchGroupId=e},expression:"searchGroupId"}})],1),t._v(" "),a("div",{staticClass:"search-body-item"},[a("label",[t._v("API名称:")]),t._v(" "),a("el-input",{staticClass:"w200",attrs:{size:"small",placeholder:"请输入API名称进行查询"},model:{value:t.searchGroupName,callback:function(e){t.searchGroupName=e},expression:"searchGroupName"}})],1)])]),t._v(" "),a("div",{staticClass:"panel-body",staticStyle:{position:"relative"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start","align-content":"flex-start"}},[a("div",{staticClass:"treeBox"},[a("span",{staticClass:"treeGroup"},[t._v("组别")]),t._v(" "),a("el-tree",{style:{height:t.bodyHeight-170-38+"px"},attrs:{data:t.alertTextArr,"node-key":"id","default-expanded-keys":t.defaultExpanded,"highlight-current":!0,props:t.defaultProps,"expand-on-click-node":!1},on:{"node-click":t.handleNodeClick}})],1),t._v(" "),a("div",{staticStyle:{flex:"1"}},[a("div",{style:{width:t.bodyWidth-230+"px",height:t.bodyHeight-170-38-50+"px",overflow:"auto"}},[a("el-table",{attrs:{border:"",data:t.apiList,stripe:""},on:{"filter-change":t.tableChange}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiName",label:"API名称",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"tale_tooltip_item",attrs:{effect:"dark",content:e.row.apiName,placement:"right"}},[a("router-link",{attrs:{to:{path:"portManage/portApiManage",query:{id:e.row.id,apiGroupId:e.row.apiGroupId,productEnvVersion:null==e.row.productEnvVersion?"":e.row.productEnvVersion,res:t.jurisdiction}}}},[t._v(t._s(e.row.apiName))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"groupName",label:"分组"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiDescription",label:"描述"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"tale_tooltip_item",attrs:{effect:"dark",content:e.row.apiDescription,placement:"right"}},[a("span",[t._v(t._s(e.row.apiDescription))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"最后修改",formatter:t.dateFormat,width:"170px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"productEnvVersion",label:"运行环境","column-key":"runTimeEnv",width:"170px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("env",{attrs:{rowData:e.row},on:{envLookData:t.lookData}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:"240px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:{path:"portManage/portApiManage",query:{amend:1,id:e.row.id,apiGroupId:e.row.apiGroupId,productEnvVersion:null==e.row.productEnvVersion?"":e.row.productEnvVersion}}}},[t.amendBtn?a("el-button",{staticClass:"radiusBtn mr10 pubColor",attrs:{type:"text",size:"small"}},[t._v("编辑")]):t._e()],1),t._v(" "),t.delMagBtn?a("el-button",{staticClass:"radiusBtn delColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.delApiBtn(e.$index,e.row)}}},[t._v("删除")]):t._e(),t._v(" "),t.pubMagBtn?a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.publish(e.$index,e.row)}}},[t._v("发布")]):t._e(),t._v(" "),t.upMagBtn?a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.overLine(e.$index,e.row)}}},[t._v("下线")]):t._e(),t._v(" "),t.copyMagBtn?a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.copyBtn(e.$index,e.row)}}},[t._v("复制")]):t._e()]}}])})],1)],1),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),this.apiList.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{id:"pageOne","current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":this.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t._v(" "),a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px",display:"none"},attrs:{id:"pageTwo","current-page":t.currentPage2,"page-sizes":[10,20,30,40],"page-size":this.pageSize2,layout:" sizes, prev, pager, next, jumper",total:t.total2},on:{"size-change":t.handleSizeChange2,"current-change":t.handleCurrentChange2}}),t._v(" "),a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px",display:"none"},attrs:{id:"pageThree","current-page":t.currentPage3,"page-sizes":[10,20,30,40],"page-size":this.pageSize3,layout:" sizes, prev, pager, next, jumper",total:t.total3},on:{"size-change":t.handleSizeChange3,"current-change":t.handleCurrentChange3}})],1)])])]),t._v(" "),a("el-dialog",{staticStyle:{margin:"60px 0 0 188px","margin-left":"188px"},attrs:{title:"创建API：",visible:t.createDialog,size:"full",modal:!1,"before-close":t.closeDialog},on:{"update:visible":function(e){t.createDialog=e}}},[1==t.dialogIndex?a("firstDialog",{attrs:{data:t.addApiData.apiInfo,cacheInput:t.cacheInput,cacheInputOptions:t.cacheInputOptions,groupOptions:t.groupOptions},on:{creatGroup:function(e){t.creatGroup=!0},nextStep:function(e){return t.submitForm(1)},cancle:function(e){return t.preStep(1)}}}):2==t.dialogIndex?a("secondDialog",{attrs:{addApiData:t.addApiData,backEndParam:t.backEndParam},on:{amendApiMore:[t.amendChild,function(e){t.amendApi=!0}],nextStep:function(e){return t.submitForm(2)},preStep:function(e){return t.preStep(2)}}}):3==t.dialogIndex?a("thirdDialog",{attrs:{addApiData:t.addApiData,backEndParam:t.backEndParam,numData:t.numData,numDataJson:t.numDataJson,numDataXml:t.numDataXml},on:{nextStep:function(e){return t.submitForm(3)},preStep:function(e){return t.preStep(3)}}}):4==t.dialogIndex?a("fourthDialog",{attrs:{addApiData:t.addApiData},on:{addApiBtn:t.addApiBtn,preStep:function(e){return t.preStep(4)}}}):t._e()],1),t._v(" "),a("el-dialog",{attrs:{title:"创建分组",visible:t.creatGroup,size:"tiny"},on:{"update:visible":function(e){t.creatGroup=e}}},[a("creatGroup",{on:{addGroupOk:t.addGroupOk,cancleCreate:function(e){t.creatGroup=!1}}})],1),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"发布API：",visible:t.issue,size:"tiny"},on:{"update:visible":function(e){t.issue=e}}},[a("publishApi",{attrs:{groupHerfId:t.groupHerfId},on:{issueOK:t.issueOK,cancle:function(e){t.issue=!1}}})],1),t._v(" "),a("el-dialog",{attrs:{title:"授权",visible:t.accredit,size:"small",id:"accreditBox"},on:{"update:visible":function(e){t.accredit=e}}},[a("accreditCom",{attrs:{groupHerfId:t.groupHerfId,searchimpowerName:t.searchimpowerName,appKeyData:t.appKeyData,dateFormat:t.dateFormat},on:{accreditOK:t.accreditOK,cancle:function(e){t.accredit=!1}}})],1),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"下线API：",visible:t.offLine,size:"tiny"},on:{"update:visible":function(e){t.offLine=e}}},[a("overLineApiCom",{attrs:{groupHerfId:t.groupHerfId},on:{cancle:function(e){t.offLine=!1},offLineOK:t.offLineOK}})],1),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:"编辑更多",visible:t.amendApi,size:"small"},on:{"update:visible":function(e){t.amendApi=e}}},[a("amendApi",{attrs:{dataStrs:t.dataStrs,addApiData:t.addApiData},on:{amendChild:t.amendChild,cancleAmendApi:function(e){t.amendApi=!1},confirm:function(e){t.amendApi=!1}}})],1),t._v(" "),a("el-dialog",{staticStyle:{overflow:"auto",top:"-5%"},attrs:{title:"API定义详情",visible:t.look},on:{"update:visible":function(e){t.look=e}}},[a("queryApiDetail",{attrs:{apiDefineDetail:t.apiDefineDetail,requestParamsVersionsList:t.requestParamsVersionsList,backEndParam2:t.backEndParam2,resultSettingsVersionsList:t.resultSettingsVersionsList,detialVersionFlag:t.detialVersionFlag,numData2:t.numData2,groupHerfId:t.groupHerfId},on:{closeLook:function(e){t.look=!1}}})],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"portApiManage panel-body",staticStyle:{background:"#fff"}},[a("div",[a("div",{staticClass:"detailBtn"},[a("span",{staticClass:"detailNav"},[t._v("API定义")]),t._v(" "),a("router-link",{attrs:{to:"/portManage"}}),t._v(" "),t.showEditBtn?a("el-button",{staticStyle:{position:"absolute",right:"56px",top:"0"},attrs:{type:"primary",size:"mini"},on:{click:t.amendPortBtn}},[t._v("编辑")]):t._e()],1),t._v(" "),a("div",[a("amendApiData",{ref:"amendApiDataRef",attrs:{firstDialog:t.firstDialog,backendList:t.backendList,apiList2:t.apiList2,requestParamsList2:t.requestParamsList2,activeName:t.activeName,activeBack:t.activeBack,subApiList2:t.subApiList2,apiList:t.apiList,numData:t.numData,numDataJson:t.numDataJson,numDataXml:t.numDataXml},on:{activeChange:t.activeChangeHandle}})],1),t._v(" "),a("el-dialog",{staticStyle:{margin:"60px 0 0 180px","margin-left":"180px"},attrs:{title:"修改API：",visible:t.firstDialog,size:"full",modal:!1,"before-close":t.closeDialog},on:{"update:visible":function(e){t.firstDialog=e}}},[a("div",{staticClass:"apiListNavTwo"},[a("ul",[a("li",{staticClass:"active"},[t._v("基本信息")]),t._v(" "),a("li",[t._v("API请求")]),t._v(" "),a("li",[t._v("API后端服务")]),t._v(" "),a("li",[t._v("返回结果")])])]),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("名称及描述")])])]),t._v(" "),a("el-form",{ref:"apiList1",staticClass:"ml100 demo-ruleForm",attrs:{model:t.apiList}},[a("el-form-item",{attrs:{label:"分组：","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w550",model:{value:t.apiList.apiGroupId,callback:function(e){t.$set(t.apiList,"apiGroupId",e)},expression:"apiList.apiGroupId"}},t._l(t.groupOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"API名称：",prop:"apiName","label-width":t.formLabelWidth,rules:[{required:!0,message:"API名称不能为空"},{min:4,max:50,message:"长度在 4 到 50 个字符",trigger:"blur"},{validator:t.commonValidate,trigger:"blur"}]}},[a("el-input",{staticClass:"w550",model:{value:t.apiList.apiName,callback:function(e){t.$set(t.apiList,"apiName",e)},expression:"apiList.apiName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"apiDescription","label-width":t.formLabelWidth,rules:[{required:!0,message:"描述不能为空",trigger:"blur"},{min:1,max:2e3,message:"长度在 1 到 2000 个字符",trigger:"blur"},{validator:t.commonValidate,trigger:"blur"}]}},[a("el-input",{staticClass:"w550",attrs:{type:"textarea",rows:4},model:{value:t.apiList.apiDescription,callback:function(e){t.$set(t.apiList,"apiDescription",e)},expression:"apiList.apiDescription"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否存储：",prop:"saveMongoDB","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w550",on:{change:t.saveMdb},model:{value:t.apiList.saveMongoDB,callback:function(e){t.$set(t.apiList,"saveMongoDB",e)},expression:"apiList.saveMongoDB"}},[a("el-option",{attrs:{label:"否",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"是",value:"1"}})],1)],1),t._v(" "),"1"==t.apiList.saveMongoDB?a("div",[a("el-form-item",{attrs:{label:"MongodbURL",prop:"mongodbURI","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w480",attrs:{placeholder:"mongodb://admin:admin@172.16.16.70"},model:{value:t.apiList.mongodbURI,callback:function(e){t.$set(t.apiList,"mongodbURI",e)},expression:"apiList.mongodbURI"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mongodb库名",prop:"mongodbDBName","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w480",model:{value:t.apiList.mongodbDBName,callback:function(e){t.$set(t.apiList,"mongodbDBName",e)},expression:"apiList.mongodbDBName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mongodb表名",prop:"mongodbCollectionName","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w480",model:{value:t.apiList.mongodbCollectionName,callback:function(e){t.$set(t.apiList,"mongodbCollectionName",e)},expression:"apiList.mongodbCollectionName"}})],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"发送MQ：",prop:"saveMQ","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w550",on:{change:t.saveMQval},model:{value:t.apiList.saveMQ,callback:function(e){t.$set(t.apiList,"saveMQ",e)},expression:"apiList.saveMQ"}},[a("el-option",{attrs:{label:"否",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"是",value:"1"}})],1)],1),t._v(" "),"1"==t.apiList.saveMQ?a("div",[a("el-form-item",{attrs:{label:"MQ类型：",prop:"mqType","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w480",model:{value:t.apiList.mqType,callback:function(e){t.$set(t.apiList,"mqType",e)},expression:"apiList.mqType"}},t._l(t.mqTypeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"MQ地址",prop:"mqAddress","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w480",attrs:{placeholder:"172.16.16.72:5672"},model:{value:t.apiList.mqAddress,callback:function(e){t.$set(t.apiList,"mqAddress",e)},expression:"apiList.mqAddress"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"用户名",prop:"mqUserName","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w480",model:{value:t.apiList.mqUserName,callback:function(e){t.$set(t.apiList,"mqUserName",e)},expression:"apiList.mqUserName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"mqPasswd","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w480",attrs:{type:"password"},model:{value:t.apiList.mqPasswd,callback:function(e){t.$set(t.apiList,"mqPasswd",e)},expression:"apiList.mqPasswd"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"队列名称",prop:"mqTopicName","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w480",model:{value:t.apiList.mqTopicName,callback:function(e){t.$set(t.apiList,"mqTopicName",e)},expression:"apiList.mqTopicName"}})],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"是否缓存：","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w550",on:{change:t.selectCache},model:{value:t.cacheInput,callback:function(e){t.cacheInput=e},expression:"cacheInput"}},t._l(t.cacheInputOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),1==t.cacheInput?a("div",[a("el-form-item",{staticStyle:{position:"relative"},attrs:{label:"缓存时间：",prop:"cacheNo","label-width":t.formLabelWidth,rules:[{required:!0,message:"缓存时间不能为空"},{validator:t.commonValidate,trigger:"blur"},{type:"number",message:"缓存必须为数字值"}]}},["1"==t.apiList.cacheUnit||"2"==t.apiList.cacheUnit||null==t.apiList.cacheUnit||""==t.apiList.cacheUnit?a("el-input",{staticClass:"w350",model:{value:t.apiList.cacheNo,callback:function(e){t.$set(t.apiList,"cacheNo",t._n(e))},expression:"apiList.cacheNo"}}):t._e(),t._v(" "),"3"==t.apiList.cacheUnit?a("el-input",{staticClass:"w350 caDeta",attrs:{disabled:!0},model:{value:t.apiList.cacheNo,callback:function(e){t.$set(t.apiList,"cacheNo",t._n(e))},expression:"apiList.cacheNo"}}):t._e(),t._v(" "),a("el-radio-group",{on:{change:function(e){return t.moreTime()}},model:{value:t.apiList.cacheUnit,callback:function(e){t.$set(t.apiList,"cacheUnit",e)},expression:"apiList.cacheUnit"}},[a("el-radio",{staticClass:"radio",staticStyle:{display:"inline-block","margin-left":"10px"},attrs:{label:"1"},model:{value:t.apiList.cacheUnit,callback:function(e){t.$set(t.apiList,"cacheUnit",e)},expression:"apiList.cacheUnit"}},[t._v("小时")]),t._v(" "),a("el-radio",{staticClass:"radio",staticStyle:{display:"inline-block"},attrs:{label:"2"},model:{value:t.apiList.cacheUnit,callback:function(e){t.$set(t.apiList,"cacheUnit",e)},expression:"apiList.cacheUnit"}},[t._v("天")]),t._v(" "),a("el-radio",{staticClass:"radio",staticStyle:{display:"inline-block"},attrs:{label:"3"},model:{value:t.apiList.cacheUnit,callback:function(e){t.$set(t.apiList,"cacheUnit",e)},expression:"apiList.cacheUnit"}},[t._v("不限")])],1),t._v(" "),a("div",{staticClass:"chacheTimeInput din",attrs:{id:"chacId"}}),t._v(" "),a("span",{staticClass:"dinBox din"})],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"Mock","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w550",on:{change:t.selectMock},model:{value:t.apiList.isMock,callback:function(e){t.$set(t.apiList,"isMock",e)},expression:"apiList.isMock"}},t._l(t.isMockOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),"1"==t.apiList.isMock?a("div",[a("el-form-item",{attrs:{label:"Mock返回结果",prop:"mockData","label-width":t.formLabelWidth,rules:[{required:!0,message:"不能为空",trigger:"blur"},{validator:t.commonValidate,trigger:"blur"}]}},[a("el-input",{staticStyle:{width:"550px"},attrs:{type:"textarea"},model:{value:t.apiList.mockData,callback:function(e){t.$set(t.apiList,"mockData",e)},expression:"apiList.mockData"}})],1)],1):t._e()],1),t._v(" "),a("div",{staticClass:"dialog-footer teCen",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.submitForm1("apiList1")}}},[t._v("下 一 步")]),t._v(" "),a("el-button",{staticClass:"amendBtnApi addOne",attrs:{type:"primary"},on:{click:function(e){t.amendFirst("firstDialog"),t.amendInterfaceBtn()}}},[t._v("保存")]),t._v(" "),a("el-button",{staticClass:"amendBtnApi1s addOne",staticStyle:{display:"none"},attrs:{type:"primary",disabled:""},on:{click:function(e){t.amendFirst("firstDialog"),t.amendInterfaceBtn()}}},[t._v("保存")])],1)],1),t._v(" "),a("el-dialog",{staticStyle:{margin:"60px 0 0 180px","margin-left":"180px"},attrs:{title:"修改API：",visible:t.secondDialog,modal:!1,size:"full","before-close":t.closeDialog},on:{"update:visible":function(e){t.secondDialog=e}}},[a("div",{staticClass:"apiListNavTwo"},[a("ul",[a("li",[t._v("基本信息")]),t._v(" "),a("li",{staticClass:"active"},[t._v("API请求")]),t._v(" "),a("li",[t._v("API后端服务")]),t._v(" "),a("li",[t._v("返回结果")])])]),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("请求基础定义")])])]),t._v(" "),a("el-form",{ref:"apiList2",staticClass:"demo-ruleForm",attrs:{model:t.apiList}},[a("el-form-item",{attrs:{label:"协议","label-width":t.formLabelWidth}},[a("span",[t._v("HTTP")])]),t._v(" "),a("el-form-item",{attrs:{label:"请求Path",prop:"httpPath","label-width":t.formLabelWidth,rules:[{validator:t.checkReqPath,required:!0,trigger:"blur"}]}},[a("el-input",{staticClass:"w350",model:{value:t.apiList.httpPath,callback:function(e){t.$set(t.apiList,"httpPath",e)},expression:"apiList.httpPath"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"HTTP Method","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w350",on:{change:function(e){return t.httpMethodChange()}},model:{value:t.apiList.httpMethod,callback:function(e){t.$set(t.apiList,"httpMethod",e)},expression:"apiList.httpMethod"}},t._l(t.httpMethodOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("div",{staticStyle:{margin:"20px 0"}},[t._v("请求中的所有参数，包括Path中的动态参数、Headers参数、Query参数、Body参数（通过Form表单传输的参数），参数名称保证唯一。")]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("入参定义")]),t._v(" "),a("table",{staticClass:"table table-hover table-bordered"},[a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("参数位置")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("必填")]),t._v(" "),a("th",[t._v("默认值")]),t._v(" "),a("th",[t._v("示例")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v("操作")])])]),t._v(" "),a("tbody",t._l(t.requestParamsList,function(e,i){return a("tr",[a("td",[a("el-input",{staticClass:"inputValidate",on:{change:function(a){return t.paraNameVal(e,i)}},model:{value:e.paramName,callback:function(a){t.$set(e,"paramName",a)},expression:"item.paramName"}}),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate"},[t._v("请输入正确格式的参数,长度在 1 到 200 个字符,不能为空！")]),t._v(" "),a("p",{staticClass:"textRed din jqueryValidateSame"},[t._v("存在相同的参数名，请正确填写参数")])],1),t._v(" "),a("td",[a("el-select",{model:{value:e.paramsLocation,callback:function(a){t.$set(e,"paramsLocation",a)},expression:"item.paramsLocation"}},t._l(t.paramsLocationOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:t.disabled}})}),1)],1),t._v(" "),a("td",[a("el-select",{on:{change:function(a){return t.parTypeSix(e.paramsType)}},model:{value:e.paramsType,callback:function(a){t.$set(e,"paramsType",a)},expression:"item.paramsType"}},t._l(t.paramsTypeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("td",[a("el-checkbox",{attrs:{checked:1==e.paramsMust},on:{change:function(a){return t.paramsMusts(e.paramsMust,i)}}})],1),t._v(" "),a("td",[1==e.paramsType?a("el-input",{attrs:{disabled:1==e.paramsMust},model:{value:e.paramsDefaultValue,callback:function(a){t.$set(e,"paramsDefaultValue",a)},expression:"item.paramsDefaultValue"}}):t._e(),t._v(" "),2==e.paramsType||3==e.paramsType||4==e.paramsType||5==e.paramsType?a("el-input",{attrs:{disabled:1==e.paramsMust},on:{change:function(a){return t.IntegerNumVal(e.paramsDefaultValue,i)}},model:{value:e.paramsDefaultValue,callback:function(a){t.$set(e,"paramsDefaultValue",a)},expression:"item.paramsDefaultValue"}}):t._e(),t._v(" "),6==e.paramsType?a("el-select",{attrs:{placeholder:"请选择",disabled:1==e.paramsMust},on:{change:function(a){return t.IntegerNumValBool(e.paramsDefaultValue,i)}},model:{value:e.paramsDefaultValue,callback:function(a){t.$set(e,"paramsDefaultValue",a)},expression:"item.paramsDefaultValue"}},t._l(t.optionsBool,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.label}})}),1):t._e(),t._v(" "),a("p",{staticClass:"textRed din IntegerNum"},[t._v("请输入正确格式的参数！")])],1),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.paramsExample,expression:"item.paramsExample"}],staticClass:"form-control",attrs:{type:"text",maxlength:"255"},domProps:{value:e.paramsExample},on:{input:function(a){a.target.composing||t.$set(e,"paramsExample",a.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.paramsDescription,expression:"item.paramsDescription"}],staticClass:"form-control",attrs:{type:"text",maxlength:"255"},domProps:{value:e.paramsDescription},on:{input:function(a){a.target.composing||t.$set(e,"paramsDescription",a.target.value)}}})]),t._v(" "),a("td",[a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(e){return t.amendApiMore(i)}}},[t._v("编辑")])],1)])}),0)]),t._v(" "),a("router-link",{attrs:{to:{path:"newValue",query:{id:this.apiList.id}}}},[a("el-button",{staticStyle:{"margin-top":"10px",padding:"10px 15px",width:"97px"},attrs:{type:"primary",size:"mini"}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"5px"}}),t._v("增减参数")])],1)],1)])],1),t._v(" "),a("div",{staticClass:"dialog-footer teCen",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){t.firstDialog=!0,t.secondDialog=!1}}},[t._v("上 一 步")]),t._v(" "),a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.goThirdDialog("apiList2")}}},[t._v("下 一 步")]),t._v(" "),a("el-button",{staticClass:"amendBtnApi2 addOne",attrs:{type:"primary"},on:{click:function(e){t.amendFirst("secondDialog"),t.amendInterfaceBtn()}}},[t._v("保存")]),t._v(" "),a("el-button",{staticClass:"amendBtnApi2s addOne",staticStyle:{display:"none"},attrs:{type:"primary",disabled:""},on:{click:function(e){t.amendFirst("secondDialog"),t.amendInterfaceBtn()}}},[t._v("保存")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"编辑更多",visible:t.amendApi,size:"small"},on:{"update:visible":function(e){t.amendApi=e}}},[t.requestParamsList.length>0?a("el-form",[1==t.requestParamsList[t.amendApiIndexEdit].paramsType?a("el-form-item",{attrs:{label:"最大长度","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w2000",attrs:{type:"number"},on:{change:function(e){return t.maxLine(t.requestParamsList[t.amendApiIndexEdit].maxLength)}},model:{value:t.requestParamsList[t.amendApiIndexEdit].maxLength,callback:function(e){t.$set(t.requestParamsList[t.amendApiIndexEdit],"maxLength",e)},expression:"requestParamsList[amendApiIndexEdit].maxLength"}}),t._v(" "),a("p",{staticClass:"textRed din maxDate"},[t._v("最大长度不能小于最小长度")])],1):t._e(),t._v(" "),1==t.requestParamsList[t.amendApiIndexEdit].paramsType?a("el-form-item",{attrs:{label:"最小长度","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w2000",attrs:{type:"number"},on:{change:function(e){return t.minLine(t.requestParamsList[t.amendApiIndexEdit].minLength)}},model:{value:t.requestParamsList[t.amendApiIndexEdit].minLength,callback:function(e){t.$set(t.requestParamsList[t.amendApiIndexEdit],"minLength",e)},expression:"requestParamsList[amendApiIndexEdit].minLength"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"参数验证","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w350",attrs:{type:"textarea",rows:4,placeholder:"输入正则表达式"},model:{value:t.requestParamsList[t.amendApiIndexEdit].regularExpress,callback:function(e){t.$set(t.requestParamsList[t.amendApiIndexEdit],"regularExpress",e)},expression:"requestParamsList[amendApiIndexEdit].regularExpress"}})],1)],1):t._e(),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.amendApi=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:t.lineValue}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{staticStyle:{margin:"60px 0 0 180px","margin-left":"180px"},attrs:{title:"修改API",visible:t.thirdDialog,modal:!1,size:"full","before-close":t.closeDialog},on:{"update:visible":function(e){t.thirdDialog=e}}},[a("div",{staticClass:"apiListNavTwo"},[a("ul",[a("li",[t._v("基本信息")]),t._v(" "),a("li",[t._v("API请求")]),t._v(" "),a("li",{staticClass:"active"},[t._v("API后端服务")]),t._v(" "),a("li",[t._v("返回结果")])])]),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("el-form",{ref:"apiList3",staticClass:"ml100 demo-ruleForm",attrs:{model:t.apiList}},[a("el-form-item",{attrs:{label:"后端服务名称",prop:"interfaceName","label-width":t.formLabelWidth,rules:[{required:!0,message:"后端服务名称不能为空"},{validator:t.commonValidate,trigger:"blur"}]}},[a("el-input",{staticClass:"w350",attrs:{type:"interfaceName","auto-complete":"off"},model:{value:t.apiList.interfaceName,callback:function(e){t.$set(t.apiList,"interfaceName",e)},expression:"apiList.interfaceName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"后端服务类型","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w350",on:{"visible-change":function(e){return t.slideList(t.apiList.backendProtocolType)}},model:{value:t.apiList.backendProtocolType,callback:function(e){t.$set(t.apiList,"backendProtocolType",e)},expression:"apiList.backendProtocolType"}},t._l(t.backendProtocolTypeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),3==t.apiList.backendProtocolType?a("el-form-item",{attrs:{label:"A中心地址",prop:"backEndAddress","label-width":t.formLabelWidth,rules:[{validator:t.checkBackAddress2,required:!0,trigger:"blur"}]}},[a("el-input",{staticClass:"w350",model:{value:t.apiList.backEndAddress,callback:function(e){t.$set(t.apiList,"backEndAddress",e)},expression:"apiList.backEndAddress"}})],1):t._e(),t._v(" "),1==t.apiList.backendProtocolType||2==t.apiList.backendProtocolType?a("el-form-item",{attrs:{label:"A中心地址",prop:"backEndAddress","label-width":t.formLabelWidth,rules:[{validator:t.checkBackAddress,required:!0,trigger:"blur"}]}},[a("el-input",{staticClass:"w350",model:{value:t.apiList.backEndAddress,callback:function(e){t.$set(t.apiList,"backEndAddress",e)},expression:"apiList.backEndAddress"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"B中心地址",prop:"backEndAddressB","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"w350",model:{value:t.apiList.backEndAddressB,callback:function(e){t.$set(t.apiList,"backEndAddressB",e)},expression:"apiList.backEndAddressB"}})],1),t._v(" "),3!==t.apiList.backendProtocolType?a("el-form-item",{attrs:{label:"后端请求Path",prop:"backEndPath","label-width":t.formLabelWidth,rules:[{validator:t.checkReqPathBackend,required:!0,trigger:"blur"}]}},[a("el-input",{staticClass:"w350",model:{value:t.apiList.backEndPath,callback:function(e){t.$set(t.apiList,"backEndPath",e)},expression:"apiList.backEndPath"}})],1):t._e(),t._v(" "),3!==t.apiList.backendProtocolType?a("el-form-item",{attrs:{label:"HTTP Method","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w350",attrs:{placeholder:"请选择"},on:{change:function(e){return t.httpMethodChange2()}},model:{value:t.apiList.backEndHttpMethod,callback:function(e){t.$set(t.apiList,"backEndHttpMethod",e)},expression:"apiList.backEndHttpMethod"}},t._l(t.httpMethodOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"后端超时",prop:"backEndTimeout","label-width":t.formLabelWidth,rules:[{required:!0,validator:t.backTimeCheckUnEmpty,trigger:"blur"}]}},[a("el-input",{staticClass:"w350",model:{value:t.apiList.backEndTimeout,callback:function(e){t.$set(t.apiList,"backEndTimeout",e)},expression:"apiList.backEndTimeout"}}),t._v(" ms\n        ")],1),t._v(" "),a("el-form-item",{attrs:{label:"权重",prop:"weight","label-width":t.formLabelWidth,rules:[{required:!0,validator:t.weightVal,trigger:"blur"}]}},[a("el-input",{staticClass:"w350",model:{value:t.apiList.weight,callback:function(e){t.$set(t.apiList,"weight",e)},expression:"apiList.weight"}})],1),t._v(" "),1!==this.$route.query.num?a("el-form-item",{attrs:{label:"是否计费","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"w350",model:{value:t.apiList.charge,callback:function(e){t.$set(t.apiList,"charge",e)},expression:"apiList.charge"}},t._l(t.chargeOptions,function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})}),1)],1):t._e(),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":function(t){}},model:{value:t.activeBack,callback:function(e){t.activeBack=e},expression:"activeBack"}},[a("el-tab-pane",{attrs:{label:"后端服务参数配置",name:"backValTab"}},[a("table",{staticClass:"table table-hover table-bordered"},[a("thead",[a("tr",[a("th",[t._v("后端参数名称")]),t._v(" "),a("th",[t._v("后端参数位置")]),t._v(" "),a("th",[t._v("对应入参名称")]),t._v(" "),a("th",[t._v("对应入参位置")]),t._v(" "),a("th",[t._v("对应入参类型")])])]),t._v(" "),a("tbody",t._l(t.backEndParam,function(e,i){return a("tr",[a("td",[a("el-input",{on:{change:function(a){return t.paraNameVal2(e,i)}},model:{value:e.paramName,callback:function(a){t.$set(e,"paramName",a)},expression:"item.paramName"}}),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate2"},[t._v("请输入正确格式的参数，不能为空！")]),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate8"},[t._v("长度在1到200个字符")])],1),t._v(" "),a("td",[a("el-select",{model:{value:e.paramsLocation,callback:function(a){t.$set(e,"paramsLocation",a)},expression:"item.paramsLocation"}},t._l(t.paramsLocationOptions2,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("td",[a("el-input",{attrs:{type:"text",disabled:""},model:{value:t.requestParamsList[i].paramName,callback:function(e){t.$set(t.requestParamsList[i],"paramName",e)},expression:"requestParamsList[index].paramName"}})],1),t._v(" "),a("td",[a("el-select",{attrs:{disabled:""},model:{value:t.requestParamsList[i].paramsLocation,callback:function(e){t.$set(t.requestParamsList[i],"paramsLocation",e)},expression:"requestParamsList[index].paramsLocation"}},t._l(t.paramsLocationOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("td",[a("el-select",{attrs:{disabled:""},model:{value:t.requestParamsList[i].paramsType,callback:function(e){t.$set(t.requestParamsList[i],"paramsType",e)},expression:"requestParamsList[index].paramsType"}},t._l(t.paramsTypeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)])}),0)])]),t._v(" "),a("el-tab-pane",{attrs:{label:"jsonConfig",name:"jsonConfigTab"}},[a("el-input",{staticStyle:{width:"800px"},attrs:{type:"textarea",rows:6},on:{blur:t.configFous},model:{value:t.apiList.jsonConfig,callback:function(e){t.$set(t.apiList,"jsonConfig",e)},expression:"apiList.jsonConfig"}})],1)],1)],1)]),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[3!==t.apiList.backendProtocolType?a("el-tab-pane",{attrs:{label:"常量参数",name:"res"}},[a("table",{staticClass:"table table-hover table-bordered"},[a("thead",[a("tr",[a("th",[t._v("后端参数名称")]),t._v(" "),a("th",[t._v("参数值")]),t._v(" "),a("th",[t._v("参数位置")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("操作")])])]),t._v(" "),a("tbody",t._l(t.numData,function(e,i){return a("tr",[a("td",[a("el-input",{staticClass:"inputValidate4",on:{change:function(a){return t.paraNameVal4(e,i)}},model:{value:e.paramName,callback:function(a){t.$set(e,"paramName",a)},expression:"item.paramName"}}),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate4"},[t._v("请输入正确格式的参数，不能为空！")]),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate7"},[t._v("长度在1到200个字符")])],1),t._v(" "),a("td",[a("el-input",{staticClass:"inputValidate5",on:{change:function(a){return t.paraNameVal5(e.paramValue,i)}},model:{value:e.paramValue,callback:function(a){t.$set(e,"paramValue",a)},expression:"item.paramValue"}}),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate5"},[t._v("请输入正确格式的参数值，不能为空！")]),t._v(" "),a("p",{staticClass:"textRed din jqueryValidate6"},[t._v("长度在1到200个字符")])],1),t._v(" "),a("td",[a("el-select",{model:{value:e.paramsLocation,callback:function(a){t.$set(e,"paramsLocation",a)},expression:"item.paramsLocation"}},t._l(t.paramsLocationOptions2,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.paramDescription,expression:"item.paramDescription"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.paramDescription},on:{input:function(a){a.target.composing||t.$set(e,"paramDescription",a.target.value)}}})]),t._v(" "),a("td",[a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(e){return t.delNumData(i)}}},[t._v("移除")])],1)])}),0)])]):t._e(),t._v(" "),3!==t.apiList.backendProtocolType?a("el-tab-pane",{staticStyle:{position:"relative"},attrs:{label:"JSON",name:"json"}},t._l(t.numDataJson,function(e){return a("tr",[a("el-input",{staticStyle:{width:"800px"},attrs:{type:"textarea",rows:6},model:{value:e.paramValue,callback:function(a){t.$set(e,"paramValue",a)},expression:"item.paramValue"}}),t._v(" "),a("span",{staticClass:"jsonWritePlaceDialog jsonXmlCom",on:{click:function(e){return t.jsonClcik()}}},[t._v(t._s(e.paramValue))]),t._v(" "),a("el-button",{staticClass:"ml35",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){return t.formatVal()}}},[t._v("转换成JSON")])],1)}),0):t._e(),t._v(" "),a("el-tab-pane",{attrs:{label:"XML",name:"xml"}},t._l(t.numDataXml,function(e){return a("tr",[a("el-input",{staticStyle:{width:"800px"},attrs:{type:"textarea",rows:6},model:{value:e.paramValue,callback:function(a){t.$set(e,"paramValue",a)},expression:"item.paramValue"}})],1)}),0)],1)],1)])],1),t._v(" "),a("div",{staticClass:"dialog-footer teCen",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==this.$route.query.num,expression:"this.$route.query.num ==1"}],staticClass:"searchOne",attrs:{type:"info",disabled:!0}},[t._v("上 一 步")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1!==this.$route.query.num,expression:"this.$route.query.num !==1"}],staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){t.secondDialog=!0,t.thirdDialog=!1}}},[t._v("上 一 步")]),t._v(" "),a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.submitForm3("apiList3")}}},[t._v("下 一 步")]),t._v(" "),a("el-button",{staticClass:"amendBtnApi3 addOne",attrs:{type:"primary"},on:{click:function(e){t.amendFirst("thirdDialog"),t.amendInterfaceBtn()}}},[t._v("保存")]),t._v(" "),a("el-button",{staticClass:"amendBtnApi3s addOne",staticStyle:{display:"none"},attrs:{type:"primary",disabled:""},on:{click:function(e){t.amendFirst("thirdDialog"),t.amendInterfaceBtn()}}},[t._v("保存")])],1)],1),t._v(" "),a("el-dialog",{staticStyle:{margin:"60px 0 0 180px","margin-left":"180px"},attrs:{title:"修改API：",visible:t.fourDialog,modal:!1,size:"full","before-close":t.closeDialog},on:{"update:visible":function(e){t.fourDialog=e}}},[a("div",{staticClass:"apiListNavTwo"},[a("ul",[a("li",[t._v("基本信息")]),t._v(" "),a("li",[t._v("API请求")]),t._v(" "),a("li",[t._v("API后端服务")]),t._v(" "),a("li",{staticClass:"active"},[t._v("返回结果")])])]),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"console-panel-header"},[a("span",{staticClass:"panel-header"},[t._v("返回结果基础定义")])])]),t._v(" "),a("el-form",{ref:"apiList4",staticClass:"ml100 demo-ruleForm",attrs:{model:t.apiList}},[a("el-form-item",{attrs:{label:"返回类型","label-width":t.formLabelWidth}},[a("span",[t._v(t._s(1==t.apiList.callBackType?"JSON":""))])]),t._v(" "),a("el-form-item",{staticStyle:{position:"relative",display:"inline-block",width:"40%"},attrs:{label:"返回结果示例",prop:"callBackSuccessExample","label-width":t.formLabelWidth,rules:[{required:!0,message:"必填项",trigger:"blur"},{validator:t.successVal,trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea",rows:8},model:{value:t.apiList.callBackSuccessExample,callback:function(e){t.$set(t.apiList,"callBackSuccessExample",e)},expression:"apiList.callBackSuccessExample"}}),t._v(" "),a("span",{staticClass:"successWritePlaceDialog commonVaL",on:{click:t.successClcik}},[t._v(t._s(t.apiList.callBackSuccessExample))])],1),t._v(" "),!0!==this.$route.query.num?a("el-form-item",{staticStyle:{position:"relative",float:"right",width:"40%","margin-right":"15%"},attrs:{label:"失败返回示例",prop:"callBackFailExample","label-width":t.formLabelWidth,rules:[{validator:t.errorVal,trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea",rows:8},model:{value:t.apiList.callBackFailExample,callback:function(e){t.$set(t.apiList,"callBackFailExample",e)},expression:"apiList.callBackFailExample"}}),t._v(" "),a("span",{staticClass:"errorWritePlaceDialog commonVaL",on:{click:t.errorClcik}},[t._v(t._s(t.apiList.callBackFailExample))])],1):t._e(),t._v(" "),a("p",{staticStyle:{clear:"both"}}),t._v(" "),a("jsonData",{ref:"jsonDataRef",attrs:{apiList:t.apiList}})],1),t._v(" "),a("div",{staticClass:"dialog-footer teCen",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){t.thirdDialog=!0,t.fourDialog=!1,t.displayVal()}}},[t._v("上一步")]),t._v(" "),a("el-button",{staticClass:"amendBtnApi4 addOne",attrs:{type:"primary"},on:{click:function(e){t.amendFirst("fourDialog"),t.saveData("apiList4"),t.amendInterfaceBtn()}}},[t._v("保存")]),t._v(" "),a("el-button",{staticClass:"amendBtnApi4s addOne",staticStyle:{display:"none"},attrs:{type:"primary",disabled:""},on:{click:function(e){t.amendFirst("fourDialog"),t.saveData("apiList4"),t.amendInterfaceBtn()}}},[t._v("保存")])],1)],1)],1)])},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ipList",staticStyle:{background:"#ffffff",height:"100%"}},[a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w350",attrs:{placeholder:"请输入header进行查询"},model:{value:t.searcHeader,callback:function(e){t.searcHeader=e},expression:"searcHeader"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:function(e){return t.searchData()}}},[t._v("搜 索")]),t._v(" "),t.addName?a("el-button",{staticClass:"searchOne",attrs:{type:"primary addOne"},on:{click:function(e){t.creatIp=!0,t.titleText="新建"}}},[t._v("新 建")]):t._e()],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.tablegroup,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"",type:"index",label:"序号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"headerName",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"headerValue",label:"值",width:"400"}}),t._v(" "),a("el-table-column",{attrs:{prop:"headerLength",label:"长度"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"exportBtn",attrs:{href:"javascript:void(0)"}},[t.amendName?a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.amendIp(e.row)}}},[t._v("编辑")]):t._e(),t._v(" "),t.delName?a("el-button",{staticClass:"radiusBtn pubColor",attrs:{type:"text",size:"small"},on:{click:function(a){return t.delIp(e.row)}}},[t._v("删除")]):t._e()],1)]}}])})],1),t._v(" "),this.tablegroup.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum,"page-sizes":[10,20,30,40],"page-size":this.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{staticStyle:{top:"-5%"},attrs:{title:t.titleText,visible:t.creatIp,size:"tiny"},on:{"update:visible":function(e){t.creatIp=e}}},[a("el-form",{ref:"addGroupData",staticClass:"demo-ruleForm",attrs:{model:t.addGroupData}},[a("el-form-item",{attrs:{label:"名称：",prop:"name","label-width":t.formLabelWidth,rules:[{required:!0,message:"名称不能为空"}]}},[a("el-input",{staticClass:"w9000",model:{value:t.addGroupData.name,callback:function(e){t.$set(t.addGroupData,"name",e)},expression:"addGroupData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"值：",prop:"val","label-width":t.formLabelWidth,rules:[{required:!0,message:"值不能为空"}]}},[a("el-input",{staticClass:"w9000",model:{value:t.addGroupData.val,callback:function(e){t.$set(t.addGroupData,"val",e)},expression:"addGroupData.val"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"长度：",prop:"lenght","label-width":t.formLabelWidth,rules:[{required:!0,message:"长度不能为空"},{type:"number",message:"请输入数字"}]}},[a("el-input",{staticClass:"w9000",model:{value:t.addGroupData.lenght,callback:function(e){t.$set(t.addGroupData,"lenght",t._n(e))},expression:"addGroupData.lenght"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"用户：",prop:"user","label-width":t.formLabelWidth,rules:[{required:!0,message:"用户不能为空"}]}},["新建"==t.titleText?a("el-input",{staticClass:"w9000",model:{value:t.addGroupData.user,callback:function(e){t.$set(t.addGroupData,"user",e)},expression:"addGroupData.user"}}):t._e(),t._v(" "),"编辑"==t.titleText?a("el-input",{staticClass:"w9000",attrs:{disabled:""},model:{value:t.addGroupData.user,callback:function(e){t.$set(t.addGroupData,"user",e)},expression:"addGroupData.user"}}):t._e()],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){t.creatIp=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addIp("addGroupData")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"authorityMsg",staticStyle:{background:"#ffffff",position:"relative",height:"100%"}},[a("el-form",{staticClass:"search_form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"w250",attrs:{placeholder:"请输入appKey进行查询"},model:{value:t.searchAppKey,callback:function(e){t.searchAppKey=e},expression:"searchAppKey"}})],1),t._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择是否源接口"},model:{value:t.portAlt,callback:function(e){t.portAlt=e},expression:"portAlt"}},t._l(t.portAltOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1),t._v(" "),a("el-form-item",[a("el-input",{staticClass:"w250",attrs:{placeholder:"请输入分组名称进行查询"},model:{value:t.searchGroupName,callback:function(e){t.searchGroupName=e},expression:"searchGroupName"}})],1),t._v(" "),a("el-form-item",[a("el-input",{staticClass:"w250",attrs:{placeholder:"请输入接口名称进行查询"},model:{value:t.port,callback:function(e){t.port=e},expression:"port"}})],1),t._v(" "),a("el-form-item",[t.searchBtn?a("el-button",{staticClass:"searchOne",attrs:{type:"info"},on:{click:t.initData}},[t._v("搜 索")]):t._e(),t._v(" "),t.addBtn?a("el-button",{staticClass:"fr",staticStyle:{"margin-right":"100px"},attrs:{type:"primary addOne"},on:{click:t.addName}},[t._v("创建")]):t._e()],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","border-top":"8px solid #e6e6e6"},attrs:{data:t.tablegroup,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"id",label:"id"}}),t._v(" "),a("el-table-column",{attrs:{prop:"appKey",label:"appKey"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apiGroupName",label:"分组名称"}}),t._v(" "),a("el-table-column",{attrs:{label:"是否源接口"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.sourceFlag?a("span",[t._v("是")]):t._e(),t._v(" "),1==e.row.sourceFlag?a("span",[t._v("否")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"apiName",label:"接口名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dataConfig",label:"账号信息"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"exportBtn",attrs:{href:"javascript:void(0)"}},[a("span",{staticClass:"lookBtn bindColor",on:{click:function(a){return t.amendport(e.row)}}},[t._v("编辑")]),t._v(" "),a("span",{staticClass:"lookBtn bindColor",on:{click:function(a){return t.delport(e.$index,e.row)}}},[t._v("删除")])])]}}])})],1),t._v(" "),this.tablegroup.length<1?a("div",{staticClass:"teCen mt60"},[t._m(0),t._v(" "),a("span",[t._v("暂无数据")])]):t._e(),t._v(" "),a("div",{staticClass:"page",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"80px"},attrs:{"current-page":t.pageNum,"page-sizes":[10,20,30,40],"page-size":this.pageSize,layout:" sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.titleTab,visible:t.creataut,size:"tiny"},on:{"update:visible":function(e){t.creataut=e},close:function(t){}}},[a("el-form",{ref:"addPortForm",staticClass:"demo-ruleForm",attrs:{model:t.addPortForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"是否源接口：","label-width":t.formLabelWidth,prop:"sourceFlag",rules:[{required:!0,message:"源接口不能为空"}]}},[a("el-select",{staticClass:"w9000",attrs:{disabled:"编辑"==t.titleTab,placeholder:"请选择显示值"},model:{value:t.addPortForm.sourceFlag,callback:function(e){t.$set(t.addPortForm,"sourceFlag",e)},expression:"addPortForm.sourceFlag"}},[a("el-option",{key:0,attrs:{label:"是",value:0}}),t._v(" "),a("el-option",{key:1,attrs:{label:"否",value:1}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"分组：","label-width":t.formLabelWidth,prop:"apiGroupName",rules:[{required:!0,message:"分组不能为空"}]}},[a("el-select",{staticClass:"w9000",attrs:{disabled:"编辑"==t.titleTab,filterable:"",placeholder:"请选择显示值"},on:{"visible-change":t.slideListGroup,change:t.slideLabelGroup},model:{value:t.addPortForm.apiGroupName,callback:function(e){t.$set(t.addPortForm,"apiGroupName",e)},expression:"addPortForm.apiGroupName"}},t._l(t.groupNameOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1)],1),t._v(" "),1==t.addPortForm.sourceFlag?a("el-form-item",{attrs:{prop:"apiName",label:"接口名称：","label-width":t.formLabelWidth,rules:[{required:!0,message:"接口名称不能为空"}]}},[a("el-select",{staticClass:"w9000",attrs:{disabled:"编辑"==t.titleTab,filterable:"",placeholder:"请选择接口名称"},on:{"visible-change":t.slideListPort,change:t.slideLabel},model:{value:t.addPortForm.apiName,callback:function(e){t.$set(t.addPortForm,"apiName",e)},expression:"addPortForm.apiName"}},t._l(t.portOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})}),1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"appKey：","label-width":t.formLabelWidth,prop:"appKey",rules:[{required:!0,message:"appKey不能为空"}]}},[a("el-input",{staticClass:"w9000",attrs:{disabled:"编辑"==t.titleTab},model:{value:t.addPortForm.appKey,callback:function(e){t.$set(t.addPortForm,"appKey",e)},expression:"addPortForm.appKey"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"账号信息：","label-width":t.formLabelWidth,prop:"dataConfig",rules:[{required:!0,message:"账号信息不能为空"}]}},[a("el-input",{staticClass:"w9000",attrs:{type:"textarea",rows:4,"auto-complete":"off"},model:{value:t.addPortForm.dataConfig,callback:function(e){t.$set(t.addPortForm,"dataConfig",e)},expression:"addPortForm.dataConfig"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancelBtn",on:{click:function(e){return t.callOf("addPortForm")}}},[t._v("取 消")]),t._v(" "),a("el-button",{staticClass:"addOne",attrs:{type:"primary"},on:{click:function(e){return t.addaut("addPortForm")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("img",{attrs:{src:a(8)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weight"},t._l(t.subApisData,function(e){return a("div",[a("span",[t._v(t._s(e.weight))])])}),0)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"apiListNav"},[a("li",{class:{active:1==t.activeIndex}},[t._v("基本信息")]),t._v(" "),a("li",{class:{active:2==t.activeIndex}},[t._v("API请求")]),t._v(" "),a("li",{class:{active:3==t.activeIndex}},[t._v("API后端服务")]),t._v(" "),a("li",{class:{active:4==t.activeIndex}},[t._v("返回结果")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.changeDetailIndex},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},[a("el-tab-pane",{attrs:{label:"API定义",name:"1-1"}},["1-1"===t.activeIndex?a("prot-api-manage"):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"授权信息",name:"1-2"}},["1-2"===t.activeIndex?a("accredit-mes"):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"发布历史",name:"1-3"}},["1-3"===t.activeIndex?a("history"):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"调试API",name:"1-4"}},["1-4"===t.activeIndex?a("debug-api"):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"接口查询",name:"1-5"}},["1-5"===t.activeIndex?a("api-detail-num"):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"接口文档",name:"1-6"}},["1-6"===t.activeIndex?a("port-excel"):t._e()],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header"},[a("div",{staticClass:"page-header-content"},[a("div",[a("div",{staticClass:"page-header-content-box"},[t._m(0),t._v(" "),a("div",{staticClass:"page-header-content-right f-r"},[t._t("searchContent")],2)])])]),t._v(" "),a("div",{staticClass:"page-header-body",style:{height:"48px"}},[t._t("searchBody")],2)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"title"},[a("i",{staticClass:"el-icon-search"}),t._v("筛选条件")])}]}}],[636]);
//# sourceMappingURL=app.b6539a948f7a088e06e6.js.map
